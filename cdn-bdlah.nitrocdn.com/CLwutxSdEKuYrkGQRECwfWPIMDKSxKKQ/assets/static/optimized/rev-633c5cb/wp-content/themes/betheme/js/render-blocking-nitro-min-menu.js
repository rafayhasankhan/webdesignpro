(function(t){"use strict";t.fn.mfnMenu=function(e){var s=t(this);var l={addLast:false,arrows:false,delay:100,hoverClass:"hover",mobileInit:768};e=t.extend(l,e);var a=function(){t("li:has(ul)",s).addClass("submenu");t("li:has(ul)",s).append('<span class="menu-toggle"></span>');s.children("li:has( ul.mfn-megamenu )").addClass("mfn-megamenu-parent");t(".submenu ul li:last-child",s).addClass("last-item");if(e.addLast){t("> li:last-child",s).addClass("last").prev().addClass("last")}if(e.arrows){t("li ul li:has(ul) > a",s).append('<i class="menu-arrow icon-right-open"></i>')}};var i=function(){if(t(window).width()>=e.mobileInit){t("> li, ul:not(.mfn-megamenu) li",s).hover(function(){t(this).stop(true,true).addClass(e.hoverClass);t(this).children("ul").stop(true,true).fadeIn(e.delay)},function(){t(this).stop(true,true).removeClass(e.hoverClass);t(this).children("ul").stop(true,true).fadeOut(e.delay)})}else{t("li",s).unbind("hover");t("li > .menu-toggle",s).off("click").on("click",function(){var s=t(this).closest("li");if(s.hasClass(e.hoverClass)){s.removeClass(e.hoverClass).children("ul").stop(true,true).fadeOut(e.delay)}else{s.addClass(e.hoverClass).children("ul").stop(true,true).fadeIn(e.delay)}})}};t(window).bind("resize",i);var n=function(){a();i()};n()}})(jQuery);