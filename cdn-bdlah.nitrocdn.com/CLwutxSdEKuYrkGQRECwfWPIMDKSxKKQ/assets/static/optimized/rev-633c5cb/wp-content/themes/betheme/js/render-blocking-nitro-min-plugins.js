!function(m){m.fn.twentytwenty=function(h){var h=m.extend({default_offset_pct:.5,orientation:"horizontal"},h);return this.each(function(){var e=h.default_offset_pct,i=m(this),o=h.orientation,t="vertical"===o?"down":"left",n="vertical"===o?"up":"right";i.wrap("<div class='twentytwenty-wrapper twentytwenty-"+o+"'></div>"),i.append("<div class='twentytwenty-overlay'></div>");var r=i.find("img:first"),s=i.find("img:last");i.append("<div class='twentytwenty-handle'></div>");var a=i.find(".twentytwenty-handle");a.append("<span class='twentytwenty-"+t+"-arrow'></span>"),a.append("<span class='twentytwenty-"+n+"-arrow'></span>"),i.addClass("twentytwenty-container"),r.addClass("twentytwenty-before"),s.addClass("twentytwenty-after");var l=i.find(".twentytwenty-overlay");l.append("<div class='twentytwenty-before-label'></div>"),l.append("<div class='twentytwenty-after-label'></div>");var c=function(t){var e=r.width(),i=r.height();return{w:e+"px",h:i+"px",cw:t*e+"px",ch:t*i+"px"}},u=function(t){"vertical"===o?r.css("clip","rect(0,"+t.w+","+t.ch+",0)"):r.css("clip","rect(0,"+t.cw+","+t.h+",0)"),i.css("height",t.h)},p=function(t){var e=c(t);a.css("vertical"===o?"top":"left","vertical"===o?e.ch:e.cw),u(e)};m(window).on("resize.twentytwenty",function(t){p(e)});var d=0,f=0;a.on("movestart",function(t){(t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==o?t.preventDefault():(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===o&&t.preventDefault(),i.addClass("active"),d=i.offset().left,offsetY=i.offset().top,f=r.width(),imgHeight=r.height()}),a.on("moveend",function(t){i.removeClass("active")}),a.on("move",function(t){i.hasClass("active")&&(e="vertical"===o?(t.pageY-offsetY)/imgHeight:(t.pageX-d)/f,0>e&&(e=0),e>1&&(e=1),p(e))}),i.find("img").on("mousedown",function(t){t.preventDefault()}),m(window).trigger("resize.twentytwenty")})}}(jQuery);!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(o,n){function r(t){function e(t){o?(i(),N(e),n=!0,o=!1):n=!1}var i=t,o=!1,n=!1;this.kick=function(t){o=!0,n||e()},this.end=function(t){var e=i;t&&(n?(i=o?function(){e(),t()}:t,o=!0):t())}}function t(){return!0}function s(){return!1}function e(t){t.preventDefault()}function i(t){W[t.target.tagName.toLowerCase()]||t.preventDefault()}function a(t){return 1===t.which&&!t.ctrlKey&&!t.altKey}function l(t,e){var i,o;if(t.identifiedTouch)return t.identifiedTouch(e);for(i=-1,o=t.length;++i<o;)if(t[i].identifier===e)return t[i]}function c(t,e){var i=l(t.changedTouches,e.identifier);if(i&&(i.pageX!==e.pageX||i.pageY!==e.pageY))return i}function u(t){var e;a(t)&&(e={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},O(document,H.move,p,e),O(document,H.cancel,d,e))}function p(t){var e=t.data;y(t,e,t,f)}function d(t){f()}function f(){R(document,H.move,p),R(document,H.cancel,d)}function h(t){var e,i;W[t.target.tagName.toLowerCase()]||(e=t.changedTouches[0],i={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:t.timeStamp,identifier:e.identifier},O(document,A.move+"."+e.identifier,m,i),O(document,A.cancel+"."+e.identifier,g,i))}function m(t){var e=t.data,i=c(t,e);i&&y(t,e,i,v)}function g(t){var e=t.data,i=l(t.changedTouches,e.identifier);i&&v(e.identifier)}function v(t){R(document,"."+t,m),R(document,"."+t,g)}function y(t,e,i,o){var n=i.pageX-e.startX,r=i.pageY-e.startY;j*j>n*n+r*r||w(t,e,i,n,r,o)}function _(){return this._handled=t,!1}function b(t){t._handled()}function w(t,e,i,o,n,r){var s,a;e.target;s=t.targetTouches,a=t.timeStamp-e.timeStamp,e.type="movestart",e.distX=o,e.distY=n,e.deltaX=o,e.deltaY=n,e.pageX=i.pageX,e.pageY=i.pageY,e.velocityX=o/a,e.velocityY=n/a,e.targetTouches=s,e.finger=s?s.length:1,e._handled=_,e._preventTouchmoveDefault=function(){t.preventDefault()},D(e.target,e),r(e.identifier)}function x(t){var e=t.data.timer;t.data.touch=t,t.data.timeStamp=t.timeStamp,e.kick()}function S(t){var e=t.data.event,i=t.data.timer;z(),P(e,i,function(){setTimeout(function(){R(e.target,"click",s)},0)})}function z(t){R(document,H.move,x),R(document,H.end,S)}function T(t){var e=t.data.event,i=t.data.timer,o=c(t,e);o&&(t.preventDefault(),e.targetTouches=t.targetTouches,t.data.touch=o,t.data.timeStamp=t.timeStamp,i.kick())}function k(t){var e=t.data.event,i=t.data.timer,o=l(t.changedTouches,e.identifier);o&&($(e),P(e,i))}function $(t){R(document,"."+t.identifier,T),R(document,"."+t.identifier,k)}function I(t,e,i,o){var n=i-t.timeStamp;t.type="move",t.distX=e.pageX-t.startX,t.distY=e.pageY-t.startY,t.deltaX=e.pageX-t.pageX,t.deltaY=e.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/n,t.velocityY=.3*t.velocityY+.7*t.deltaY/n,t.pageX=e.pageX,t.pageY=e.pageY}function P(t,e,i){e.end(function(){return t.type="moveend",D(t.target,t),i&&i()})}function C(t,e,i){return O(this,"movestart.move",b),!0}function E(t){return R(this,"dragstart drag",e),R(this,"mousedown touchstart",i),R(this,"movestart",b),!0}function M(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(O(this,"dragstart."+t.guid+" drag."+t.guid,e,n,t.selector),O(this,"mousedown."+t.guid,i,n,t.selector))}function L(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(R(this,"dragstart."+t.guid+" drag."+t.guid),R(this,"mousedown."+t.guid))}var j=6,O=o.event.add,R=o.event.remove,D=function(t,e,i){o.event.trigger(e,i,t)},N=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(function(){t()},25)}}(),W={textarea:!0,input:!0,select:!0,button:!0},H={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},A={move:"touchmove",cancel:"touchend",end:"touchend"};o.event.special.movestart={setup:C,teardown:E,add:M,remove:L,_default:function(e){function t(t){I(i,o.touch,o.timeStamp),D(e.target,i)}var i,o;e._handled()&&(i={target:e.target,startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,timeStamp:e.timeStamp,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger},o={event:i,timer:new r(t),touch:n,timeStamp:n},e.identifier===n?(O(e.target,"click",s),O(document,H.move,x,o),O(document,H.end,S,o)):(e._preventTouchmoveDefault(),O(document,A.move+"."+e.identifier,T,o),O(document,A.end+"."+e.identifier,k,o)))}},o.event.special.move={setup:function(){O(this,"movestart.move",o.noop)},teardown:function(){R(this,"movestart.move",o.noop)}},o.event.special.moveend={setup:function(){O(this,"movestart.moveend",o.noop)},teardown:function(){R(this,"movestart.moveend",o.noop)}},O(document,"mousedown.move",u),O(document,"touchstart.move",h),"function"==typeof Array.prototype.indexOf&&!function(t,e){for(var i=["changedTouches","targetTouches"],o=i.length;o--;)-1===t.event.props.indexOf(i[o])&&t.event.props.push(i[o])}(o)});!function(t,e){"object"==typeof exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define("EasyPieChart",["jquery"],e):e(t.jQuery)}(this,function(i){var s=function(t,s){var i,e=document.createElement("canvas");"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(e);var n=e.getContext("2d");e.width=e.height=s.size,t.appendChild(e);var o=1;window.devicePixelRatio>1&&(o=window.devicePixelRatio,e.style.width=e.style.height=[s.size,"px"].join(""),e.width=e.height=s.size*o,n.scale(o,o)),n.translate(s.size/2,s.size/2),n.rotate((-.5+s.rotate/180)*Math.PI);var r=(s.size-s.lineWidth)/2;s.scaleColor&&s.scaleLength&&(r-=s.scaleLength+2),Date.now=Date.now||function(){return+new Date};var a=function(t,e,i){i=Math.min(Math.max(-1,i||0),1);var o=0>=i?!0:!1;n.beginPath(),n.arc(0,0,r,0,2*Math.PI*i,o),n.strokeStyle=t,n.lineWidth=e,n.stroke()},l=function(){var t,e,i=24;n.lineWidth=1,n.fillStyle=s.scaleColor,n.save();for(var i=24;i>0;--i)0===i%6?(e=s.scaleLength,t=0):(e=.6*s.scaleLength,t=s.scaleLength-e),n.fillRect(-s.size/2+t,0,e,1),n.rotate(Math.PI/12);n.restore()},c=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),u=function(){s.scaleColor&&l(),s.trackColor&&a(s.trackColor,s.lineWidth,1)};this.clear=function(){n.clearRect(s.size/-2,s.size/-2,s.size,s.size)},this.draw=function(t){s.scaleColor||s.trackColor?n.getImageData&&n.putImageData?i?n.putImageData(i,0,0):(u(),i=n.getImageData(0,0,s.size*o,s.size*o)):(this.clear(),u()):this.clear(),n.lineCap=s.lineCap;var e;e="function"==typeof s.barColor?s.barColor(t):s.barColor,a(e,s.lineWidth,t/100)}.bind(this),this.animate=function(i,o){var n=Date.now();s.onStart(i,o);var r=function(){var t=Math.min(Date.now()-n,s.animate),e=s.easing(this,t,i,o-i,s.animate);this.draw(e),s.onStep(i,o,e),t>=s.animate?s.onStop(i,o):c(r)}.bind(this);c(r)}.bind(this)},o=function(e,i){var o={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:1e3,easing:function(t,e,i,o,n){return e/=n/2,1>e?o/2*e*e+i:-o/2*(--e*(e-2)-1)+i},onStart:function(){},onStep:function(){},onStop:function(){}};if("undefined"!=typeof s)o.renderer=s;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");o.renderer=SVGRenderer}var n={},r=0,t=function(){this.el=e,this.options=n;for(var t in o)o.hasOwnProperty(t)&&(n[t]=i&&"undefined"!=typeof i[t]?i[t]:o[t],"function"==typeof n[t]&&(n[t]=n[t].bind(this)));n.easing="string"==typeof n.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[n.easing])?jQuery.easing[n.easing]:o.easing,this.renderer=new n.renderer(e,n),this.renderer.draw(r),e.dataset&&e.dataset.percent?this.update(parseFloat(e.dataset.percent)):e.getAttribute&&e.getAttribute("data-percent")&&this.update(parseFloat(e.getAttribute("data-percent")))}.bind(this);this.update=function(t){return t=parseFloat(t),n.animate?this.renderer.animate(r,t):this.renderer.draw(t),r=t,this}.bind(this),t()};i.fn.easyPieChart=function(e){return this.each(function(){var t;i.data(this,"easyPieChart")||(t=i.extend({},e,i(this).data()),i.data(this,"easyPieChart",new o(this,t)))})}});(function(i){i.fn.downCount=function(t,m){function e(){var t=new Date(g.date),e=y();var i=t-e;if(i<0){clearInterval(_);if(m&&typeof m==="function")m();return}var o=1e3,n=o*60,r=n*60,s=r*24;var a=Math.floor(i/s),l=Math.floor(i%s/r),c=Math.floor(i%r/n),u=Math.floor(i%n/o);a=String(a).length>=2?a:"0"+a;l=String(l).length>=2?l:"0"+l;c=String(c).length>=2?c:"0"+c;u=String(u).length>=2?u:"0"+u;var p=a===1?"day":"days",d=l===1?"hour":"hours",f=c===1?"minute":"minutes",h=u===1?"second":"seconds";v.find(".days").text(a);v.find(".hours").text(l);v.find(".minutes").text(c);v.find(".seconds").text(u);v.find(".days_ref").text(p);v.find(".hours_ref").text(d);v.find(".minutes_ref").text(f);v.find(".seconds_ref").text(h)}var g=i.extend({date:null,offset:null},t);if(!g.date){i.error("Date is not defined.")}if(!Date.parse(g.date)){i.error("Incorrect date format, it should look like this, 12/24/2012 12:00:00.")}var v=this;var y=function(){var t=new Date;var e=t.getTime()+t.getTimezoneOffset()*6e4;var i=new Date(e+36e5*g.offset);return i};var _=setInterval(e,1e3)}})(jQuery);!function(E){E.fn.extend({BlackAndWhite:function(t){"use strict";var e=this,i=E.extend({hoverEffect:!0,webworkerPath:!1,invertHoverEffect:!1,speed:500,onImageReady:null,intensity:1},t),o=i.hoverEffect,n=i.webworkerPath,s=i.invertHoverEffect,u="number"==typeof i.intensity&&i.intensity<1&&i.intensity>0?i.intensity:1,r=E.isPlainObject(i.speed)?i.speed.fadeIn:i.speed,a=E.isPlainObject(i.speed)?i.speed.fadeOut:i.speed,l=E(window),c=".BlackAndWhite",p=(document.all&&!window.opera&&window.XMLHttpRequest?!0:!1," -webkit- -moz- -o- -ms- ".split(" ")),d={},f=function(t){if(d[t]||""===d[t])return d[t]+t;var e=document.createElement("div"),i=["","Moz","Webkit","O","ms","Khtml"];for(var o in i)if("undefined"!=typeof e.style[i[o]+t])return d[t]=i[o],i[o]+t;return t.toLowerCase()},h=function(){var t=document.createElement("div");return t.style.cssText=p.join("filter:blur(2px); "),!!t.style.length&&(void 0===document.documentMode||document.documentMode>9)}(),m=!!document.createElement("canvas").getContext,g=function(){return"undefined"!=typeof Worker?!0:!1}(),v=f("Filter"),y=[],_=g&&n?new Worker(n+"BnWWorker.js"):!1,b=function(t){E(t.currentTarget).find(".BWfade").stop(!0,!0).animate({opacity:s?0:1},a)},w=function(t){E(t.currentTarget).find(".BWfade").stop(!0,!0).animate({opacity:s?1:0},r)},x=function(t){"function"==typeof i.onImageReady&&i.onImageReady(t)},S=function(t){_&&m&&!h&&!t&&z()},z=function(){return y.length?(_.postMessage({imgData:y[0].imageData,intensity:u}),void(_.onmessage=function(t){y[0].ctx.putImageData(t.data,0,0),x(y[0].img),y.splice(0,1),z()})):(_.terminate&&_.terminate(),void(_.close&&_.close()))},T=function(t){return t.complete||"undefined"!=typeof t.naturalWidth&&t.naturalWidth},k=function(t,e,i,o){var n=e.getContext("2d"),r=0;n.drawImage(t,0,0,i,o);var s=n.getImageData(0,0,i,o),a=s.data,l=a.length;if(_)y.push({imageData:s,ctx:n,img:t});else{for(;l>r;r+=4){var c=.3*a[r]+.59*a[r+1]+.11*a[r+2];a[r]=~~(c*u+a[r]*(1-u)),a[r+1]=~~(c*u+a[r+1]*(1-u)),a[r+2]=~~(c*u+a[r+2]*(1-u))}n.putImageData(s,0,0),x(t)}},$=function(t,e){var i,o=t[0],n=(o.src,t.position()),r={top:n.top,left:n.left,position:"absolute","-webkit-transform":"translate3d(0,0,0)",opacity:s?0:1};o.crossOrigin="anonymous",m&&!h?(i=E('<canvas width="'+o.naturalWidth+'" height="'+o.naturalHeight+'" class="BWfade"></canvas>'),r.width=t.width(),r.height=t.height(),k(o,i.get(0),o.naturalWidth,o.naturalHeight)):(m?r[v]="grayscale("+100*u+"%)":r.filter="progid:DXImageTransform.Microsoft.BasicImage(grayscale=1)",i=t.clone().addClass("BWFilter BWfade"),x(o)),i.css(r).prependTo(e),!E.support.opacity&&s&&i.animate({opacity:0},0)},I=function(){e.each(function(t,e){var i=E(e).find("img"),o=E(i).width(),n=E(i).height();E(this).find("canvas").css({width:o,height:n})})},P=function(){var n=e.find("img").filter(function(){return!E(this).data("_b&w")}).length;e.each(function(t,e){var i=E(e),o=i.find("img");o.data("_b&w")||(T(o[0])?(n--,$(o,i)):o.on("load",function(){return o.data("_b&w_loaded")||!o[0].complete?void setTimeout(function(){o.load()},20):($(o,i),o.data("_b&w_loaded",!0),n--,void S(n))}).load(),o.data("_b&w",!0))}),S(n),o&&e.unbind(c).on("mouseleave"+c,b).on("mouseenter"+c,w),m&&!h&&l.unbind(c).on("resize"+c+" orientationchange"+c,I)},C=function(){e.off(c),l.off(c)};return P(),{destroy:C}}})}(jQuery);(function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()})(this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},o=i[t]=i[t]||[];return-1==o.indexOf(e)&&o.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},o=i[t]=i[t]||[];return o[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var o=i.indexOf(e);return-1!=o&&i.splice(o,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var o=0,n=i[o];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];n;){var s=r&&r[n];s&&(this.off(t,n),delete r[n]),n.apply(this,e),o+=s?0:1,n=i[o]}return this}},t}),function(e,i){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter)}(window,function(e,t){function o(t,e){for(var i in e)t[i]=e[i];return t}function n(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function r(t,e,i){return this instanceof r?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=n(t),this.options=o({},this.options),"function"==typeof e?i=e:o(this.options,e),i&&this.on("always",i),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(function(){this.check()}.bind(this))):new r(t,e,i)}function i(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var a=e.jQuery,l=e.console;r.prototype=Object.create(t.prototype),r.prototype.options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var i=t.querySelectorAll("img"),o=0;o<i.length;o++){var n=i[o];this.addImage(n)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(o=0;o<r.length;o++){var s=r[o];this.addElementBackgroundImages(s)}}}};var c={1:!0,9:!0,11:!0};return r.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,o=i.exec(e.backgroundImage);null!==o;){var n=o&&o[2];n&&this.addBackground(n,t),o=i.exec(e.backgroundImage)}},r.prototype.addImage=function(t){var e=new i(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var i=new s(t,e);this.images.push(i)},r.prototype.check=function(){function e(t,e,i){setTimeout(function(){o.progress(t,e,i)})}var o=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},r.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},i.prototype=Object.create(t.prototype),i.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},i.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(i.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},r.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(a=t,a.fn.imagesLoaded=function(t,e){var i=new r(this,t,e);return i.jqDeferred.promise(a(this))})},r.makeJQueryPlugin(),r});(function(t){function e(){}function i(c){function i(t){t.prototype.option||(t.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))})}function o(a,l){c.fn[a]=function(e){if("string"==typeof e){for(var t=p.call(arguments,1),i=0,o=this.length;o>i;i++){var n=this[i],r=c.data(n,a);if(r)if(c.isFunction(r[e])&&"_"!==e.charAt(0)){var s=r[e].apply(r,t);if(void 0!==s)return s}else u("no such method '"+e+"' for "+a+" instance");else u("cannot call methods on "+a+" prior to initialization; "+"attempted to call '"+e+"'")}return this}return this.each(function(){var t=c.data(this,a);t?(t.option(e),t._init()):(t=new l(this,e),c.data(this,a,t))})}}if(c){var u="undefined"==typeof console?e:function(t){console.error(t)};return c.bridget=function(t,e){i(e),o(t,e)},c.bridget}}var p=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):"object"==typeof exports?i(require("jquery")):i(t.jQuery)})(window),function(i){function o(t){var e=i.event;return e.target=e.target||e.srcElement||t,e}var t=document.documentElement,e=function(){};t.addEventListener?e=function(t,e,i){t.addEventListener(e,i,!1)}:t.attachEvent&&(e=function(e,t,i){e[t+i]=i.handleEvent?function(){var t=o(e);i.handleEvent.call(i,t)}:function(){var t=o(e);i.call(e,t)},e.attachEvent("on"+t,e[t+i])});var n=function(){};t.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:t.detachEvent&&(n=function(e,i,o){e.detachEvent("on"+i,e[i+o]);try{delete e[i+o]}catch(t){e[i+o]=void 0}});var r={bind:e,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:i.eventie=r}(this),function(e){function o(t){"function"==typeof t&&(o.isReady?t():s.push(t))}function i(t){var e="readystatechange"===t.type&&"complete"!==r.readyState;o.isReady||e||n()}function n(){o.isReady=!0;for(var t=0,e=s.length;e>t;t++){var i=s[t];i()}}function t(t){return"complete"===r.readyState?n():(t.bind(r,"DOMContentLoaded",i),t.bind(r,"readystatechange",i),t.bind(e,"load",i)),o}var r=e.document,s=[];o.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],t):"object"==typeof exports?module.exports=t(require("eventie")):e.docReady=t(e.eventie)}(window),function(){function t(){}function r(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function e(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,o=this,n=o.EventEmitter;i.getListeners=function(t){var e,i,o=this._getEvents();if(t instanceof RegExp){e={};for(i in o)o.hasOwnProperty(i)&&t.test(i)&&(e[i]=o[i])}else e=o[t]||(o[t]=[]);return e},i.flattenListeners=function(t){var e,i=[];for(e=0;t.length>e;e+=1)i.push(t[e].listener);return i},i.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},i.addListener=function(t,e){var i,o=this.getListenersAsObject(t),n="object"==typeof e;for(i in o)o.hasOwnProperty(i)&&-1===r(o[i],e)&&o[i].push(n?e:{listener:e,once:!1});return this},i.on=e("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=e("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,e){var i,o,n=this.getListenersAsObject(t);for(o in n)n.hasOwnProperty(o)&&(i=r(n[o],e),-1!==i&&n[o].splice(i,1));return this},i.off=e("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,i){var o,n,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(o=i.length;o--;)r.call(this,e,i[o]);else for(o in e)e.hasOwnProperty(o)&&(n=e[o])&&("function"==typeof n?r.call(this,o,n):s.call(this,o,n));return this},i.removeEvent=function(t){var e,i=typeof t,o=this._getEvents();if("string"===i)delete o[t];else if(t instanceof RegExp)for(e in o)o.hasOwnProperty(e)&&t.test(e)&&delete o[e];else delete this._events;return this},i.removeAllListeners=e("removeEvent"),i.emitEvent=function(t,e){var i,o,n,r,s=this.getListenersAsObject(t);for(n in s)if(s.hasOwnProperty(n))for(o=s[n].length;o--;)i=s[n][o],i.once===!0&&this.removeListener(t,i.listener),r=i.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},i.trigger=e("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=n,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:o.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof r[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,i=0,o=n.length;o>i;i++)if(e=n[i]+t,"string"==typeof r[e])return e}}var n="Webkit Moz ms Ms O".split(" "),r=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(s){function S(t){var e=parseFloat(t),i=-1===t.indexOf("%")&&!isNaN(e);return i&&e}function t(){}function z(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=T.length;i>e;e++){var o=T[e];t[o]=0}return t}function e(n){function y(){if(!r){r=!0;var e=s.getComputedStyle;if(b=function(){var i=e?function(t){return e(t,null)}:function(t){return t.currentStyle};return function(t){var e=i(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? "+"See http://bit.ly/getsizebug1"),e}}(),w=n("boxSizing")){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[w]="border-box";var i=document.body||document.documentElement;i.appendChild(t);var o=b(t);x=200===S(o.width),i.removeChild(t)}}}function t(t){if(y(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=b(t);if("none"===e.display)return z();var i={};i.width=t.offsetWidth,i.height=t.offsetHeight;for(var o=i.isBorderBox=!(!w||!e[w]||"border-box"!==e[w]),n=0,r=T.length;r>n;n++){var s=T[n],a=e[s];a=_(t,a);var l=parseFloat(a);i[s]=isNaN(l)?0:l}var c=i.paddingLeft+i.paddingRight,u=i.paddingTop+i.paddingBottom,p=i.marginLeft+i.marginRight,d=i.marginTop+i.marginBottom,f=i.borderLeftWidth+i.borderRightWidth,h=i.borderTopWidth+i.borderBottomWidth,m=o&&x,g=S(e.width);g!==!1&&(i.width=g+(m?0:c+f));var v=S(e.height);return v!==!1&&(i.height=v+(m?0:u+h)),i.innerWidth=i.width-(c+f),i.innerHeight=i.height-(u+h),i.outerWidth=i.width+p,i.outerHeight=i.height+d,i}}function _(t,e){if(s.getComputedStyle||-1===e.indexOf("%"))return e;var i=t.style,o=i.left,n=t.runtimeStyle,r=n&&n.left;return r&&(n.left=t.currentStyle.left),i.left=e,e=i.pixelLeft,i.left=o,r&&(n.left=r),e}var b,w,x,r=!1;return t}var a="undefined"==typeof console?t:function(t){console.error(t)},T=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],e):"object"==typeof exports?module.exports=e(require("desandro-get-style-property")):s.getSize=e(s.getStyleProperty)}(window),function(r){function i(t,e){return t[n](e)}function s(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function t(t,e){s(t);for(var i=t.parentNode.querySelectorAll(e),o=0,n=i.length;n>o;o++)if(i[o]===t)return!0;return!1}function e(t,e){return s(t),i(t,e)}var o,n=function(){if(r.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],e=0,i=t.length;i>e;e++){var o=t[e],n=o+"MatchesSelector";if(r[n])return n}}();if(n){var a=document.createElement("div"),l=i(a,"div");o=l?i:e}else o=t;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return o}):"object"==typeof exports?module.exports=o:window.matchesSelector=o}(Element.prototype),function(t){function m(t,e){for(var i in e)t[i]=e[i];return t}function g(t){for(var e in t)return!1;return e=null,!0}function v(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function e(t,e,r){function i(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var o=r("transition"),n=r("transform"),s=o&&n,a=!!r("perspective"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[o],c=["transform","transition","transitionDuration","transitionProperty"],u=function(){for(var t={},e=0,i=c.length;i>e;e++){var o=c[e],n=r(o);n&&n!==o&&(t[o]=n)}return t}();m(i.prototype,t.prototype),i.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.getSize=function(){this.size=e(this.element)},i.prototype.css=function(t){var e=this.element.style;for(var i in t){var o=u[i]||i;e[o]=t[i]}},i.prototype.getPosition=function(){var t=y(this.element),e=this.layout.options,i=e.isOriginLeft,o=e.isOriginTop,n=parseInt(t[i?"left":"right"],10),r=parseInt(t[o?"top":"bottom"],10);n=isNaN(n)?0:n,r=isNaN(r)?0:r;var s=this.layout.size;n-=i?s.paddingLeft:s.paddingRight,r-=o?s.paddingTop:s.paddingBottom,this.position.x=n,this.position.y=r},i.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={};e.isOriginLeft?(i.left=this.position.x+t.paddingLeft+"px",i.right=""):(i.right=this.position.x+t.paddingRight+"px",i.left=""),e.isOriginTop?(i.top=this.position.y+t.paddingTop+"px",i.bottom=""):(i.bottom=this.position.y+t.paddingBottom+"px",i.top=""),this.css(i),this.emitEvent("layout",[this])};var p=a?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};i.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,o=this.position.y,n=parseInt(t,10),r=parseInt(e,10),s=n===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return this.layoutPosition(),void 0;var a=t-i,l=e-o,c={},u=this.layout.options;a=u.isOriginLeft?a:-a,l=u.isOriginTop?l:-l,c.transform=p(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},i.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},i.prototype.moveTo=s?i.prototype._transitionTo:i.prototype.goTo,i.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},i.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},i.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return this._nonTransition(t),void 0;var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var o=this.element.offsetHeight;o=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var d=n&&v(n)+",opacity";i.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:d,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(l,this,!1))},i.prototype.transition=i.prototype[o?"_transition":"_nonTransition"],i.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},i.prototype.onotransitionend=function(t){this.ontransitionend(t)};var f={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};i.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=f[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],g(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd){var o=e.onEnd[i];o.call(this),delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])}},i.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(l,this,!1),this.isTransitioning=!1},i.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var h={transitionProperty:"",transitionDuration:""};return i.prototype.removeTransitionStyles=function(){this.css(h)},i.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},i.prototype.remove=function(){if(!o||!parseFloat(this.layout.options.transitionDuration))return this.removeElem(),void 0;var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},i.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},i.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},i.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i}var i=t.getComputedStyle,y=i?function(t){return i(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],e):"object"==typeof exports?module.exports=e(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(t.Outlayer={},t.Outlayer.Item=e(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(l){function p(t,e){for(var i in e)t[i]=e[i];return t}function n(t){return"[object Array]"===e.call(t)}function u(t){var e=[];if(n(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,o=t.length;o>i;i++)e.push(t[i]);else e.push(t);return e}function d(t,e){var i=o(e,t);-1!==i&&e.splice(i,1)}function f(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}function t(t,e,i,r,c,o){function n(t,e){if("string"==typeof t&&(t=h.querySelector(t)),!t||!y(t))return m&&m.error("Bad "+this.constructor.namespace+" element: "+t),void 0;this.element=t,this.options=p({},this.constructor.defaults),this.option(e);var i=++s;this.element.outlayerGUID=i,a[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var s=0,a={};return n.namespace="outlayer",n.Item=o,n.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},p(n.prototype,i.prototype),n.prototype.option=function(t){p(this.options,t)},n.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),p(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},n.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},n.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,o=[],n=0,r=e.length;r>n;n++){var s=e[n],a=new i(s,this);o.push(a)}return o},n.prototype._filterFindItemElements=function(t){t=u(t);for(var e=this.options.itemSelector,i=[],o=0,n=t.length;n>o;o++){var r=t[o];if(y(r))if(e){c(r,e)&&i.push(r);for(var s=r.querySelectorAll(e),a=0,l=s.length;l>a;a++)i.push(s[a])}else i.push(r)}return i},n.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},n.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},n.prototype._init=n.prototype.layout,n.prototype._resetLayout=function(){this.getSize()},n.prototype.getSize=function(){this.size=r(this.element)},n.prototype._getMeasurement=function(t,e){var i,o=this.options[t];o?("string"==typeof o?i=this.element.querySelector(o):y(o)&&(i=o),this[t]=i?r(i)[e]:o):this[t]=0},n.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},n.prototype._getItemsForLayout=function(t){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i];n.isIgnored||e.push(n)}return e},n.prototype._layoutItems=function(t,e){function i(){o.emitEvent("layoutComplete",[o,t])}var o=this;if(!t||!t.length)return i(),void 0;this._itemsOn(t,"layout",i);for(var n=[],r=0,s=t.length;s>r;r++){var a=t[r],l=this._getItemLayoutPosition(a);l.item=a,l.isInstant=e||a.isLayoutInstant,n.push(l)}this._processLayoutQueue(n)},n.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},n.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var o=t[e];this._positionItem(o.item,o.x,o.y,o.isInstant)}},n.prototype._positionItem=function(t,e,i,o){o?t.goTo(e,i):t.moveTo(e,i)},n.prototype._postLayout=function(){this.resizeContainer()},n.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},n.prototype._getContainerSize=v,n.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},n.prototype._itemsOn=function(t,e,i){function o(){return n++,n===r&&i.call(s),!0}for(var n=0,r=t.length,s=this,a=0,l=t.length;l>a;a++){var c=t[a];c.on(e,o)}},n.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},n.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},n.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var o=t[e];this.ignore(o)}}},n.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var o=t[e];d(o,this.stamps),this.unignore(o)}},n.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=u(t)):void 0},n.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},n.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},n.prototype._manageStamp=v,n.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=r(t),n={left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom};return n},n.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.prototype.bindResize=function(){this.isResizeBound||(t.bind(l,"resize",this),this.isResizeBound=!0)},n.prototype.unbindResize=function(){this.isResizeBound&&t.unbind(l,"resize",this),this.isResizeBound=!1},n.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},n.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},n.prototype.needsResizeLayout=function(){var t=r(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},n.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},n.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},n.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},n.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var o=t[i];o.reveal()}},n.prototype.hide=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var o=t[i];o.hide()}},n.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var o=this.items[e];if(o.element===t)return o}},n.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i],r=this.getItem(n);r&&e.push(r)}return e}},n.prototype.remove=function(t){t=u(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var i=0,o=e.length;o>i;i++){var n=e[i];n.remove(),d(n,this.items)}}},n.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++){var o=this.items[e];o.destroy()}this.unbindResize();var n=this.element.outlayerGUID;delete a[n],delete this.element.outlayerGUID,g&&g.removeData(this.element,this.constructor.namespace)},n.data=function(t){var e=t&&t.outlayerGUID;return e&&a[e]},n.create=function(c,t){function u(){n.apply(this,arguments)}return Object.create?u.prototype=Object.create(n.prototype):p(u.prototype,n.prototype),u.prototype.constructor=u,u.defaults=p({},n.defaults),p(u.defaults,t),u.prototype.settings={},u.namespace=c,u.data=n.data,u.Item=function(){o.apply(this,arguments)},u.Item.prototype=new o,e(function(){for(var t=f(c),e=h.querySelectorAll(".js-"+t),i="data-"+t+"-options",o=0,n=e.length;n>o;o++){var r,s=e[o],a=s.getAttribute(i);try{r=a&&JSON.parse(a)}catch(t){m&&m.error("Error parsing "+i+" on "+s.nodeName.toLowerCase()+(s.id?"#"+s.id:"")+": "+t);continue}var l=new u(s,r);g&&g.data(s,c,l)}}),g&&g.bridget&&g.bridget(c,u),u},n.Item=o,n}var h=l.document,m=l.console,g=l.jQuery,v=function(){},e=Object.prototype.toString,y="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},o=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],t):"object"==typeof exports?module.exports=t(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):l.Outlayer=t(l.eventie,l.docReady,l.EventEmitter,l.getSize,l.matchesSelector,l.Outlayer.Item)}(window),function(t){function e(t){function e(){t.Item.apply(this,arguments)}e.prototype=new t.Item,e.prototype._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var o=e[i];this.sortData[i]=o(this.element,this)}}};var i=e.prototype.destroy;return e.prototype.destroy=function(){i.apply(this,arguments),this.css({display:""})},e}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window),function(t){function e(i,r){function s(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){function t(t){return function(){return r.prototype[t].apply(this.isotope,arguments)}}for(var e=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],i=0,o=e.length;o>i;i++){var n=e[i];s.prototype[n]=t(n)}}(),s.prototype.needsVerticalResizeLayout=function(){var t=i(this.isotope.element),e=this.isotope.size&&t;return e&&t.innerHeight!==this.isotope.size.innerHeight},s.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},s.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},s.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},s.prototype.getSegmentSize=function(t,e){var i=t+e,o="outer"+e;if(this._getMeasurement(i,o),!this[i]){var n=this.getFirstItemSize();this[i]=n&&n[o]||this.isotope.size["inner"+e]}},s.prototype.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&i(t.element)},s.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},s.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},s.modes={},s.create=function(t,e){function i(){s.apply(this,arguments)}return i.prototype=new s,e&&(i.options=e),i.prototype.namespace=t,s.modes[t]=i,i},s}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window),function(t){function e(t,c){var e=t.create("masonry");return e.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},e.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],e=t&&t.element;this.columnWidth=e&&c(e).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},e.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,e=c(t);this.containerWidth=e&&e.innerWidth},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",o=Math[i](t.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var n=this._getColGroup(o),r=Math.min.apply(Math,n),s=p(n,r),a={x:this.columnWidth*s,y:r},l=r+t.size.outerHeight,c=this.cols+1-n.length,u=0;c>u;u++)this.colYs[s+u]=l;return a},e.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,o=0;i>o;o++){var n=this.colYs.slice(o,o+t);e[o]=Math.max.apply(Math,n)}return e},e.prototype._manageStamp=function(t){var e=c(t),i=this._getElementOffset(t),o=this.options.isOriginLeft?i.left:i.right,n=o+e.outerWidth,r=Math.floor(o/this.columnWidth);r=Math.max(0,r);var s=Math.floor(n/this.columnWidth);s-=n%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var a=(this.options.isOriginTop?i.top:i.bottom)+e.outerHeight,l=r;s>=l;l++)this.colYs[l]=Math.max(a,this.colYs[l])},e.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},e.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},e.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},e}var p=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++){var n=t[i];if(n===e)return i}return-1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window),function(t){function l(t,e){for(var i in e)t[i]=e[i];return t}function e(t,e){var i=t.create("masonry"),o=i.prototype._getElementOffset,n=i.prototype.layout,r=i.prototype._getMeasurement;l(i.prototype,e.prototype),i.prototype._getElementOffset=o,i.prototype.layout=n,i.prototype._getMeasurement=r;var s=i.prototype.measureColumns;i.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,s.call(this)};var a=i.prototype._manageStamp;return i.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,a.apply(this,arguments)},i}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window),function(t){function e(t){var e=t.create("fitRows");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var o={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,o},e.prototype._getContainerSize=function(){return{height:this.maxY}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window),function(t){function e(t){var e=t.create("vertical",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},e.prototype._getContainerSize=function(){return{height:this.y}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window),function(t){function c(t,e){for(var i in e)t[i]=e[i];return t}function n(t){return"[object Array]"===o.call(t)}function u(t){var e=[];if(n(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,o=t.length;o>i;i++)e.push(t[i]);else e.push(t);return e}function p(t,e){var i=r(e,t);-1!==i&&e.splice(i,1)}function e(n,t,i,e,o){function r(c,u){return function(t,e){for(var i=0,o=c.length;o>i;i++){var n=c[i],r=t.sortData[n],s=e.sortData[n];if(r>s||s>r){var a=void 0!==u[n]?u[n]:u,l=a?1:-1;return(r>s?1:-1)*l}}return 0}}var l=n.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});l.Item=e,l.LayoutMode=o,l.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),n.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in o.modes)this._initLayoutMode(t)},l.prototype.reloadItems=function(){this.itemGUID=0,n.prototype.reloadItems.call(this)},l.prototype._itemize=function(){for(var t=n.prototype._itemize.apply(this,arguments),e=0,i=t.length;i>e;e++){var o=t[e];o.id=this.itemGUID++}return this._updateItemsSortData(t),t},l.prototype._initLayoutMode=function(t){var e=o.modes[t],i=this.options[t]||{};this.options[t]=e.options?c(e.options,i):i,this.modes[t]=new e(this)},l.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?(this.arrange(),void 0):(this._layout(),void 0)},l.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},l.prototype.arrange=function(t){this.option(t),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},l.prototype._init=l.prototype.arrange,l.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},l.prototype._filter=function(t){function e(){p.reveal(n),p.hide(r)}var i=this.options.filter;i=i||"*";for(var o=[],n=[],r=[],s=this._getFilterTest(i),a=0,l=t.length;l>a;a++){var c=t[a];if(!c.isIgnored){var u=s(c);u&&o.push(c),u&&c.isHidden?n.push(c):u||c.isHidden||r.push(c)}}var p=this;return this._isInstant?this._noTransition(e):e(),o},l.prototype._getFilterTest=function(e){return d&&this.options.isJQueryFiltering?function(t){return d(t.element).is(e)}:"function"==typeof e?function(t){return e(t.element)}:function(t){return i(t.element,e)}},l.prototype.updateSortData=function(t){var e;t?(t=u(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},l.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=s(i)}},l.prototype._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&e>i;i++){var o=t[i];o.updateSortData()}};var s=function(){function t(t){if("string"!=typeof t)return t;var e=f(t).split(" "),i=e[0],o=i.match(/^\[(.+)\]$/),n=o&&o[1],r=a(n,i),s=l.sortDataParsers[e[1]];return t=s?function(t){return t&&s(r(t))}:function(t){return t&&r(t)}}function a(e,i){var t;return t=e?function(t){return t.getAttribute(e)}:function(t){var e=t.querySelector(i);return e&&h(e)}}return t}();l.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},l.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=r(e,this.options.sortAscending);this.filteredItems.sort(i),t!==this.sortHistory[0]&&this.sortHistory.unshift(t)}},l.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw Error("No layout mode: "+t);return e.options=this.options[t],e},l.prototype._resetLayout=function(){n.prototype._resetLayout.call(this),this._mode()._resetLayout()},l.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},l.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},l.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},l.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},l.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},l.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps();var o=this._filterRevealAdded(e);this.layoutItems(i),this.filteredItems=o.concat(this.filteredItems)}},l.prototype._filterRevealAdded=function(t){var e=this._noTransition(function(){return this._filter(t)});return this.layoutItems(e,!0),this.reveal(e),t},l.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var i,o,n=e.length;for(i=0;n>i;i++)o=e[i],this.element.appendChild(o.element);var r=this._filter(e);for(this._noTransition(function(){this.hide(r)}),i=0;n>i;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;n>i;i++)delete e[i].isLayoutInstant;this.reveal(r)}};var a=l.prototype.remove;return l.prototype.remove=function(t){t=u(t);var e=this.getItems(t);if(a.call(this,t),e&&e.length)for(var i=0,o=e.length;o>i;i++){var n=e[i];p(n,this.filteredItems)}},l.prototype.shuffle=function(){for(var t=0,e=this.items.length;e>t;t++){var i=this.items[t];i.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},l.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var i=t.call(this);return this.options.transitionDuration=e,i},l.prototype.getFilteredItemElements=function(){for(var t=[],e=0,i=this.filteredItems.length;i>e;e++)t.push(this.filteredItems[e].element);return t},l}var d=t.jQuery,f=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},i=document.documentElement,h=i.textContent?function(t){return t.textContent}:function(t){return t.innerText},o=Object.prototype.toString,r=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):t.Isotope=e(t.Outlayer,t.getSize,t.matchesSelector,t.Isotope.Item,t.Isotope.LayoutMode)}(window);!function(h){"use strict";h.fn.enllax=function(t){var p=h(window).height(),d=h(document).height(),f=h.extend({ratio:0,type:"background",direction:"vertical"},t),e=h("[data-enllax-ratio]");e.each(function(){var e,i,o,n=h(this),r=n.offset().top,s=n.outerHeight(),t=n.data("enllax-ratio"),a=n.data("enllax-type"),l=n.data("enllax-direction");e=t?t:f.ratio,i=a?a:f.type,o=l?l:f.direction;var c=Math.round(r*e),u=Math.round((r-p/2+s)*e);"background"==i?"vertical"==o?n.css({"background-position":"center "+-c+"px"}):"horizontal"==o&&n.css({"background-position":-c+"px center"}):"foreground"==i&&("vertical"==o?n.css({"-webkit-transform":"translateY("+u+"px)","-moz-transform":"translateY("+u+"px)",transform:"translateY("+u+"px)"}):"horizontal"==o&&n.css({"-webkit-transform":"translateX("+u+"px)","-moz-transform":"translateX("+u+"px)",transform:"translateX("+u+"px)"})),h(window).on("scroll",function(){var t=h(this).scrollTop();c=Math.round((r-t)*e),u=Math.round((r-p/2+s-t)*e),"background"==i?"vertical"==o?n.css({"background-position":"center "+-c+"px"}):"horizontal"==o&&n.css({"background-position":-c+"px center"}):"foreground"==i&&d>t&&("vertical"==o?n.css({"-webkit-transform":"translateY("+u+"px)","-moz-transform":"translateY("+u+"px)",transform:"translateY("+u+"px)"}):"horizontal"==o&&n.css({"-webkit-transform":"translateX("+u+"px)","-moz-transform":"translateX("+u+"px)",transform:"translateX("+u+"px)"}))})})}}(jQuery);!function(S){function z(){var t=location.href;return hashtag=-1!==t.indexOf("#prettyPhoto")?decodeURI(t.substring(t.indexOf("#prettyPhoto")+1,t.length)):!1,hashtag&&(hashtag=hashtag.replace(/<|>/g,"")),hashtag}function T(){"undefined"!=typeof theRel&&(location.hash=theRel+"/"+rel_index+"/")}function k(){-1!==location.href.indexOf("#prettyPhoto")&&(location.hash="prettyPhoto")}function $(t,e){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i="[\\?&]"+t+"=([^&#]*)",o=new RegExp(i),n=o.exec(e);return null==n?"":n[1]}S.prettyPhoto={version:"3.1.6"},S.fn.prettyPhoto=function(e){function i(){S(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(w/2-d.containerHeight/2),projectedTop<0&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:d.contentHeight,width:d.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:x/2-d.containerWidth/2<0?0:x/2-d.containerWidth/2,width:d.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(d.height).width(d.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&"image"==a(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(d.resized?S("a.pp_expand,a.pp_contract").show():S("a.pp_expand").hide()),!settings.autoplay_slideshow||y||f||S.prettyPhoto.startSlideshow(),settings.changepicturecallback(),f=!0}),u(),e.ajaxcallback()}function o(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){S(".pp_loaderIcon").show(),t()})}function n(t){t>1?S(".pp_nav").show():S(".pp_nav").hide()}function r(t,e){if(resized=!1,s(t,e),imageWidth=t,imageHeight=e,(v>x||g>w)&&doresize&&settings.allow_resize&&!b){for(resized=!0,fitting=!1;!fitting;)v>x?(imageWidth=x-200,imageHeight=e/t*imageWidth):g>w?(imageHeight=w-200,imageWidth=t/e*imageHeight):fitting=!0,g=imageHeight,v=imageWidth;(v>x||g>w)&&r(v,g),s(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(g),containerWidth:Math.floor(v)+2*settings.horizontal_padding,contentHeight:Math.floor(h),contentWidth:Math.floor(m),resized:resized}}function s(t,e){t=parseFloat(t),e=parseFloat(e),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(t),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(S("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=detailsHeight<=34?36:detailsHeight,$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(t),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(S("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),h=e+detailsHeight,m=t,g=h+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),v=t}function a(t){return t.match(/youtube\.com\/watch/i)||t.match(/youtu\.be/i)?"youtube":t.match(/vimeo\.com/i)?"vimeo":t.match(/\b.mov\b/i)?"quicktime":t.match(/\b.swf\b/i)?"flash":t.match(/\biframe=true\b/i)?"iframe":t.match(/\bajax=true\b/i)?"ajax":t.match(/\bcustom=true\b/i)?"custom":"#"==t.substr(0,1)?"inline":"image"}function l(){if(doresize&&"undefined"!=typeof $pp_pic_holder){if(scroll_pos=t(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=w/2+scroll_pos.scrollTop-contentHeight/2,projectedTop<0&&(projectedTop=0),contentHeight>w)return;$pp_pic_holder.css({top:projectedTop,left:x/2+scroll_pos.scrollLeft-contentwidth/2})}}function t(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function c(){w=S(window).height(),x=S(window).width(),"undefined"!=typeof $pp_overlay&&$pp_overlay.height(S(document).height()).width(x)}function u(){isSet&&settings.overlay_gallery&&"image"==a(pp_images[set_position])?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=Math.floor((d.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,S.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function p(){if(settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))),settings.markup=settings.markup.replace("{pp_social}",""),S("body").append(settings.markup),$pp_pic_holder=S(".pp_pic_holder"),$ppt=S(".ppt"),$pp_overlay=S("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var t=0;t<pp_images.length;t++)pp_images[t].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[t]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=S(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return S.prettyPhoto.changeGalleryPage("next"),S.prettyPhoto.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return S.prettyPhoto.changeGalleryPage("previous"),S.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(t){S(this).find("a").click(function(){return S.prettyPhoto.changePage(t),S.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return S.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:S(document).height(),width:S(window).width()}).bind("click",function(){settings.modal||S.prettyPhoto.close()}),S("a.pp_close").bind("click",function(){return S.prettyPhoto.close(),!1}),settings.allow_expand&&S("a.pp_expand").bind("click",function(){return S(this).hasClass("pp_expand")?(S(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(S(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),o(function(){S.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return S.prettyPhoto.changePage("previous"),S.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return S.prettyPhoto.changePage("next"),S.prettyPhoto.stopSlideshow(),!1}),l()}e=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> \t\t\t\t\t\t<div class="ppt">&nbsp;</div> \t\t\t\t\t\t<div class="pp_top"> \t\t\t\t\t\t\t<div class="pp_left"></div> \t\t\t\t\t\t\t<div class="pp_middle"></div> \t\t\t\t\t\t\t<div class="pp_right"></div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="pp_content_container"> \t\t\t\t\t\t\t<div class="pp_left"> \t\t\t\t\t\t\t<div class="pp_right"> \t\t\t\t\t\t\t\t<div class="pp_content"> \t\t\t\t\t\t\t\t\t<div class="pp_loaderIcon"></div> \t\t\t\t\t\t\t\t\t<div class="pp_fade"> \t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_expand" title="Expand the image">Expand</a> \t\t\t\t\t\t\t\t\t\t<div class="pp_hoverContainer"> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_next" href="#">next</a> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_previous" href="#">previous</a> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t<div id="pp_full_res"></div> \t\t\t\t\t\t\t\t\t\t<div class="pp_details"> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_nav"> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous</a> \t\t\t\t\t\t\t\t\t\t\t\t<p class="currentTextHolder">0/0</p> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next</a> \t\t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t\t<p class="pp_description"></p> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_social">{pp_social}</div> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_close" href="#">Close</a> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="pp_bottom"> \t\t\t\t\t\t\t<div class="pp_left"></div> \t\t\t\t\t\t\t<div class="pp_middle"></div> \t\t\t\t\t\t\t<div class="pp_right"></div> \t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t\t<div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous</a> \t\t\t\t\t\t\t\t<div> \t\t\t\t\t\t\t\t\t<ul> \t\t\t\t\t\t\t\t\t\t{gallery} \t\t\t\t\t\t\t\t\t</ul> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next</a> \t\t\t\t\t\t\t</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"><\/script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&layout=button_count&show_faces=true&width=500&action=like&font&colorscheme=light&height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},e);var d,f,h,m,g,v,y,_=this,b=!1,w=S(window).height(),x=S(window).width();return doresize=!0,scroll_pos=t(),S(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){l(),c()}),e.keyboard_shortcuts&&S(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:S.prettyPhoto.changePage("previous"),t.preventDefault();break;case 39:S.prettyPhoto.changePage("next"),t.preventDefault();break;case 27:settings.modal||S.prettyPhoto.close(),t.preventDefault()}}),S.prettyPhoto.initialize=function(){return settings=e,"pp_default"==settings.theme&&(settings.horizontal_padding=16),theRel=S(this).attr(settings.hook),galleryRegExp=/\[(?:.*)\]/,isSet=galleryRegExp.exec(theRel)?!0:!1,pp_images=isSet?jQuery.map(_,function(t){return-1!=S(t).attr(settings.hook).indexOf(theRel)?S(t).attr("href"):void 0}):S.makeArray(S(this).attr("href")),pp_titles=isSet?jQuery.map(_,function(t){return-1!=S(t).attr(settings.hook).indexOf(theRel)?S(t).find("img").attr("alt")?S(t).find("img").attr("alt"):"":void 0}):S.makeArray(S(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(_,function(t){return-1!=S(t).attr(settings.hook).indexOf(theRel)?S(t).attr("title")?S(t).attr("title"):"":void 0}):S.makeArray(S(this).attr("title")),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(S(this).attr("href"),pp_images),rel_index=isSet?set_position:S("a["+settings.hook+"^='"+theRel+"']").index(S(this)),p(this),settings.allow_resize&&S(window).bind("scroll.prettyphoto",function(){l()}),S.prettyPhoto.open(),!1},S.prettyPhoto.open=function(t){return"undefined"==typeof settings&&(settings=e,pp_images=S.makeArray(arguments[0]),pp_titles=S.makeArray(arguments[1]?arguments[1]:""),pp_descriptions=S.makeArray(arguments[2]?arguments[2]:""),isSet=pp_images.length>1?!0:!1,set_position=arguments[3]?arguments[3]:0,p(t.target)),settings.hideflash&&S("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),n(S(pp_images).size()),S(".pp_loaderIcon").show(),settings.deeplinking&&T(),settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link)),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+S(pp_images).size()),"undefined"!=typeof pp_descriptions[set_position]&&""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat($("width",pp_images[set_position]))?$("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat($("height",pp_images[set_position]))?$("height",pp_images[set_position]):settings.default_height.toString(),b=!1,-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(S(window).height()*parseFloat(movie_height)/100-150),b=!0),-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(S(window).width()*parseFloat(movie_width)/100-150),b=!0),$pp_pic_holder.fadeIn(function(){switch($ppt.html(settings.show_title&&""!=pp_titles[set_position]&&"undefined"!=typeof pp_titles[set_position]?unescape(pp_titles[set_position]):"&nbsp;"),imgPreloader="",skipInjection=!1,a(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&set_position<S(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){d=r(imgPreloader.width,imgPreloader.height),i()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),S.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":d=r(movie_width,movie_height),movie_id=$("v",pp_images[set_position]),""==movie_id&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],movie_id.indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="https://www.youtube.com/embed/"+movie_id,movie+=$("rel",pp_images[set_position])?"?rel="+$("rel",pp_images[set_position]):"?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,d.width).replace(/{height}/g,d.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":d=r(movie_width,movie_height),movie_id=pp_images[set_position];var t=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/,e=movie_id.match(t);movie="http://player.vimeo.com/video/"+e[3]+"?title=0&byline=0&portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=d.width+"/embed/?moog_width="+d.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,d.height).replace(/{path}/g,movie);break;case"quicktime":d=r(movie_width,movie_height),d.height+=15,d.contentHeight+=15,d.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,d.width).replace(/{height}/g,d.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":d=r(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,d.width).replace(/{height}/g,d.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":d=r(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,d.width).replace(/{height}/g,d.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,d=r(movie_width,movie_height),doresize=!0,skipInjection=!0,S.get(pp_images[set_position],function(t){toInject=settings.inline_markup.replace(/{content}/g,t),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,i()});break;case"custom":d=r(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=S(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(S("body")).show(),doresize=!1,d=r(S(myClone).width(),S(myClone).height()),doresize=!0,S(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,S(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,i())}),!1},S.prettyPhoto.changePage=function(t){currentGalleryPage=0,"previous"==t?(set_position--,set_position<0&&(set_position=S(pp_images).size()-1)):"next"==t?(set_position++,set_position>S(pp_images).size()-1&&(set_position=0)):set_position=t,rel_index=set_position,doresize||(doresize=!0),settings.allow_expand&&S(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),o(function(){S.prettyPhoto.open()})},S.prettyPhoto.changeGalleryPage=function(t){"next"==t?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==t?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=t,slide_speed="next"==t||"previous"==t?settings.animation_speed:0,slide_to=currentGalleryPage*itemsPerPage*itemWidth,$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},S.prettyPhoto.startSlideshow=function(){"undefined"==typeof y?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return S.prettyPhoto.stopSlideshow(),!1}),y=setInterval(S.prettyPhoto.startSlideshow,settings.slideshow)):S.prettyPhoto.changePage("next")},S.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return S.prettyPhoto.startSlideshow(),!1}),clearInterval(y),y=void 0},S.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(S.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),S("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){S(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&S("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),S(this).remove(),S(window).unbind("scroll.prettyphoto"),k(),settings.callback(),doresize=!0,f=!1,delete settings}))},!pp_alreadyInitialized&&z()&&(pp_alreadyInitialized=!0,hashIndex=z(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){S("a["+e.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",S.prettyPhoto.initialize)}}(jQuery);var pp_alreadyInitialized=!1;(function(t){var r=t.event,s,a;s=r.special.debouncedresize={setup:function(){t(this).on("resize",s.handler)},teardown:function(){t(this).off("resize",s.handler)},handler:function(t,e){var i=this,o=arguments,n=function(){t.type="debouncedresize";r.dispatch.apply(i,o)};if(a){clearTimeout(a)}e?n():a=setTimeout(n,s.threshold)},threshold:150}})(jQuery);if(!window.mfn_retina_disable){!function(){function t(){}function n(t){return a.retinaImageSuffix+t}function r(t,e){if(this.path=t||"","undefined"!=typeof e&&null!==e)this.at_2x_path=e,this.perform_check=!1;else{if(void 0!==document.createElement){var i=document.createElement("a");i.href=this.path,i.pathname=i.pathname.replace(l,n),this.at_2x_path=i.href}else{var o=this.path.split("?");o[0]=o[0].replace(l,n),this.at_2x_path=o.join("?")}this.perform_check=!0}}function s(t){this.el=t,this.path=new r(this.el.getAttribute("src"),this.el.getAttribute("data-at2x"));var e=this;this.path.check_2x_variant(function(t){t&&e.swap()})}var e="undefined"==typeof exports?window:exports,a={retinaImageSuffix:"@2x",check_mime_type:!0,force_original_dimensions:!0};e.Retina=t,t.configure=function(t){null===t&&(t={});for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e])},t.init=function(t){null===t&&(t=e);var n=t.onload||function(){};t.onload=function(){var t,e,i=document.getElementsByTagName("img"),o=[];for(t=0;t<i.length;t+=1)e=i[t],e.getAttributeNode("data-no-retina")||o.push(new s(e));n()}},t.isRetina=function(){var t="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return e.devicePixelRatio>1?!0:e.matchMedia&&e.matchMedia(t).matches?!0:!1};var l=/\.\w+$/;e.RetinaImagePath=r,r.confirmed_paths=[],r.prototype.is_external=function(){return!(!this.path.match(/^https?\:/i)||this.path.match("//"+document.domain))},r.prototype.check_2x_variant=function(e){var i,o=this;return this.is_external()?e(!1):this.perform_check||"undefined"==typeof this.at_2x_path||null===this.at_2x_path?this.at_2x_path in r.confirmed_paths?e(!0):(i=new XMLHttpRequest,i.open("HEAD",this.at_2x_path),i.onreadystatechange=function(){if(4!==i.readyState)return e(!1);if(i.status>=200&&i.status<=399){if(a.check_mime_type){var t=i.getResponseHeader("Content-Type");if(null===t||!t.match(/^image/i))return e(!1)}return r.confirmed_paths.push(o.at_2x_path),e(!0)}return e(!1)},i.send(),void 0):e(!0)},e.RetinaImage=s,s.prototype.swap=function(t){function e(){i.el.complete?(a.force_original_dimensions&&(i.el.setAttribute("width",i.el.offsetWidth),i.el.setAttribute("height",i.el.offsetHeight)),i.el.setAttribute("src",t)):setTimeout(e,5)}"undefined"==typeof t&&(t=this.path.at_2x_path);var i=this;e()},t.isRetina()&&t.init(e)}()}!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(){var t=document.getElementsByTagName("script"),e=t.length?t[t.length-1].src.split("?")[0]:"";return e.split("/").length>0?e.split("/").slice(0,-1).join("/")+"/":""}function i(t,e,i){for(var o=0;o<e.length;o++)i(t,e[o])}var w=!1,x=!1,S=0,u=2e3,z=0,T=t,o=["webkit","ms","moz","o"],f=window.requestAnimationFrame||!1,h=window.cancelAnimationFrame||!1;if(!f)for(var n in o){var r=o[n];f||(f=window[r+"RequestAnimationFrame"]),h||(h=window[r+"CancelAnimationFrame"]||window[r+"CancelRequestAnimationFrame"])}var k=window.MutationObserver||window.WebKitMutationObserver||!1,p={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:e(),preventmultitouchscrolling:!0},d=!1,m=function(){function t(){var t=["-webkit-grab","-moz-grab","grab"];(r.ischrome&&!r.ischrome22||r.isie)&&(t=[]);for(var e=0;e<t.length;e++){var i=t[e];if(o.cursor=i,o.cursor==i)return i}return"url(//mail.google.com/mail/images/2/openhand.cur),n-resize"}if(d)return d;var e=document.createElement("DIV"),o=e.style,i=navigator.userAgent,n=navigator.platform,r={};r.haspointerlock="pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document,r.isopera="opera"in window,r.isopera12=r.isopera&&"getUserMedia"in navigator,r.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),r.isie="all"in document&&"attachEvent"in e&&!r.isopera,r.isieold=r.isie&&!("msInterpolationMode"in o),r.isie7=r.isie&&!r.isieold&&(!("documentMode"in document)||7==document.documentMode),r.isie8=r.isie&&"documentMode"in document&&8==document.documentMode,r.isie9=r.isie&&"performance"in window&&document.documentMode>=9,r.isie10=r.isie&&"performance"in window&&10==document.documentMode,r.isie11="msRequestFullscreen"in e&&document.documentMode>=11,r.isieedge=navigator.userAgent.match(/Edge\/12\./),r.isie9mobile=/iemobile.9/i.test(i),r.isie9mobile&&(r.isie9=!1),r.isie7mobile=!r.isie9mobile&&r.isie7&&/iemobile/i.test(i),r.ismozilla="MozAppearance"in o,r.iswebkit="WebkitAppearance"in o,r.ischrome="chrome"in window,r.ischrome22=r.ischrome&&r.haspointerlock,r.ischrome26=r.ischrome&&"transition"in o,r.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,r.hasmstouch=window.MSPointerEvent||!1,r.hasw3ctouch=(window.PointerEvent||!1)&&(navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0),r.ismac=/^mac$/i.test(n),r.isios=r.cantouch&&/iphone|ipad|ipod/i.test(n),r.isios4=r.isios&&!("seal"in Object),r.isios7=r.isios&&"webkitHidden"in document,r.isandroid=/android/i.test(i),r.haseventlistener="addEventListener"in e,r.trstyle=!1,r.hastransform=!1,r.hastranslate3d=!1,r.transitionstyle=!1,r.hastransition=!1,r.transitionend=!1;var s,a=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(s=0;s<a.length;s++)if("undefined"!=typeof o[a[s]]){r.trstyle=a[s];break}r.hastransform=!!r.trstyle,r.hastransform&&(o[r.trstyle]="translate3d(1px,2px,3px)",r.hastranslate3d=/translate3d/.test(o[r.trstyle])),r.transitionstyle=!1,r.prefixstyle="",r.transitionend=!1,a=["transition","webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"];var l=["","-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],c=["transitionend","webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"];for(s=0;s<a.length;s++)if(a[s]in o){r.transitionstyle=a[s],r.prefixstyle=l[s],r.transitionend=c[s];break}return r.ischrome26&&(r.prefixstyle=l[1]),r.hastransition=r.transitionstyle,r.cursorgrabvalue=t(),r.hasmousecapture="setCapture"in e,r.hasMutationObserver=k!==!1,e=null,d=r,r},s=function(t,e){function i(){var t=_.doc.css(b.trstyle);return t&&"matrix"==t.substr(0,6)?t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}function y(){var t=_.win;if("zIndex"in t)return t.zIndex();for(;t.length>0;){if(9==t[0].nodeType)return!1;var e=t.css("zIndex");if(!isNaN(e)&&0!=e)return parseInt(e);t=t.parent()}return!1}function s(t,e,i){var o=t.css(e),n=parseFloat(o);if(isNaN(n)){n=c[o]||0;var r=3==n?i?_.win.outerHeight()-_.win.innerHeight():_.win.outerWidth()-_.win.innerWidth():1;return _.isie8&&n&&(n+=1),r?n:0}return n}function a(i,o,n,t){_._bind(i,o,function(t){var t=t?t:window.event,e={original:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},stopImmediatePropagation:function(){t.stopImmediatePropagation?t.stopImmediatePropagation():t.cancelBubble=!0}};return"mousewheel"==o?(e.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(e.deltaX=-1/40*t.wheelDeltaX)):e.deltaY=t.detail,n.call(i,e)},t)}function n(t,e,i){var o,n;if(0==t.deltaMode?(o=-Math.floor(t.deltaX*(_.opt.mousescrollstep/54)),n=-Math.floor(t.deltaY*(_.opt.mousescrollstep/54))):1==t.deltaMode&&(o=-Math.floor(t.deltaX*_.opt.mousescrollstep),n=-Math.floor(t.deltaY*_.opt.mousescrollstep)),e&&_.opt.oneaxismousemode&&0==o&&n&&(o=n,n=0,i)){var r=0>o?_.getScrollLeft()>=_.page.maxw:_.getScrollLeft()<=0;r&&(n=o,o=0)}if(o&&(_.scrollmom&&_.scrollmom.stop(),_.lastdeltax+=o,_.debounced("mousewheelx",function(){var t=_.lastdeltax;_.lastdeltax=0,_.rail.drag||_.doScrollLeftBy(t)},15)),n){if(_.opt.nativeparentscrolling&&i&&!_.ispage&&!_.zoomactive)if(0>n){if(_.getScrollTop()>=_.page.maxh)return!0}else if(_.getScrollTop()<=0)return!0;_.scrollmom&&_.scrollmom.stop(),_.lastdeltay+=n,_.debounced("mousewheely",function(){var t=_.lastdeltay;_.lastdeltay=0,_.rail.drag||_.doScrollBy(t)},15)}return t.stopImmediatePropagation(),t.preventDefault()}var _=this;if(this.version="3.6.6",this.name="nicescroll",this.me=e,this.opt={doc:T("body"),win:!1},T.extend(this.opt,p),this.opt.snapbackspeed=80,t)for(var o in _.opt)"undefined"!=typeof t[o]&&(_.opt[o]=t[o]);this.doc=_.opt.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(_.opt.win?_.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=_.opt.win!==!1,this.win=_.opt.win||(this.ispage?T(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?T(window):this.win,this.body=T("body"),this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=_.opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.isrtlmode="auto"==this.opt.rtlmode?"rtl"==(this.win[0]==window?this.body:this.win).css("direction"):this.opt.rtlmode===!0,this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1;do{this.id="ascrail"+u++}while(document.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=_.opt.overflowx,this.overflowy=_.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=m();var b=T.extend({},this.detected);this.canhwscroll=b.hastransform&&_.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&_.haswrapper,this.hasreversehr=this.isrtlmode&&!b.iswebkit,this.istouchcapable=!1,!b.cantouch||b.isios||b.isandroid||!b.iswebkit&&!b.ismozilla||(this.istouchcapable=!0,b.cantouch=!1),_.opt.enablemouselockapi||(b.hasmousecapture=!1,b.haspointerlock=!1),this.debounced=function(e,t,i){var o=_.delaylist[e];_.delaylist[e]=t,o||(_.debouncedelayed=setTimeout(function(){if(_){var t=_.delaylist[e];_.delaylist[e]=!1,t.call(_)}},i))};var r=!1;this.synched=function(t,e){function i(){r||(f(function(){r=!1;for(var t in _.synclist){var e=_.synclist[t];e&&e.call(_),_.synclist[t]=!1}}),r=!0)}return _.synclist[t]=e,i(),t},this.unsynched=function(t){_.synclist[t]&&(_.synclist[t]=!1)},this.css=function(t,e){for(var i in e)_.saved.css.push([t,i,t.css(i)]),t.css(i,e[i])},this.scrollTop=function(t){return"undefined"==typeof t?_.getScrollTop():_.setScrollTop(t)},this.scrollLeft=function(t){return"undefined"==typeof t?_.getScrollLeft():_.setScrollLeft(t)};var d=function(t,e,i,o,n,r,s){this.st=t,this.ed=e,this.spd=i,this.p1=o||0,this.p2=n||1,this.p3=r||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st};if(d.prototype={B2:function(t){return 3*t*t*(1-t)},B3:function(t){return 3*t*(1-t)*(1-t)},B4:function(t){return(1-t)*(1-t)*(1-t)},getNow:function(){var t=(new Date).getTime(),e=1-(t-this.ts)/this.spd,i=this.B2(e)+this.B3(e)+this.B4(e);return 0>e?this.ed:this.st+Math.round(this.df*i)},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},b.hastranslate3d&&b.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(t){if(!t){var e=i();if(e)return 16==e.length?-e[13]:-e[5];if(_.timerscroll&&_.timerscroll.bz)return _.timerscroll.bz.getNow()}return _.doc.translate.y},this.getScrollLeft=function(t){if(!t){var e=i();if(e)return 16==e.length?-e[12]:-e[4];if(_.timerscroll&&_.timerscroll.bh)return _.timerscroll.bh.getNow()}return _.doc.translate.x},this.notifyScrollEvent=function(t){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),e.niceevent=!0,t.dispatchEvent(e)};var l=this.isrtlmode?1:-1;b.hastranslate3d&&_.opt.enabletranslate3d?(this.setScrollTop=function(t,e){_.doc.translate.y=t,_.doc.translate.ty=-1*t+"px",_.doc.css(b.trstyle,"translate3d("+_.doc.translate.tx+","+_.doc.translate.ty+",0px)"),e||_.notifyScrollEvent(_.win[0])},this.setScrollLeft=function(t,e){_.doc.translate.x=t,_.doc.translate.tx=t*l+"px",_.doc.css(b.trstyle,"translate3d("+_.doc.translate.tx+","+_.doc.translate.ty+",0px)"),e||_.notifyScrollEvent(_.win[0])}):(this.setScrollTop=function(t,e){_.doc.translate.y=t,_.doc.translate.ty=-1*t+"px",_.doc.css(b.trstyle,"translate("+_.doc.translate.tx+","+_.doc.translate.ty+")"),e||_.notifyScrollEvent(_.win[0])},this.setScrollLeft=function(t,e){_.doc.translate.x=t,_.doc.translate.tx=t*l+"px",_.doc.css(b.trstyle,"translate("+_.doc.translate.tx+","+_.doc.translate.ty+")"),e||_.notifyScrollEvent(_.win[0])})}else this.getScrollTop=function(){return _.docscroll.scrollTop()},this.setScrollTop=function(t){return setTimeout(function(){_.docscroll.scrollTop(t)},1)},this.getScrollLeft=function(){return _.detected.ismozilla&&_.isrtlmode?Math.abs(_.docscroll.scrollLeft()):_.docscroll.scrollLeft()},this.setScrollLeft=function(t){return setTimeout(function(){_.docscroll.scrollLeft(_.detected.ismozilla&&_.isrtlmode?-t:t)},1)};this.getTarget=function(t){return t?t.target?t.target:t.srcElement?t.srcElement:!1:!1},this.hasParent=function(t,e){if(!t)return!1;for(var i=t.target||t.srcElement||t||!1;i&&i.id!=e;)i=i.parentNode||!1;return i!==!1};var c={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(_.isfixed){var t=_.win.offset(),e=_.getDocumentScrollOffset();return t.top-=e.top,t.left-=e.left,t}var i=_.win.offset();if(!_.viewport)return i;var o=_.viewport.offset();return{top:i.top-o.top,left:i.left-o.left}},this.updateScrollBar=function(t){if(_.ishwscroll)_.rail.css({height:_.win.innerHeight()-(_.opt.railpadding.top+_.opt.railpadding.bottom)}),_.railh&&_.railh.css({width:_.win.innerWidth()-(_.opt.railpadding.left+_.opt.railpadding.right)});else{var e=_.getOffset(),i={top:e.top,left:e.left-(_.opt.railpadding.left+_.opt.railpadding.right)};i.top+=s(_.win,"border-top-width",!0),i.left+=_.rail.align?_.win.outerWidth()-s(_.win,"border-right-width")-_.rail.width:s(_.win,"border-left-width");var o=_.opt.railoffset;if(o&&(o.top&&(i.top+=o.top),o.left&&(i.left+=o.left)),_.railslocked||_.rail.css({top:i.top,left:i.left,height:(t?t.h:_.win.innerHeight())-(_.opt.railpadding.top+_.opt.railpadding.bottom)}),_.zoom&&_.zoom.css({top:i.top+1,left:1==_.rail.align?i.left-20:i.left+_.rail.width+4}),_.railh&&!_.railslocked){var i={top:e.top,left:e.left},o=_.opt.railhoffset;o&&(o.top&&(i.top+=o.top),o.left&&(i.left+=o.left));var n=_.railh.align?i.top+s(_.win,"border-top-width",!0)+_.win.innerHeight()-_.railh.height:i.top+s(_.win,"border-top-width",!0),r=i.left+s(_.win,"border-left-width");_.railh.css({top:n-(_.opt.railpadding.top+_.opt.railpadding.bottom),left:r,width:_.railh.width})}}},this.doRailClick=function(t,e,i){var o,n,r,s;_.railslocked||(_.cancelEvent(t),e?(o=i?_.doScrollLeft:_.doScrollTop,r=i?(t.pageX-_.railh.offset().left-_.cursorwidth/2)*_.scrollratio.x:(t.pageY-_.rail.offset().top-_.cursorheight/2)*_.scrollratio.y,o(r)):(o=i?_.doScrollLeftBy:_.doScrollBy,r=i?_.scroll.x:_.scroll.y,s=i?t.pageX-_.railh.offset().left:t.pageY-_.rail.offset().top,n=i?_.view.w:_.view.h,o(r>=s?n:-n)))},_.hasanimationframe=f,_.hascancelanimationframe=h,_.hasanimationframe?_.hascancelanimationframe||(h=function(){_.cancelAnimationFrame=!0}):(f=function(t){return setTimeout(t,15-Math.floor(+new Date/1e3)%16)},h=clearInterval),this.init=function(){if(_.saved.css=[],b.isie7mobile)return!0;if(b.isoperamini)return!0;if(b.hasmstouch&&_.css(_.ispage?T("html"):_.win,{"-ms-touch-action":"none"}),_.zindex="auto",_.ispage||"auto"!=_.opt.zindex?_.zindex=_.opt.zindex:_.zindex=y()||"auto",_.ispage||"auto"==_.zindex||_.zindex>z&&(z=_.zindex),_.isie&&0==_.zindex&&"auto"==_.opt.zindex&&(_.zindex="auto"),!_.ispage||!b.cantouch&&!b.isieold&&!b.isie9mobile){var t=_.docscroll;_.ispage&&(t=_.haswrapper?_.win:_.doc),b.isie9mobile||_.css(t,{"overflow-y":"hidden"}),_.ispage&&b.isie7&&("BODY"==_.doc[0].nodeName?_.css(T("html"),{"overflow-y":"hidden"}):"HTML"==_.doc[0].nodeName&&_.css(T("body"),{"overflow-y":"hidden"})),!b.isios||_.ispage||_.haswrapper||_.css(T("body"),{"-webkit-overflow-scrolling":"touch"});var e=T(document.createElement("div"));e.css({position:"relative",top:0,float:"right",width:_.opt.cursorwidth,height:"0px","background-color":_.opt.cursorcolor,border:_.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":_.opt.cursorborderradius,"-moz-border-radius":_.opt.cursorborderradius,"border-radius":_.opt.cursorborderradius}),e.hborder=parseFloat(e.outerHeight()-e.innerHeight()),e.addClass("nicescroll-cursors"),_.cursor=e;var i=T(document.createElement("div"));i.attr("id",_.id),i.addClass("nicescroll-rails nicescroll-rails-vr");var o,n,r=["left","right","top","bottom"];for(var s in r)n=r[s],o=_.opt.railpadding[n],o?i.css("padding-"+n,o+"px"):_.opt.railpadding[n]=0;i.append(e),i.width=Math.max(parseFloat(_.opt.cursorwidth),e.outerWidth()),i.css({width:i.width+"px",zIndex:_.zindex,background:_.opt.background,cursor:"default"}),i.visibility=!0,i.scrollable=!0,i.align="left"==_.opt.railalign?0:1,_.rail=i,_.rail.drag=!1;var a=!1;!_.opt.boxzoom||_.ispage||b.isieold||(a=document.createElement("div"),_.bind(a,"click",_.doZoom),_.bind(a,"mouseenter",function(){_.zoom.css("opacity",_.opt.cursoropacitymax)}),_.bind(a,"mouseleave",function(){_.zoom.css("opacity",_.opt.cursoropacitymin)}),_.zoom=T(a),_.zoom.css({cursor:"pointer","z-index":_.zindex,backgroundImage:"url("+_.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),_.opt.dblclickzoom&&_.bind(_.win,"dblclick",_.doZoom),b.cantouch&&_.opt.gesturezoom&&(_.ongesturezoom=function(t){return t.scale>1.5&&_.doZoomIn(t),t.scale<.8&&_.doZoomOut(t),_.cancelEvent(t)},_.bind(_.win,"gestureend",_.ongesturezoom))),_.railh=!1;var l;if(_.opt.horizrailenabled){_.css(t,{"overflow-x":"hidden"});var e=T(document.createElement("div"));e.css({position:"absolute",top:0,height:_.opt.cursorwidth,width:"0px","background-color":_.opt.cursorcolor,border:_.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":_.opt.cursorborderradius,"-moz-border-radius":_.opt.cursorborderradius,"border-radius":_.opt.cursorborderradius}),b.isieold&&e.css({overflow:"hidden"}),e.wborder=parseFloat(e.outerWidth()-e.innerWidth()),e.addClass("nicescroll-cursors"),_.cursorh=e,l=T(document.createElement("div")),l.attr("id",_.id+"-hr"),l.addClass("nicescroll-rails nicescroll-rails-hr"),l.height=Math.max(parseFloat(_.opt.cursorwidth),e.outerHeight()),l.css({height:l.height+"px",zIndex:_.zindex,background:_.opt.background}),l.append(e),l.visibility=!0,l.scrollable=!0,l.align="top"==_.opt.railvalign?0:1,_.railh=l,_.railh.drag=!1}if(_.ispage)i.css({position:"fixed",top:"0px",height:"100%"}),i.align?i.css({right:"0px"}):i.css({left:"0px"}),_.body.append(i),_.railh&&(l.css({position:"fixed",left:"0px",width:"100%"}),l.align?l.css({bottom:"0px"}):l.css({top:"0px"}),_.body.append(l));else{if(_.ishwscroll){"static"==_.win.css("position")&&_.css(_.win,{position:"relative"});var c="HTML"==_.win[0].nodeName?_.body:_.win;T(c).scrollTop(0).scrollLeft(0),_.zoom&&(_.zoom.css({position:"absolute",top:1,right:0,"margin-right":i.width+4}),c.append(_.zoom)),i.css({position:"absolute",top:0}),i.align?i.css({right:0}):i.css({left:0}),c.append(i),l&&(l.css({position:"absolute",left:0,bottom:0}),l.align?l.css({bottom:0}):l.css({top:0}),c.append(l))}else{_.isfixed="fixed"==_.win.css("position");var u=_.isfixed?"fixed":"absolute";_.isfixed||(_.viewport=_.getViewport(_.win[0])),_.viewport&&(_.body=_.viewport,0==/fixed|absolute/.test(_.viewport.css("position"))&&_.css(_.viewport,{position:"relative"})),i.css({position:u}),_.zoom&&_.zoom.css({position:u}),_.updateScrollBar(),_.body.append(i),_.zoom&&_.body.append(_.zoom),_.railh&&(l.css({position:u}),_.body.append(l))}b.isios&&_.css(_.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),b.isie&&_.opt.disableoutline&&_.win.attr("hideFocus","true"),b.iswebkit&&_.opt.disableoutline&&_.win.css({outline:"none"})}if(_.opt.autohidemode===!1?(_.autohidedom=!1,_.rail.css({opacity:_.opt.cursoropacitymax}),_.railh&&_.railh.css({opacity:_.opt.cursoropacitymax})):_.opt.autohidemode===!0||"leave"===_.opt.autohidemode?(_.autohidedom=T().add(_.rail),b.isie8&&(_.autohidedom=_.autohidedom.add(_.cursor)),_.railh&&(_.autohidedom=_.autohidedom.add(_.railh)),_.railh&&b.isie8&&(_.autohidedom=_.autohidedom.add(_.cursorh))):"scroll"==_.opt.autohidemode?(_.autohidedom=T().add(_.rail),_.railh&&(_.autohidedom=_.autohidedom.add(_.railh))):"cursor"==_.opt.autohidemode?(_.autohidedom=T().add(_.cursor),_.railh&&(_.autohidedom=_.autohidedom.add(_.cursorh))):"hidden"==_.opt.autohidemode&&(_.autohidedom=!1,_.hide(),_.railslocked=!1),b.isie9mobile){_.scrollmom=new $(_),_.onmangotouch=function(){var t=_.getScrollTop(),e=_.getScrollLeft();if(t==_.scrollmom.lastscrolly&&e==_.scrollmom.lastscrollx)return!0;var i=t-_.mangotouch.sy,o=e-_.mangotouch.sx,n=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(i,2)));if(0!=n){var r=0>i?-1:1,s=0>o?-1:1,a=+new Date;if(_.mangotouch.lazy&&clearTimeout(_.mangotouch.lazy),a-_.mangotouch.tm>80||_.mangotouch.dry!=r||_.mangotouch.drx!=s)_.scrollmom.stop(),_.scrollmom.reset(e,t),_.mangotouch.sy=t,_.mangotouch.ly=t,_.mangotouch.sx=e,_.mangotouch.lx=e,_.mangotouch.dry=r,_.mangotouch.drx=s,_.mangotouch.tm=a;else{_.scrollmom.stop(),_.scrollmom.update(_.mangotouch.sx-o,_.mangotouch.sy-i),_.mangotouch.tm=a;var l=Math.max(Math.abs(_.mangotouch.ly-t),Math.abs(_.mangotouch.lx-e));_.mangotouch.ly=t,_.mangotouch.lx=e,l>2&&(_.mangotouch.lazy=setTimeout(function(){_.mangotouch.lazy=!1,_.mangotouch.dry=0,_.mangotouch.drx=0,_.mangotouch.tm=0,_.scrollmom.doMomentum(30)},100))}}};var p=_.getScrollTop(),d=_.getScrollLeft();_.mangotouch={sy:p,ly:p,dry:0,sx:d,lx:d,drx:0,lazy:!1,tm:0},_.bind(_.docscroll,"scroll",_.onmangotouch)}else{if(b.cantouch||_.istouchcapable||_.opt.touchbehavior||b.hasmstouch){_.scrollmom=new $(_),_.ontouchstart=function(t){if(t.pointerType&&2!=t.pointerType&&"touch"!=t.pointerType)return!1;if(_.hasmoving=!1,!_.railslocked){var e;if(b.hasmstouch)for(e=t.target?t.target:!1;e;){var i=T(e).getNiceScroll();if(i.length>0&&i[0].me==_.me)break;if(i.length>0)return!1;if("DIV"==e.nodeName&&e.id==_.id)break;e=e.parentNode?e.parentNode:!1}if(_.cancelScroll(),e=_.getTarget(t)){var o=/INPUT/i.test(e.nodeName)&&/range/i.test(e.type);if(o)return _.stopPropagation(t)}if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),_.forcescreen){var n=t;t={original:t.original?t.original:t},t.clientX=n.screenX,t.clientY=n.screenY}if(_.rail.drag={x:t.clientX,y:t.clientY,sx:_.scroll.x,sy:_.scroll.y,st:_.getScrollTop(),sl:_.getScrollLeft(),pt:2,dl:!1},_.ispage||!_.opt.directionlockdeadzone)_.rail.drag.dl="f";else{var r={w:T(window).width(),h:T(window).height()},s={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},a=Math.max(0,s.h-r.h),l=Math.max(0,s.w-r.w);!_.rail.scrollable&&_.railh.scrollable?_.rail.drag.ck=a>0?"v":!1:_.rail.scrollable&&!_.railh.scrollable?_.rail.drag.ck=l>0?"h":!1:_.rail.drag.ck=!1,_.rail.drag.ck||(_.rail.drag.dl="f")}if(_.opt.touchbehavior&&_.isiframe&&b.isie){var c=_.win.position();_.rail.drag.x+=c.left,_.rail.drag.y+=c.top}if(_.hasmoving=!1,_.lastmouseup=!1,_.scrollmom.reset(t.clientX,t.clientY),!b.cantouch&&!this.istouchcapable&&!t.pointerType){var u=e?/INPUT|SELECT|TEXTAREA/i.test(e.nodeName):!1;if(!u)return!_.ispage&&b.hasmousecapture&&e.setCapture(),_.opt.touchbehavior?(e.onclick&&!e._onclick&&(e._onclick=e.onclick,e.onclick=function(t){return _.hasmoving?!1:void e._onclick.call(this,t)}),_.cancelEvent(t)):_.stopPropagation(t);/SUBMIT|CANCEL|BUTTON/i.test(T(e).attr("type"))&&(pc={tg:e,click:!1},_.preventclick=pc)}}},_.ontouchend=function(t){if(!_.rail.drag)return!0;if(2==_.rail.drag.pt){if(t.pointerType&&2!=t.pointerType&&"touch"!=t.pointerType)return!1;if(_.scrollmom.doMomentum(),_.rail.drag=!1,_.hasmoving&&(_.lastmouseup=!0,_.hideCursor(),b.hasmousecapture&&document.releaseCapture(),!b.cantouch))return _.cancelEvent(t)}else if(1==_.rail.drag.pt)return _.onmouseup(t)};var v=_.opt.touchbehavior&&_.isiframe&&!b.hasmousecapture;_.ontouchmove=function(t,e){if(!_.rail.drag)return!1;if(t.targetTouches&&_.opt.preventmultitouchscrolling&&t.targetTouches.length>1)return!1;if(t.pointerType&&2!=t.pointerType&&"touch"!=t.pointerType)return!1;if(2==_.rail.drag.pt){if(b.cantouch&&b.isios&&"undefined"==typeof t.original)return!0;_.hasmoving=!0,_.preventclick&&!_.preventclick.click&&(_.preventclick.click=_.preventclick.tg.onclick||!1,_.preventclick.tg.onclick=_.onpreventclick);var i=T.extend({original:t},t);if(t=i,"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),_.forcescreen){var o=t;t={original:t.original?t.original:t},t.clientX=o.screenX,t.clientY=o.screenY}var n,r;if(r=n=0,v&&!e){var s=_.win.position();r=-s.left,n=-s.top}var a=t.clientY+n,l=a-_.rail.drag.y,c=t.clientX+r,u=c-_.rail.drag.x,p=_.rail.drag.st-l;_.ishwscroll&&_.opt.bouncescroll?0>p?p=Math.round(p/2):p>_.page.maxh&&(p=_.page.maxh+Math.round((p-_.page.maxh)/2)):(0>p&&(p=0,a=0),p>_.page.maxh&&(p=_.page.maxh,a=0));var d;_.railh&&_.railh.scrollable&&(d=_.isrtlmode?u-_.rail.drag.sl:_.rail.drag.sl-u,_.ishwscroll&&_.opt.bouncescroll?0>d?d=Math.round(d/2):d>_.page.maxw&&(d=_.page.maxw+Math.round((d-_.page.maxw)/2)):(0>d&&(d=0,c=0),d>_.page.maxw&&(d=_.page.maxw,c=0)));var f=!1;if(_.rail.drag.dl)f=!0,"v"==_.rail.drag.dl?d=_.rail.drag.sl:"h"==_.rail.drag.dl&&(p=_.rail.drag.st);else{var h=Math.abs(l),m=Math.abs(u),g=_.opt.directionlockdeadzone;if("v"==_.rail.drag.ck){if(h>g&&.3*h>=m)return _.rail.drag=!1,!0;m>g&&(_.rail.drag.dl="f",T("body").scrollTop(T("body").scrollTop()))}else if("h"==_.rail.drag.ck){if(m>g&&.3*m>=h)return _.rail.drag=!1,!0;h>g&&(_.rail.drag.dl="f",T("body").scrollLeft(T("body").scrollLeft()))}}if(_.synched("touchmove",function(){_.rail.drag&&2==_.rail.drag.pt&&(_.prepareTransition&&_.prepareTransition(0),_.rail.scrollable&&_.setScrollTop(p),_.scrollmom.update(c,a),_.railh&&_.railh.scrollable?(_.setScrollLeft(d),_.showCursor(p,d)):_.showCursor(p),b.isie10&&document.selection.clear())}),b.ischrome&&_.istouchcapable&&(f=!1),f)return _.cancelEvent(t)}else if(1==_.rail.drag.pt)return _.onmousemove(t)}}if(_.onmousedown=function(t,e){if(!_.rail.drag||1==_.rail.drag.pt){if(_.railslocked)return _.cancelEvent(t);_.cancelScroll(),_.rail.drag={x:t.clientX,y:t.clientY,sx:_.scroll.x,sy:_.scroll.y,pt:1,hr:!!e};var i=_.getTarget(t);return!_.ispage&&b.hasmousecapture&&i.setCapture(),_.isiframe&&!b.hasmousecapture&&(_.saved.csspointerevents=_.doc.css("pointer-events"),_.css(_.doc,{"pointer-events":"none"})),_.hasmoving=!1,_.cancelEvent(t)}},_.onmouseup=function(t){return _.rail.drag?1!=_.rail.drag.pt?!0:(b.hasmousecapture&&document.releaseCapture(),_.isiframe&&!b.hasmousecapture&&_.doc.css("pointer-events",_.saved.csspointerevents),_.rail.drag=!1,_.hasmoving&&_.triggerScrollEnd(),_.cancelEvent(t)):void 0},_.onmousemove=function(t){if(_.rail.drag){if(1!=_.rail.drag.pt)return;if(b.ischrome&&0==t.which)return _.onmouseup(t);if(_.cursorfreezed=!0,_.hasmoving=!0,_.rail.drag.hr){_.scroll.x=_.rail.drag.sx+(t.clientX-_.rail.drag.x),_.scroll.x<0&&(_.scroll.x=0);var e=_.scrollvaluemaxw;_.scroll.x>e&&(_.scroll.x=e)}else{_.scroll.y=_.rail.drag.sy+(t.clientY-_.rail.drag.y),_.scroll.y<0&&(_.scroll.y=0);var i=_.scrollvaluemax;_.scroll.y>i&&(_.scroll.y=i)}return _.synched("mousemove",function(){_.rail.drag&&1==_.rail.drag.pt&&(_.showCursor(),_.rail.drag.hr?_.hasreversehr?_.doScrollLeft(_.scrollvaluemaxw-Math.round(_.scroll.x*_.scrollratio.x),_.opt.cursordragspeed):_.doScrollLeft(Math.round(_.scroll.x*_.scrollratio.x),_.opt.cursordragspeed):_.doScrollTop(Math.round(_.scroll.y*_.scrollratio.y),_.opt.cursordragspeed))}),_.cancelEvent(t)}_.checkarea=0},b.cantouch||_.opt.touchbehavior)_.onpreventclick=function(t){return _.preventclick?(_.preventclick.tg.onclick=_.preventclick.click,_.preventclick=!1,_.cancelEvent(t)):void 0},_.bind(_.win,"mousedown",_.ontouchstart),_.onclick=b.isios?!1:function(t){return _.lastmouseup?(_.lastmouseup=!1,_.cancelEvent(t)):!0},_.opt.grabcursorenabled&&b.cursorgrabvalue&&(_.css(_.ispage?_.doc:_.win,{cursor:b.cursorgrabvalue}),_.css(_.rail,{cursor:b.cursorgrabvalue}));else{var f=function(t){if(_.selectiondrag){if(t){var e=_.win.outerHeight(),i=t.pageY-_.selectiondrag.top;i>0&&e>i&&(i=0),i>=e&&(i-=e),_.selectiondrag.df=i}if(0!=_.selectiondrag.df){var o=2*-Math.floor(_.selectiondrag.df/6);_.doScrollBy(o),_.debounced("doselectionscroll",function(){f()},50)}}};"getSelection"in document?_.hasTextSelected=function(){return document.getSelection().rangeCount>0}:"selection"in document?_.hasTextSelected=function(){return"None"!=document.selection.type}:_.hasTextSelected=function(){return!1},_.onselectionstart=function(t){_.ispage||(_.selectiondrag=_.win.offset())},_.onselectionend=function(t){_.selectiondrag=!1},_.onselectiondrag=function(t){_.selectiondrag&&_.hasTextSelected()&&_.debounced("selectionscroll",function(){f(t)},250)}}b.hasw3ctouch?(_.css(_.rail,{"touch-action":"none"}),_.css(_.cursor,{"touch-action":"none"}),_.bind(_.win,"pointerdown",_.ontouchstart),_.bind(document,"pointerup",_.ontouchend),_.bind(document,"pointermove",_.ontouchmove)):b.hasmstouch?(_.css(_.rail,{"-ms-touch-action":"none"}),_.css(_.cursor,{"-ms-touch-action":"none"}),_.bind(_.win,"MSPointerDown",_.ontouchstart),_.bind(document,"MSPointerUp",_.ontouchend),_.bind(document,"MSPointerMove",_.ontouchmove),_.bind(_.cursor,"MSGestureHold",function(t){t.preventDefault()}),_.bind(_.cursor,"contextmenu",function(t){t.preventDefault()})):this.istouchcapable&&(_.bind(_.win,"touchstart",_.ontouchstart),_.bind(document,"touchend",_.ontouchend),_.bind(document,"touchcancel",_.ontouchend),_.bind(document,"touchmove",_.ontouchmove)),(_.opt.cursordragontouch||!b.cantouch&&!_.opt.touchbehavior)&&(_.rail.css({cursor:"default"}),_.railh&&_.railh.css({cursor:"default"}),_.jqbind(_.rail,"mouseenter",function(){return _.ispage||_.win.is(":visible")?(_.canshowonmouseevent&&_.showCursor(),void(_.rail.active=!0)):!1}),_.jqbind(_.rail,"mouseleave",function(){_.rail.active=!1,_.rail.drag||_.hideCursor()}),_.opt.sensitiverail&&(_.bind(_.rail,"click",function(t){_.doRailClick(t,!1,!1)}),_.bind(_.rail,"dblclick",function(t){_.doRailClick(t,!0,!1)}),_.bind(_.cursor,"click",function(t){_.cancelEvent(t)}),_.bind(_.cursor,"dblclick",function(t){_.cancelEvent(t)})),_.railh&&(_.jqbind(_.railh,"mouseenter",function(){return _.ispage||_.win.is(":visible")?(_.canshowonmouseevent&&_.showCursor(),void(_.rail.active=!0)):!1}),_.jqbind(_.railh,"mouseleave",function(){_.rail.active=!1,_.rail.drag||_.hideCursor()}),_.opt.sensitiverail&&(_.bind(_.railh,"click",function(t){_.doRailClick(t,!1,!0)}),_.bind(_.railh,"dblclick",function(t){_.doRailClick(t,!0,!0)}),_.bind(_.cursorh,"click",function(t){_.cancelEvent(t)}),_.bind(_.cursorh,"dblclick",function(t){_.cancelEvent(t)})))),b.cantouch||_.opt.touchbehavior?(_.bind(b.hasmousecapture?_.win:document,"mouseup",_.ontouchend),_.bind(document,"mousemove",_.ontouchmove),_.onclick&&_.bind(document,"click",_.onclick),_.opt.cursordragontouch&&(_.bind(_.cursor,"mousedown",_.onmousedown),_.bind(_.cursor,"mouseup",_.onmouseup),_.cursorh&&_.bind(_.cursorh,"mousedown",function(t){_.onmousedown(t,!0)}),_.cursorh&&_.bind(_.cursorh,"mouseup",_.onmouseup))):(_.bind(b.hasmousecapture?_.win:document,"mouseup",_.onmouseup),_.bind(document,"mousemove",_.onmousemove),_.onclick&&_.bind(document,"click",_.onclick),_.bind(_.cursor,"mousedown",_.onmousedown),_.bind(_.cursor,"mouseup",_.onmouseup),_.railh&&(_.bind(_.cursorh,"mousedown",function(t){_.onmousedown(t,!0)}),_.bind(_.cursorh,"mouseup",_.onmouseup)),!_.ispage&&_.opt.enablescrollonselection&&(_.bind(_.win[0],"mousedown",_.onselectionstart),_.bind(document,"mouseup",_.onselectionend),_.bind(_.cursor,"mouseup",_.onselectionend),_.cursorh&&_.bind(_.cursorh,"mouseup",_.onselectionend),_.bind(document,"mousemove",_.onselectiondrag)),_.zoom&&(_.jqbind(_.zoom,"mouseenter",function(){_.canshowonmouseevent&&_.showCursor(),_.rail.active=!0}),_.jqbind(_.zoom,"mouseleave",function(){_.rail.active=!1,_.rail.drag||_.hideCursor()}))),_.opt.enablemousewheel&&(_.isiframe||_.bind(b.isie&&_.ispage?document:_.win,"mousewheel",_.onmousewheel),_.bind(_.rail,"mousewheel",_.onmousewheel),_.railh&&_.bind(_.railh,"mousewheel",_.onmousewheelhr)),_.ispage||b.cantouch||/HTML|^BODY/.test(_.win[0].nodeName)||(_.win.attr("tabindex")||_.win.attr({tabindex:S++}),_.jqbind(_.win,"focus",function(t){w=_.getTarget(t).id||!0,_.hasfocus=!0,_.canshowonmouseevent&&_.noticeCursor()}),_.jqbind(_.win,"blur",function(t){w=!1,_.hasfocus=!1}),_.jqbind(_.win,"mouseenter",function(t){x=_.getTarget(t).id||!0,_.hasmousefocus=!0,_.canshowonmouseevent&&_.noticeCursor()}),_.jqbind(_.win,"mouseleave",function(){x=!1,_.hasmousefocus=!1,_.rail.drag||_.hideCursor()}))}if(_.onkeypress=function(t){if(_.railslocked&&0==_.page.maxh)return!0;t=t?t:window.e;var e=_.getTarget(t);if(e&&/INPUT|TEXTAREA|SELECT|OPTION/.test(e.nodeName)){var i=e.getAttribute("type")||e.type||!1;if(!i||!/submit|button|cancel/i.tp)return!0}if(T(e).attr("contenteditable"))return!0;if(_.hasfocus||_.hasmousefocus&&!w||_.ispage&&!w&&!x){var o=t.keyCode;if(_.railslocked&&27!=o)return _.cancelEvent(t);var n=t.ctrlKey||!1,r=t.shiftKey||!1,s=!1;switch(o){case 38:case 63233:_.doScrollBy(72),s=!0;break;case 40:case 63235:_.doScrollBy(-72),s=!0;break;case 37:case 63232:_.railh&&(n?_.doScrollLeft(0):_.doScrollLeftBy(72),s=!0);break;case 39:case 63234:_.railh&&(n?_.doScrollLeft(_.page.maxw):_.doScrollLeftBy(-72),s=!0);break;case 33:case 63276:_.doScrollBy(_.view.h),s=!0;break;case 34:case 63277:_.doScrollBy(-_.view.h),s=!0;break;case 36:case 63273:_.railh&&n?_.doScrollPos(0,0):_.doScrollTo(0),s=!0;break;case 35:case 63275:_.railh&&n?_.doScrollPos(_.page.maxw,_.page.maxh):_.doScrollTo(_.page.maxh),s=!0;break;case 32:_.opt.spacebarenabled&&(r?_.doScrollBy(_.view.h):_.doScrollBy(-_.view.h),s=!0);break;case 27:_.zoomactive&&(_.doZoom(),s=!0)}if(s)return _.cancelEvent(t)}},_.opt.enablekeyboard&&_.bind(document,b.isopera&&!b.isopera12?"keypress":"keydown",_.onkeypress),_.bind(document,"keydown",function(t){var e=t.ctrlKey||!1;e&&(_.wheelprevented=!0)}),_.bind(document,"keyup",function(t){var e=t.ctrlKey||!1;e||(_.wheelprevented=!1)}),_.bind(window,"blur",function(t){_.wheelprevented=!1}),_.bind(window,"resize",_.lazyResize),_.bind(window,"orientationchange",_.lazyResize),_.bind(window,"load",_.lazyResize),b.ischrome&&!_.ispage&&!_.haswrapper){var h=_.win.attr("style"),m=parseFloat(_.win.css("width"))+1;_.win.css("width",m),_.synched("chromefix",function(){_.win.attr("style",h)})}_.onAttributeChange=function(t){_.lazyResize(_.isieold?250:30)},k!==!1&&(_.observerbody=new k(function(t){return t.forEach(function(t){return"attributes"==t.type?T("body").hasClass("modal-open")&&!T.contains(T(".modal-dialog")[0],_.doc[0])?_.hide():_.show():void 0}),document.body.scrollHeight!=_.page.maxh?_.lazyResize(30):void 0}),_.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),_.ispage||_.haswrapper||(k!==!1?(_.observer=new k(function(t){t.forEach(_.onAttributeChange)}),_.observer.observe(_.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),_.observerremover=new k(function(t){t.forEach(function(t){if(t.removedNodes.length>0)for(var e in t.removedNodes)if(_&&t.removedNodes[e]==_.win[0])return _.remove()})}),_.observerremover.observe(_.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(_.bind(_.win,b.isie&&!b.isie9?"propertychange":"DOMAttrModified",_.onAttributeChange),b.isie9&&_.win[0].attachEvent("onpropertychange",_.onAttributeChange),_.bind(_.win,"DOMNodeRemoved",function(t){t.target==_.win[0]&&_.remove()}))),!_.ispage&&_.opt.boxzoom&&_.bind(window,"resize",_.resizeZoom),_.istextarea&&(_.bind(_.win,"keydown",_.lazyResize),_.bind(_.win,"mouseup",_.lazyResize)),_.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var g=function(){_.iframexd=!1;var e;try{e="contentDocument"in this?this.contentDocument:this.contentWindow.document;e.domain}catch(t){_.iframexd=!0,e=!1}if(_.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;if(_.forcescreen=!0,_.isiframe&&(_.iframe={doc:T(e),html:_.doc.contents().find("html")[0],body:_.doc.contents().find("body")[0]},_.getContentSize=function(){return{w:Math.max(_.iframe.html.scrollWidth,_.iframe.body.scrollWidth),h:Math.max(_.iframe.html.scrollHeight,_.iframe.body.scrollHeight)}},_.docscroll=T(_.iframe.body)),!b.isios&&_.opt.iframeautoresize&&!_.isiframe){_.win.scrollTop(0),_.doc.height("");var t=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);_.doc.height(t)}_.lazyResize(30),b.isie7&&_.css(T(_.iframe.html),{"overflow-y":"hidden"}),_.css(T(_.iframe.body),{"overflow-y":"hidden"}),b.isios&&_.haswrapper&&_.css(T(e.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?_.bind(this.contentWindow,"scroll",_.onscroll):_.bind(e,"scroll",_.onscroll),_.opt.enablemousewheel&&_.bind(e,"mousewheel",_.onmousewheel),_.opt.enablekeyboard&&_.bind(e,b.isopera?"keypress":"keydown",_.onkeypress),(b.cantouch||_.opt.touchbehavior)&&(_.bind(e,"mousedown",_.ontouchstart),_.bind(e,"mousemove",function(t){return _.ontouchmove(t,!0)}),_.opt.grabcursorenabled&&b.cursorgrabvalue&&_.css(T(e.body),{cursor:b.cursorgrabvalue})),_.bind(e,"mouseup",_.ontouchend),_.zoom&&(_.opt.dblclickzoom&&_.bind(e,"dblclick",_.doZoom),_.ongesturezoom&&_.bind(e,"gestureend",_.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){g.call(_.doc[0],!1)},500),_.bind(this.doc,"load",g)}},this.showCursor=function(t,e){if(_.cursortimeout&&(clearTimeout(_.cursortimeout),_.cursortimeout=0),_.rail){if(_.autohidedom&&(_.autohidedom.stop().css({opacity:_.opt.cursoropacitymax}),_.cursoractive=!0),_.rail.drag&&1==_.rail.drag.pt||("undefined"!=typeof t&&t!==!1&&(_.scroll.y=Math.round(1*t/_.scrollratio.y)),"undefined"!=typeof e&&(_.scroll.x=Math.round(1*e/_.scrollratio.x))),_.cursor.css({height:_.cursorheight,top:_.scroll.y}),_.cursorh){var i=_.hasreversehr?_.scrollvaluemaxw-_.scroll.x:_.scroll.x;!_.rail.align&&_.rail.visibility?_.cursorh.css({width:_.cursorwidth,left:i+_.rail.width}):_.cursorh.css({width:_.cursorwidth,left:i}),_.cursoractive=!0}_.zoom&&_.zoom.stop().css({opacity:_.opt.cursoropacitymax})}},this.hideCursor=function(t){_.cursortimeout||_.rail&&_.autohidedom&&(_.hasmousefocus&&"leave"==_.opt.autohidemode||(_.cursortimeout=setTimeout(function(){_.rail.active&&_.showonmouseevent||(_.autohidedom.stop().animate({opacity:_.opt.cursoropacitymin}),_.zoom&&_.zoom.stop().animate({opacity:_.opt.cursoropacitymin}),_.cursoractive=!1),_.cursortimeout=0},t||_.opt.hidecursordelay)))},this.noticeCursor=function(t,e,i){_.showCursor(e,i),_.rail.active||_.hideCursor(t)},this.getContentSize=_.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:_.haswrapper?function(){return{w:_.doc.outerWidth()+parseInt(_.win.css("paddingLeft"))+parseInt(_.win.css("paddingRight")),h:_.doc.outerHeight()+parseInt(_.win.css("paddingTop"))+parseInt(_.win.css("paddingBottom"))}}:function(){return{w:_.docscroll[0].scrollWidth,h:_.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!_||!_.win)return!1;if(!_.haswrapper&&!_.ispage){if("none"==_.win.css("display"))return _.visibility&&_.hideRail().hideRailHr(),!1;_.hidden||_.visibility||_.showRail().showRailHr()}var i=_.page.maxh,o=_.page.maxw,n={h:_.view.h,w:_.view.w};if(_.view={w:_.ispage?_.win.width():parseInt(_.win[0].clientWidth),h:_.ispage?_.win.height():parseInt(_.win[0].clientHeight)},_.page=e?e:_.getContentSize(),_.page.maxh=Math.max(0,_.page.h-_.view.h),_.page.maxw=Math.max(0,_.page.w-_.view.w),_.page.maxh==i&&_.page.maxw==o&&_.view.w==n.w&&_.view.h==n.h){if(_.ispage)return _;var r=_.win.offset();if(_.lastposition){var s=_.lastposition;if(s.top==r.top&&s.left==r.left)return _}_.lastposition=r}if(0==_.page.maxh?(_.hideRail(),_.scrollvaluemax=0,_.scroll.y=0,_.scrollratio.y=0,_.cursorheight=0,_.setScrollTop(0),_.rail&&(_.rail.scrollable=!1)):(_.page.maxh-=_.opt.railpadding.top+_.opt.railpadding.bottom,_.rail.scrollable=!0),0==_.page.maxw?(_.hideRailHr(),_.scrollvaluemaxw=0,_.scroll.x=0,_.scrollratio.x=0,_.cursorwidth=0,_.setScrollLeft(0),_.railh&&(_.railh.scrollable=!1)):(_.page.maxw-=_.opt.railpadding.left+_.opt.railpadding.right,_.railh&&(_.railh.scrollable=_.opt.horizrailenabled)),_.railslocked=_.locked||0==_.page.maxh&&0==_.page.maxw,_.railslocked)return _.ispage||_.updateScrollBar(_.view),!1;_.hidden||_.visibility?!_.railh||_.hidden||_.railh.visibility||_.showRailHr():_.showRail().showRailHr(),_.istextarea&&_.win.css("resize")&&"none"!=_.win.css("resize")&&(_.view.h-=20),_.cursorheight=Math.min(_.view.h,Math.round(_.view.h*(_.view.h/_.page.h))),_.cursorheight=_.opt.cursorfixedheight?_.opt.cursorfixedheight:Math.max(_.opt.cursorminheight,_.cursorheight),_.cursorwidth=Math.min(_.view.w,Math.round(_.view.w*(_.view.w/_.page.w))),_.cursorwidth=_.opt.cursorfixedheight?_.opt.cursorfixedheight:Math.max(_.opt.cursorminheight,_.cursorwidth),_.scrollvaluemax=_.view.h-_.cursorheight-_.cursor.hborder-(_.opt.railpadding.top+_.opt.railpadding.bottom),_.railh&&(_.railh.width=_.page.maxh>0?_.view.w-_.rail.width:_.view.w,_.scrollvaluemaxw=_.railh.width-_.cursorwidth-_.cursorh.wborder-(_.opt.railpadding.left+_.opt.railpadding.right)),_.ispage||_.updateScrollBar(_.view),_.scrollratio={x:_.page.maxw/_.scrollvaluemaxw,y:_.page.maxh/_.scrollvaluemax};var a=_.getScrollTop();return a>_.page.maxh?_.doScrollTop(_.page.maxh):(_.scroll.y=Math.round(_.getScrollTop()*(1/_.scrollratio.y)),_.scroll.x=Math.round(_.getScrollLeft()*(1/_.scrollratio.x)),_.cursoractive&&_.noticeCursor()),_.scroll.y&&0==_.getScrollTop()&&_.doScrollTo(Math.floor(_.scroll.y*_.scrollratio.y)),_},this.resize=_.onResize,this.lazyResize=function(t){return t=isNaN(t)?30:t,_.debounced("resize",_.resize,t),_},this.jqbind=function(t,e,i){_.events.push({e:t,n:e,f:i,q:!0}),T(t).bind(e,i)},this.bind=function(t,e,i,o){var n="jquery"in t?t[0]:t;if("mousewheel"==e)if("onwheel"in _.win)_._bind(n,"wheel",i,o||!1);else{var r="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll";a(n,r,i,o||!1),"DOMMouseScroll"==r&&a(n,"MozMousePixelScroll",i,o||!1)}else if(n.addEventListener){if(b.cantouch&&/mouseup|mousedown|mousemove/.test(e)){var s="mousedown"==e?"touchstart":"mouseup"==e?"touchend":"touchmove";_._bind(n,s,function(t){if(t.touches){if(t.touches.length<2){var e=t.touches.length?t.touches[0]:t;e.original=t,i.call(this,e)}}else if(t.changedTouches){var e=t.changedTouches[0];e.original=t,i.call(this,e)}},o||!1)}_._bind(n,e,i,o||!1),b.cantouch&&"mouseup"==e&&_._bind(n,"touchcancel",i,o||!1)}else _._bind(n,e,function(t){return t=t||window.event||!1,t&&t.srcElement&&(t.target=t.srcElement),"pageY"in t||(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop),i.call(n,t)===!1||o===!1?_.cancelEvent(t):!0})},b.haseventlistener?(this._bind=function(t,e,i,o){_.events.push({e:t,n:e,f:i,b:o,q:!1}),t.addEventListener(e,i,o||!1)},this.cancelEvent=function(t){if(!t)return!1;var t=t.original?t.original:t;return t.preventDefault(),t.stopPropagation(),t.preventManipulation&&t.preventManipulation(),!1},this.stopPropagation=function(t){if(!t)return!1;var t=t.original?t.original:t;return t.stopPropagation(),!1},this._unbind=function(t,e,i,o){t.removeEventListener(e,i,o)}):(this._bind=function(t,e,i,o){_.events.push({e:t,n:e,f:i,b:o,q:!1}),t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},this.cancelEvent=function(t){var t=window.event||!1;return t?(t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1,!1):!1},this.stopPropagation=function(t){var t=window.event||!1;return t?(t.cancelBubble=!0,!1):!1},this._unbind=function(t,e,i,o){t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=!1}),this.unbindAll=function(){for(var t=0;t<_.events.length;t++){var e=_.events[t];e.q?e.e.unbind(e.n,e.f):_._unbind(e.e,e.n,e.f,e.b)}},this.showRail=function(){return 0==_.page.maxh||!_.ispage&&"none"==_.win.css("display")||(_.visibility=!0,_.rail.visibility=!0,_.rail.css("display","block")),_},this.showRailHr=function(){return _.railh?(0==_.page.maxw||!_.ispage&&"none"==_.win.css("display")||(_.railh.visibility=!0,_.railh.css("display","block")),_):_},this.hideRail=function(){return _.visibility=!1,_.rail.visibility=!1,_.rail.css("display","none"),_},this.hideRailHr=function(){return _.railh?(_.railh.visibility=!1,_.railh.css("display","none"),_):_},this.show=function(){return _.hidden=!1,_.railslocked=!1,_.showRail().showRailHr()},this.hide=function(){return _.hidden=!0,_.railslocked=!0,_.hideRail().hideRailHr()},this.toggle=function(){return _.hidden?_.show():_.hide()},this.remove=function(){_.stop(),_.cursortimeout&&clearTimeout(_.cursortimeout),_.debouncedelayed&&clearTimeout(_.debouncedelayed),_.doZoomOut(),_.unbindAll(),b.isie9&&_.win[0].detachEvent("onpropertychange",_.onAttributeChange),_.observer!==!1&&_.observer.disconnect(),_.observerremover!==!1&&_.observerremover.disconnect(),_.observerbody!==!1&&_.observerbody.disconnect(),_.events=null,_.cursor&&_.cursor.remove(),_.cursorh&&_.cursorh.remove(),_.rail&&_.rail.remove(),_.railh&&_.railh.remove(),_.zoom&&_.zoom.remove();for(var t=0;t<_.saved.css.length;t++){var e=_.saved.css[t];e[0].css(e[1],"undefined"==typeof e[2]?"":e[2])}_.saved=!1,_.me.data("__nicescroll","");var i=T.nicescroll;i.each(function(t){if(this&&this.id===_.id){delete i[t];for(var e=++t;e<i.length;e++,t++)i[t]=i[e];i.length--,i.length&&delete i[i.length]}});for(var o in _)_[o]=null,delete _[o];_=null},this.scrollstart=function(t){return this.onscrollstart=t,_},this.scrollend=function(t){return this.onscrollend=t,_},this.scrollcancel=function(t){return this.onscrollcancel=t,_},this.zoomin=function(t){return this.onzoomin=t,_},this.zoomout=function(t){return this.onzoomout=t,_},this.isScrollable=function(t){var e=t.target?t.target:t;if("OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=T(e),o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o))return e.clientHeight!=e.scrollHeight;e=e.parentNode?e.parentNode:!1}return!1},this.getViewport=function(t){for(var e=t&&t.parentNode?t.parentNode:!1;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=T(e);if(/fixed|absolute/.test(i.css("position")))return i;var o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o)&&e.clientHeight!=e.scrollHeight)return i;if(i.getNiceScroll().length>0)return i;e=e.parentNode?e.parentNode:!1}return!1},this.triggerScrollEnd=function(){if(_.onscrollend){var t=_.getScrollLeft(),e=_.getScrollTop(),i={type:"scrollend",current:{x:t,y:e},end:{x:t,y:e}};_.onscrollend.call(_,i)}},this.onmousewheel=function(t){if(!_.wheelprevented){if(_.railslocked)return _.debounced("checkunlock",_.resize,250),!0;if(_.rail.drag)return _.cancelEvent(t);if("auto"==_.opt.oneaxismousemode&&0!=t.deltaX&&(_.opt.oneaxismousemode=!1),_.opt.oneaxismousemode&&0==t.deltaX&&!_.rail.scrollable)return _.railh&&_.railh.scrollable?_.onmousewheelhr(t):!0;var e=+new Date,i=!1;if(_.opt.preservenativescrolling&&_.checkarea+600<e&&(_.nativescrollingarea=_.isScrollable(t),i=!0),_.checkarea=e,_.nativescrollingarea)return!0;var o=n(t,!1,i);return o&&(_.checkarea=0),o}},this.onmousewheelhr=function(t){if(!_.wheelprevented){if(_.railslocked||!_.railh.scrollable)return!0;if(_.rail.drag)return _.cancelEvent(t);var e=+new Date,i=!1;return _.opt.preservenativescrolling&&_.checkarea+600<e&&(_.nativescrollingarea=_.isScrollable(t),i=!0),_.checkarea=e,_.nativescrollingarea?!0:_.railslocked?_.cancelEvent(t):n(t,!0,i)}},this.stop=function(){return _.cancelScroll(),_.scrollmon&&_.scrollmon.stop(),_.cursorfreezed=!1,_.scroll.y=Math.round(_.getScrollTop()*(1/_.scrollratio.y)),_.noticeCursor(),_},this.getTransitionSpeed=function(t){var e=Math.round(10*_.opt.scrollspeed),i=Math.min(e,Math.round(t/20*_.opt.scrollspeed));return i>20?i:0},_.opt.smoothscroll?_.ishwscroll&&b.hastransition&&_.opt.usetransition&&_.opt.smoothscroll?(this.prepareTransition=function(t,e){var i=e?t>20?t:0:_.getTransitionSpeed(t),o=i?b.prefixstyle+"transform "+i+"ms ease-out":"";return _.lasttransitionstyle&&_.lasttransitionstyle==o||(_.lasttransitionstyle=o,_.doc.css(b.transitionstyle,o)),i},this.doScrollLeft=function(t,e){var i=_.scrollrunning?_.newscrolly:_.getScrollTop();_.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=_.scrollrunning?_.newscrollx:_.getScrollLeft();_.doScrollPos(i,t,e)},this.doScrollPos=function(l,c,t){var e=_.getScrollTop(),i=_.getScrollLeft();return((_.newscrolly-e)*(c-e)<0||(_.newscrollx-i)*(l-i)<0)&&_.cancelScroll(),0==_.opt.bouncescroll&&(0>c?c=0:c>_.page.maxh&&(c=_.page.maxh),0>l?l=0:l>_.page.maxw&&(l=_.page.maxw)),_.scrollrunning&&l==_.newscrollx&&c==_.newscrolly?!1:(_.newscrolly=c,_.newscrollx=l,_.newscrollspeed=t||!1,_.timer?!1:void(_.timer=setTimeout(function(){var t=_.getScrollTop(),e=_.getScrollLeft(),i={};i.x=l-e,i.y=c-t,i.px=e,i.py=t;var o=Math.round(Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))),n=_.newscrollspeed&&_.newscrollspeed>1?_.newscrollspeed:_.getTransitionSpeed(o);if(_.newscrollspeed&&_.newscrollspeed<=1&&(n*=_.newscrollspeed),_.prepareTransition(n,!0),_.timerscroll&&_.timerscroll.tm&&clearInterval(_.timerscroll.tm),n>0){if(!_.scrollrunning&&_.onscrollstart){var r={type:"scrollstart",current:{x:e,y:t},request:{x:l,y:c},end:{x:_.newscrollx,y:_.newscrolly},speed:n};_.onscrollstart.call(_,r)}b.transitionend?_.scrollendtrapped||(_.scrollendtrapped=!0,_.bind(_.doc,b.transitionend,_.onScrollTransitionEnd,!1)):(_.scrollendtrapped&&clearTimeout(_.scrollendtrapped),_.scrollendtrapped=setTimeout(_.onScrollTransitionEnd,n));var s=t,a=e;_.timerscroll={bz:new d(s,_.newscrolly,n,0,0,.58,1),bh:new d(a,_.newscrollx,n,0,0,.58,1)},_.cursorfreezed||(_.timerscroll.tm=setInterval(function(){_.showCursor(_.getScrollTop(),_.getScrollLeft())},60))}_.synched("doScroll-set",function(){_.timer=0,_.scrollendtrapped&&(_.scrollrunning=!0),_.setScrollTop(_.newscrolly),_.setScrollLeft(_.newscrollx),_.scrollendtrapped||_.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!_.scrollendtrapped)return!0;var t=_.getScrollTop(),e=_.getScrollLeft();return _.scrollrunning=!1,b.transitionend||clearTimeout(b.transitionend),_.scrollendtrapped=!1,_._unbind(_.doc[0],b.transitionend,_.onScrollTransitionEnd),_.prepareTransition(0),_.setScrollTop(t),_.railh&&_.setScrollLeft(e),_.timerscroll&&_.timerscroll.tm&&clearInterval(_.timerscroll.tm),_.timerscroll=!1,_.cursorfreezed=!1,_.showCursor(t,e),_},this.onScrollTransitionEnd=function(){_.scrollendtrapped&&_._unbind(_.doc[0],b.transitionend,_.onScrollTransitionEnd),_.scrollendtrapped=!1,_.prepareTransition(0),_.timerscroll&&_.timerscroll.tm&&clearInterval(_.timerscroll.tm),_.timerscroll=!1;var t=_.getScrollTop(),e=_.getScrollLeft();return _.setScrollTop(t),_.railh&&_.setScrollLeft(e),_.noticeCursor(!1,t,e),_.cursorfreezed=!1,0>t?t=0:t>_.page.maxh&&(t=_.page.maxh),0>e?e=0:e>_.page.maxw&&(e=_.page.maxw),t!=_.newscrolly||e!=_.newscrollx?_.doScrollPos(e,t,_.opt.snapbackspeed):(_.onscrollend&&_.scrollrunning&&_.triggerScrollEnd(),void(_.scrollrunning=!1))}):(this.doScrollLeft=function(t,e){var i=_.scrollrunning?_.newscrolly:_.getScrollTop();_.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=_.scrollrunning?_.newscrollx:_.getScrollLeft();_.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){function s(){if(_.cancelAnimationFrame)return!0;if(_.scrollrunning=!0,u=1-u)return _.timer=f(s)||1;var t,e,i=0,o=e=_.getScrollTop();if(_.dst.ay){o=_.bzscroll?_.dst.py+_.bzscroll.getNow()*_.dst.ay:_.newscrolly;var n=o-e;(0>n&&o<_.newscrolly||n>0&&o>_.newscrolly)&&(o=_.newscrolly),_.setScrollTop(o),o==_.newscrolly&&(i=1)}else i=1;var r=t=_.getScrollLeft();if(_.dst.ax){r=_.bzscroll?_.dst.px+_.bzscroll.getNow()*_.dst.ax:_.newscrollx;var n=r-t;(0>n&&r<_.newscrollx||n>0&&r>_.newscrollx)&&(r=_.newscrollx),_.setScrollLeft(r),r==_.newscrollx&&(i+=1)}else i+=1;2==i?(_.timer=0,_.cursorfreezed=!1,_.bzscroll=!1,_.scrollrunning=!1,0>o?o=0:o>_.page.maxh&&(o=_.page.maxh),0>r?r=0:r>_.page.maxw&&(r=_.page.maxw),r!=_.newscrollx||o!=_.newscrolly?_.doScrollPos(r,o):_.onscrollend&&_.triggerScrollEnd()):_.timer=f(s)||1}var e="undefined"==typeof e||e===!1?_.getScrollTop(!0):e;if(_.timer&&_.newscrolly==e&&_.newscrollx==t)return!0;_.timer&&h(_.timer),_.timer=0;var o=_.getScrollTop(),n=_.getScrollLeft();((_.newscrolly-o)*(e-o)<0||(_.newscrollx-n)*(t-n)<0)&&_.cancelScroll(),_.newscrolly=e,_.newscrollx=t,_.bouncescroll&&_.rail.visibility||(_.newscrolly<0?_.newscrolly=0:_.newscrolly>_.page.maxh&&(_.newscrolly=_.page.maxh)),_.bouncescroll&&_.railh.visibility||(_.newscrollx<0?_.newscrollx=0:_.newscrollx>_.page.maxw&&(_.newscrollx=_.page.maxw)),_.dst={},_.dst.x=t-n,_.dst.y=e-o,_.dst.px=n,_.dst.py=o;var r=Math.round(Math.sqrt(Math.pow(_.dst.x,2)+Math.pow(_.dst.y,2)));_.dst.ax=_.dst.x/r,_.dst.ay=_.dst.y/r;var a=0,l=r;0==_.dst.x?(a=o,l=e,_.dst.ay=1,_.dst.py=0):0==_.dst.y&&(a=n,l=t,_.dst.ax=1,_.dst.px=0);var c=_.getTransitionSpeed(r);if(i&&1>=i&&(c*=i),c>0?_.bzscroll=_.bzscroll?_.bzscroll.update(l,c):new d(a,l,c,0,1,0,1):_.bzscroll=!1,!_.timer){(o==_.page.maxh&&e>=_.page.maxh||n==_.page.maxw&&t>=_.page.maxw)&&_.checkContentSize();var u=1;if(_.cancelAnimationFrame=!1,_.timer=1,_.onscrollstart&&!_.scrollrunning){var p={type:"scrollstart",current:{x:n,y:o},request:{x:t,y:e},end:{x:_.newscrollx,y:_.newscrolly},speed:c};_.onscrollstart.call(_,p)}s(),(o==_.page.maxh&&e>=o||n==_.page.maxw&&t>=n)&&_.checkContentSize(),_.noticeCursor()}},this.cancelScroll=function(){return _.timer&&h(_.timer),_.timer=0,_.bzscroll=!1,_.scrollrunning=!1,_}):(this.doScrollLeft=function(t,e){var i=_.getScrollTop();_.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=_.getScrollLeft();_.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var o=t>_.page.maxw?_.page.maxw:t;0>o&&(o=0);var n=e>_.page.maxh?_.page.maxh:e;0>n&&(n=0),_.synched("scroll",function(){_.setScrollTop(n),_.setScrollLeft(o)})},this.cancelScroll=function(){}),this.doScrollBy=function(t,e){var i=0;if(e)i=Math.floor((_.scroll.y-t)*_.scrollratio.y);else{var o=_.timer?_.newscrolly:_.getScrollTop(!0);i=o-t}if(_.bouncescroll){var n=Math.round(_.view.h/2);-n>i?i=-n:i>_.page.maxh+n&&(i=_.page.maxh+n)}_.cursorfreezed=!1;var r=_.getScrollTop(!0);return 0>i&&0>=r?_.noticeCursor():i>_.page.maxh&&r>=_.page.maxh?(_.checkContentSize(),_.noticeCursor()):void _.doScrollTop(i)},this.doScrollLeftBy=function(t,e){var i=0;if(e)i=Math.floor((_.scroll.x-t)*_.scrollratio.x);else{var o=_.timer?_.newscrollx:_.getScrollLeft(!0);i=o-t}if(_.bouncescroll){var n=Math.round(_.view.w/2);-n>i?i=-n:i>_.page.maxw+n&&(i=_.page.maxw+n)}_.cursorfreezed=!1;var r=_.getScrollLeft(!0);return 0>i&&0>=r?_.noticeCursor():i>_.page.maxw&&r>=_.page.maxw?_.noticeCursor():void _.doScrollLeft(i)},this.doScrollTo=function(t,e){var i=e?Math.round(t*_.scrollratio.y):t;0>i?i=0:i>_.page.maxh&&(i=_.page.maxh),_.cursorfreezed=!1,_.doScrollTop(t)},this.checkContentSize=function(){var t=_.getContentSize();(t.h!=_.page.h||t.w!=_.page.w)&&_.resize(!1,t)},_.onscroll=function(t){_.rail.drag||_.cursorfreezed||_.synched("scroll",function(){_.scroll.y=Math.round(_.getScrollTop()*(1/_.scrollratio.y)),_.railh&&(_.scroll.x=Math.round(_.getScrollLeft()*(1/_.scrollratio.x))),_.noticeCursor()})},_.bind(_.docscroll,"scroll",_.onscroll),this.doZoomIn=function(t){if(!_.zoomactive){_.zoomactive=!0,_.zoomrestore={style:{}};var e=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],i=_.win[0].style;for(var o in e){var n=e[o];_.zoomrestore.style[n]="undefined"!=typeof i[n]?i[n]:""}_.zoomrestore.style.width=_.win.css("width"),_.zoomrestore.style.height=_.win.css("height"),_.zoomrestore.padding={w:_.win.outerWidth()-_.win.width(),h:_.win.outerHeight()-_.win.height()},b.isios4&&(_.zoomrestore.scrollTop=T(window).scrollTop(),T(window).scrollTop(0)),_.win.css({position:b.isios4?"absolute":"fixed",top:0,left:0,"z-index":z+100,margin:"0px"});var r=_.win.css("backgroundColor");return(""==r||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(r))&&_.win.css("backgroundColor","#fff"),_.rail.css({"z-index":z+101}),_.zoom.css({"z-index":z+102}),_.zoom.css("backgroundPosition","0px -18px"),_.resizeZoom(),_.onzoomin&&_.onzoomin.call(_),_.cancelEvent(t)}},this.doZoomOut=function(t){return _.zoomactive?(_.zoomactive=!1,_.win.css("margin",""),_.win.css(_.zoomrestore.style),b.isios4&&T(window).scrollTop(_.zoomrestore.scrollTop),_.rail.css({"z-index":_.zindex}),_.zoom.css({"z-index":_.zindex}),_.zoomrestore=!1,_.zoom.css("backgroundPosition","0px 0px"),_.onResize(),_.onzoomout&&_.onzoomout.call(_),_.cancelEvent(t)):void 0},this.doZoom=function(t){return _.zoomactive?_.doZoomOut(t):_.doZoomIn(t)},this.resizeZoom=function(){if(_.zoomactive){var t=_.getScrollTop();_.win.css({width:T(window).width()-_.zoomrestore.padding.w+"px",height:T(window).height()-_.zoomrestore.padding.h+"px"}),_.onResize(),_.setScrollTop(Math.min(_.page.maxh,t))}},this.init(),T.nicescroll.push(this)},$=function(t){var m=this;this.nc=t,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.time=function(){return+new Date},this.reset=function(t,e){m.stop();var i=m.time();m.steptime=0,m.lasttime=i,m.speedx=0,m.speedy=0,m.lastx=t,m.lasty=e,m.lastscrollx=-1,m.lastscrolly=-1},this.update=function(t,e){var i=m.time();m.steptime=i-m.lasttime,m.lasttime=i;var o=e-m.lasty,n=t-m.lastx,r=m.nc.getScrollTop(),s=m.nc.getScrollLeft(),a=r+o,l=s+n;m.snapx=0>l||l>m.nc.page.maxw,m.snapy=0>a||a>m.nc.page.maxh,m.speedx=n,m.speedy=o,m.lastx=t,m.lasty=e},this.stop=function(){m.nc.unsynched("domomentum2d"),m.timer&&clearTimeout(m.timer),m.timer=0,m.lastscrollx=-1,m.lastscrolly=-1},this.doSnapy=function(t,e){var i=!1;0>e?(e=0,i=!0):e>m.nc.page.maxh&&(e=m.nc.page.maxh,i=!0),0>t?(t=0,i=!0):t>m.nc.page.maxw&&(t=m.nc.page.maxw,i=!0),i?m.nc.doScrollPos(t,e,m.nc.opt.snapbackspeed):m.nc.triggerScrollEnd()},this.doMomentum=function(t){var e=m.time(),i=t?e+t:m.lasttime,o=m.nc.getScrollLeft(),n=m.nc.getScrollTop(),r=m.nc.page.maxh,s=m.nc.page.maxw;m.speedx=s>0?Math.min(60,m.speedx):0,m.speedy=r>0?Math.min(60,m.speedy):0;var a=i&&60>=e-i;(0>n||n>r||0>o||o>s)&&(a=!1);var l=m.speedy&&a?m.speedy:!1,c=m.speedx&&a?m.speedx:!1;if(l||c){var u=Math.max(16,m.steptime);if(u>50){var p=u/50;m.speedx*=p,m.speedy*=p,u=50}m.demulxy=0,m.lastscrollx=m.nc.getScrollLeft(),m.chkx=m.lastscrollx,m.lastscrolly=m.nc.getScrollTop(),m.chky=m.lastscrolly;var d=m.lastscrollx,f=m.lastscrolly,h=function(){var t=m.time()-e>600?.04:.02;m.speedx&&(d=Math.floor(m.lastscrollx-m.speedx*(1-m.demulxy)),m.lastscrollx=d,(0>d||d>s)&&(t=.1)),m.speedy&&(f=Math.floor(m.lastscrolly-m.speedy*(1-m.demulxy)),m.lastscrolly=f,(0>f||f>r)&&(t=.1)),m.demulxy=Math.min(1,m.demulxy+t),m.nc.synched("domomentum2d",function(){if(m.speedx){var t=m.nc.getScrollLeft();t!=m.chkx&&m.stop(),m.chkx=d,m.nc.setScrollLeft(d)}if(m.speedy){var e=m.nc.getScrollTop();e!=m.chky&&m.stop(),m.chky=f,m.nc.setScrollTop(f)}m.timer||(m.nc.hideCursor(),m.doSnapy(d,f))}),m.demulxy<1?m.timer=setTimeout(h,u):(m.stop(),m.nc.hideCursor(),m.doSnapy(d,f))};h()}else m.doSnapy(m.nc.getScrollLeft(),m.nc.getScrollTop())}},a=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(t,e,i){var o=T.data(t,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollTop():a.call(t)},set:function(t,e){var i=T.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(e)):a.call(t,e),this}},t.fn.scrollTop=function(e){if("undefined"==typeof e){var t=this[0]?T.data(this[0],"__nicescroll")||!1:!1;return t&&t.ishwscroll?t.getScrollTop():a.call(this)}return this.each(function(){var t=T.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):a.call(T(this),e)})};var l=t.fn.scrollLeft;T.cssHooks.pageXOffset={get:function(t,e,i){var o=T.data(t,"__nicescroll")||!1;return o&&o.ishwscroll?o.getScrollLeft():l.call(t)},set:function(t,e){var i=T.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(e)):l.call(t,e),this}},t.fn.scrollLeft=function(e){if("undefined"==typeof e){var t=this[0]?T.data(this[0],"__nicescroll")||!1:!1;return t&&t.ishwscroll?t.getScrollLeft():l.call(this)}return this.each(function(){var t=T.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):l.call(T(this),e)})};var c=function(t){var o=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){for(var e=0,i=0;e<o.length;e++)t.call(o[e],i++);return o},this.push=function(t){o[o.length]=t,o.length++},this.eq=function(t){return o[t]},t)for(var e=0;e<t.length;e++){var i=T.data(t[e],"__nicescroll")||!1;i&&(this[this.length]=i,this.length++)}return this};i(c.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}),t.fn.getNiceScroll=function(t){if("undefined"==typeof t)return new c(this);var e=this[t]&&T.data(this[t],"__nicescroll")||!1;return e},t.extend(t.expr[":"],{nicescroll:function(t){return T.data(t,"__nicescroll")?!0:!1}}),T.fn.niceScroll=function(t,e){"undefined"==typeof e&&("object"!=typeof t||"jquery"in t||(e=t,t=!1)),e=T.extend({},e);var i=new c;"undefined"==typeof e&&(e={}),t&&(e.doc=T(t),e.win=T(this));var o=!("doc"in e);return o||"win"in e||(e.win=T(this)),this.each(function(){var t=T(this).data("__nicescroll")||!1;t||(e.doc=o?T(this):e.doc,t=new s(e,T(this)),T(this).data("__nicescroll",t)),i.push(t)}),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return t}},T.nicescroll||(T.nicescroll=new c,T.nicescroll.options=p)});(function($){function sc_setScroll(t,e,i){return"transition"==i.transition&&"swing"==e&&(e="ease"),{anims:[],duration:t,orgDuration:t,easing:e,startTime:getTime()}}function sc_startScroll(t,e){for(var i=0,o=t.anims.length;o>i;i++){var n=t.anims[i];n&&n[0][e.transition](n[1],t.duration,t.easing,n[2])}}function sc_stopScroll(t,e){is_boolean(e)||(e=!0),is_object(t.pre)&&sc_stopScroll(t.pre,e);for(var i=0,o=t.anims.length;o>i;i++){var n=t.anims[i];n[0].stop(!0),e&&(n[0].css(n[1]),is_function(n[2])&&n[2]())}is_object(t.post)&&sc_stopScroll(t.post,e)}function sc_afterScroll(t,e,i){switch(e&&e.remove(),i.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":t.css("opacity",1),t.css("filter","")}}function sc_fireCallbacks(t,e,i,o,n){if(e[i]&&e[i].call(t,o),n[i].length)for(var r=0,s=n[i].length;s>r;r++)n[i][r].call(t,o);return[]}function sc_fireQueue(t,e,i){return e.length&&(t.trigger(cf_e(e[0][0],i),e[0][1]),e.shift()),e}function sc_hideHiddenItems(t){t.each(function(){var t=$(this);t.data("_cfs_isHidden",t.is(":hidden")).hide()})}function sc_showHiddenItems(t){t&&t.each(function(){var t=$(this);t.data("_cfs_isHidden")||t.show()})}function sc_clearTimers(t){return t.auto&&clearTimeout(t.auto),t.progress&&clearInterval(t.progress),t}function sc_mapCallbackArguments(t,e,i,o,n,r,s){return{width:s.width,height:s.height,items:{old:t,skipped:e,visible:i},scroll:{items:o,direction:n,duration:r}}}function sc_getDuration(t,e,i,o){var n=t.duration;return"none"==t.fx?0:("auto"==n?n=e.scroll.duration/e.scroll.items*i:10>n&&(n=o/n),1>n?0:("fade"==t.fx&&(n/=2),Math.round(n)))}function nv_showNavi(t,e,i){var o=is_number(t.items.minimum)?t.items.minimum:t.items.visible+1;if("show"==e||"hide"==e)var n=e;else if(o>e){debug(i,"Not enough items ("+e+" total, "+o+" needed): Hiding navigation.");var n="hide"}else var n="show";var r="show"==n?"removeClass":"addClass",s=cf_c("hidden",i);t.auto.button&&t.auto.button[n]()[r](s),t.prev.button&&t.prev.button[n]()[r](s),t.next.button&&t.next.button[n]()[r](s),t.pagination.container&&t.pagination.container[n]()[r](s)}function nv_enableNavi(t,e,i){if(!t.circular&&!t.infinite){var o="removeClass"==e||"addClass"==e?e:!1,n=cf_c("disabled",i);if(t.auto.button&&o&&t.auto.button[o](n),t.prev.button){var r=o||0==e?"addClass":"removeClass";t.prev.button[r](n)}if(t.next.button){var r=o||e==t.items.visible?"addClass":"removeClass";t.next.button[r](n)}}}function go_getObject(t,e){return is_function(e)?e=e.call(t):is_undefined(e)&&(e={}),e}function go_getItemsObject(t,e){return e=go_getObject(t,e),is_number(e)?e={visible:e}:"variable"==e?e={visible:e,width:e,height:e}:is_object(e)||(e={}),e}function go_getScrollObject(t,e){return e=go_getObject(t,e),is_number(e)?e=50>=e?{items:e}:{duration:e}:is_string(e)?e={easing:e}:is_object(e)||(e={}),e}function go_getNaviObject(t,e){if(e=go_getObject(t,e),is_string(e)){var i=cf_getKeyCode(e);e=-1==i?$(e):i}return e}function go_getAutoObject(t,e){return e=go_getNaviObject(t,e),is_jquery(e)?e={button:e}:is_boolean(e)?e={play:e}:is_number(e)&&(e={timeoutDuration:e}),e.progress&&(is_string(e.progress)||is_jquery(e.progress))&&(e.progress={bar:e.progress}),e}function go_complementAutoObject(t,e){return is_function(e.button)&&(e.button=e.button.call(t)),is_string(e.button)&&(e.button=$(e.button)),is_boolean(e.play)||(e.play=!0),is_number(e.delay)||(e.delay=0),is_undefined(e.pauseOnEvent)&&(e.pauseOnEvent=!0),is_boolean(e.pauseOnResize)||(e.pauseOnResize=!0),is_number(e.timeoutDuration)||(e.timeoutDuration=10>e.duration?2500:5*e.duration),e.progress&&(is_function(e.progress.bar)&&(e.progress.bar=e.progress.bar.call(t)),is_string(e.progress.bar)&&(e.progress.bar=$(e.progress.bar)),e.progress.bar?(is_function(e.progress.updater)||(e.progress.updater=$.fn.carouFredSel.progressbarUpdater),is_number(e.progress.interval)||(e.progress.interval=50)):e.progress=!1),e}function go_getPrevNextObject(t,e){return e=go_getNaviObject(t,e),is_jquery(e)?e={button:e}:is_number(e)&&(e={key:e}),e}function go_complementPrevNextObject(t,e){return is_function(e.button)&&(e.button=e.button.call(t)),is_string(e.button)&&(e.button=$(e.button)),is_string(e.key)&&(e.key=cf_getKeyCode(e.key)),e}function go_getPaginationObject(t,e){return e=go_getNaviObject(t,e),is_jquery(e)?e={container:e}:is_boolean(e)&&(e={keys:e}),e}function go_complementPaginationObject(t,e){return is_function(e.container)&&(e.container=e.container.call(t)),is_string(e.container)&&(e.container=$(e.container)),is_number(e.items)||(e.items=!1),is_boolean(e.keys)||(e.keys=!1),is_function(e.anchorBuilder)||is_false(e.anchorBuilder)||(e.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder),is_number(e.deviation)||(e.deviation=0),e}function go_getSwipeObject(t,e){return is_function(e)&&(e=e.call(t)),is_undefined(e)&&(e={onTouch:!1}),is_true(e)?e={onTouch:e}:is_number(e)&&(e={items:e}),e}function go_complementSwipeObject(t,e){return is_boolean(e.onTouch)||(e.onTouch=!0),is_boolean(e.onMouse)||(e.onMouse=!1),is_object(e.options)||(e.options={}),is_boolean(e.options.triggerOnTouchEnd)||(e.options.triggerOnTouchEnd=!1),e}function go_getMousewheelObject(t,e){return is_function(e)&&(e=e.call(t)),is_true(e)?e={}:is_number(e)?e={items:e}:is_undefined(e)&&(e=!1),e}function go_complementMousewheelObject(t,e){return e}function gn_getItemIndex(t,e,i,o,n){if(is_string(t)&&(t=$(t,n)),is_object(t)&&(t=$(t,n)),is_jquery(t)?(t=n.children().index(t),is_boolean(i)||(i=!1)):is_boolean(i)||(i=!0),is_number(t)||(t=0),is_number(e)||(e=0),i&&(t+=o.first),t+=e,o.total>0){for(;t>=o.total;)t-=o.total;for(;0>t;)t+=o.total}return t}function gn_getVisibleItemsPrev(t,e,i){for(var o=0,n=0,r=i;r>=0;r--){var s=t.eq(r);if(o+=s.is(":visible")?s[e.d.outerWidth](!0):0,o>e.maxDimension)return n;0==r&&(r=t.length),n++}}function gn_getVisibleItemsPrevFilter(t,e,i){return gn_getItemsPrevFilter(t,e.items.filter,e.items.visibleConf.org,i)}function gn_getScrollItemsPrevFilter(t,e,i,o){return gn_getItemsPrevFilter(t,e.items.filter,o,i)}function gn_getItemsPrevFilter(t,e,i,o){for(var n=0,r=0,s=o,a=t.length;s>=0;s--){if(r++,r==a)return r;var l=t.eq(s);if(l.is(e)&&(n++,n==i))return r;0==s&&(s=a)}}function gn_getVisibleOrg(t,e){return e.items.visibleConf.org||t.children().slice(0,e.items.visible).filter(e.items.filter).length}function gn_getVisibleItemsNext(t,e,i){for(var o=0,n=0,r=i,s=t.length-1;s>=r;r++){var a=t.eq(r);if(o+=a.is(":visible")?a[e.d.outerWidth](!0):0,o>e.maxDimension)return n;if(n++,n==s+1)return n;r==s&&(r=-1)}}function gn_getVisibleItemsNextTestCircular(t,e,i,o){var n=gn_getVisibleItemsNext(t,e,i);return e.circular||i+n>o&&(n=o-i),n}function gn_getVisibleItemsNextFilter(t,e,i){return gn_getItemsNextFilter(t,e.items.filter,e.items.visibleConf.org,i,e.circular)}function gn_getScrollItemsNextFilter(t,e,i,o){return gn_getItemsNextFilter(t,e.items.filter,o+1,i,e.circular)-1}function gn_getItemsNextFilter(t,e,i,o){for(var n=0,r=0,s=o,a=t.length-1;a>=s;s++){if(r++,r>=a)return r;var l=t.eq(s);if(l.is(e)&&(n++,n==i))return r;s==a&&(s=-1)}}function gi_getCurrentItems(t,e){return t.slice(0,e.items.visible)}function gi_getOldItemsPrev(t,e,i){return t.slice(i,e.items.visibleConf.old+i)}function gi_getNewItemsPrev(t,e){return t.slice(0,e.items.visible)}function gi_getOldItemsNext(t,e){return t.slice(0,e.items.visibleConf.old)}function gi_getNewItemsNext(t,e,i){return t.slice(i,e.items.visible+i)}function sz_storeMargin(t,i,o){i.usePadding&&(is_string(o)||(o="_cfs_origCssMargin"),t.each(function(){var t=$(this),e=parseInt(t.css(i.d.marginRight),10);is_number(e)||(e=0),t.data(o,e)}))}function sz_resetMargin(t,e,i){if(e.usePadding){var o=is_boolean(i)?i:!1;is_number(i)||(i=0),sz_storeMargin(t,e,"_cfs_tempCssMargin"),t.each(function(){var t=$(this);t.css(e.d.marginRight,o?t.data("_cfs_tempCssMargin"):i+t.data("_cfs_origCssMargin"))})}}function sz_storeOrigCss(t){t.each(function(){var t=$(this);t.data("_cfs_origCss",t.attr("style")||"")})}function sz_restoreOrigCss(t){t.each(function(){var t=$(this);t.attr("style",t.data("_cfs_origCss")||"")})}function sz_setResponsiveSizes(i,t){var o=(i.items.visible,i.items[i.d.width]),n=i[i.d.height],r=is_percentage(n);t.each(function(){var t=$(this),e=o-ms_getPaddingBorderMargin(t,i,"Width");t[i.d.width](e),r&&t[i.d.height](ms_getPercentage(e,n))})}function sz_setSizes(t,e){var i=t.parent(),o=t.children(),n=gi_getCurrentItems(o,e),r=cf_mapWrapperSizes(ms_getSizes(n,e,!0),e,!1);if(i.css(r),e.usePadding){var s=e.padding,a=s[e.d[1]];e.align&&0>a&&(a=0);var l=n.last();l.css(e.d.marginRight,l.data("_cfs_origCssMargin")+a),t.css(e.d.top,s[e.d[0]]),t.css(e.d.left,s[e.d[3]])}return t.css(e.d.width,r[e.d.width]+2*ms_getTotalSize(o,e,"width")),t.css(e.d.height,ms_getLargestSize(o,e,"height")),r}function ms_getSizes(t,e,i){return[ms_getTotalSize(t,e,"width",i),ms_getLargestSize(t,e,"height",i)]}function ms_getLargestSize(t,e,i,o){return is_boolean(o)||(o=!1),is_number(e[e.d[i]])&&o?e[e.d[i]]:is_number(e.items[e.d[i]])?e.items[e.d[i]]:(i=i.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",ms_getTrueLargestSize(t,e,i))}function ms_getTrueLargestSize(t,e,i){for(var o=0,n=0,r=t.length;r>n;n++){var s=t.eq(n),a=s.is(":visible")?s[e.d[i]](!0):0;a>o&&(o=a)}return o}function ms_getTotalSize(t,e,i,o){if(is_boolean(o)||(o=!1),is_number(e[e.d[i]])&&o)return e[e.d[i]];if(is_number(e.items[e.d[i]]))return e.items[e.d[i]]*t.length;for(var n=i.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",r=0,s=0,a=t.length;a>s;s++){var l=t.eq(s);r+=l.is(":visible")?l[e.d[n]](!0):0}return r}function ms_getParentSize(t,e,i){var o=t.is(":visible");o&&t.hide();var n=t.parent()[e.d[i]]();return o&&t.show(),n}function ms_getMaxDimension(t,e){return is_number(t[t.d.width])?t[t.d.width]:e}function ms_hasVariableSizes(t,e,i){for(var o=!1,n=!1,r=0,s=t.length;s>r;r++){var a=t.eq(r),l=a.is(":visible")?a[e.d[i]](!0):0;o===!1?o=l:o!=l&&(n=!0),0==o&&(n=!0)}return n}function ms_getPaddingBorderMargin(t,e,i){return t[e.d["outer"+i]](!0)-t[e.d[i.toLowerCase()]]()}function ms_getPercentage(t,e){if(is_percentage(e)){if(e=parseInt(e.slice(0,-1),10),!is_number(e))return t;t*=e/100}return t}function cf_e(t,e,i,o,n){return is_boolean(i)||(i=!0),is_boolean(o)||(o=!0),is_boolean(n)||(n=!1),i&&(t=e.events.prefix+t),o&&(t=t+"."+e.events.namespace),o&&n&&(t+=e.serialNumber),t}function cf_c(t,e){return is_string(e.classnames[t])?e.classnames[t]:t}function cf_mapWrapperSizes(t,e,i){is_boolean(i)||(i=!0);var o=e.usePadding&&i?e.padding:[0,0,0,0],n={};return n[e.d.width]=t[0]+o[1]+o[3],n[e.d.height]=t[1]+o[0]+o[2],n}function cf_sortParams(t,e){for(var i=[],o=0,n=t.length;n>o;o++)for(var r=0,s=e.length;s>r;r++)if(e[r].indexOf(typeof t[o])>-1&&is_undefined(i[r])){i[r]=t[o];break}return i}function cf_getPadding(t){if(is_undefined(t))return[0,0,0,0];if(is_number(t))return[t,t,t,t];if(is_string(t)&&(t=t.split("px").join("").split("em").join("").split(" ")),!is_array(t))return[0,0,0,0];for(var e=0;4>e;e++)t[e]=parseInt(t[e],10);switch(t.length){case 0:return[0,0,0,0];case 1:return[t[0],t[0],t[0],t[0]];case 2:return[t[0],t[1],t[0],t[1]];case 3:return[t[0],t[1],t[2],t[1]];default:return[t[0],t[1],t[2],t[3]]}}function cf_getAlignPadding(t,e){var i=is_number(e[e.d.width])?Math.ceil(e[e.d.width]-ms_getTotalSize(t,e,"width")):0;switch(e.align){case"left":return[0,i];case"right":return[i,0];case"center":default:return[Math.ceil(i/2),Math.floor(i/2)]}}function cf_getDimensions(t){for(var e=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]],i=e[0].length,o="right"==t.direction||"left"==t.direction?0:1,n={},r=0;i>r;r++)n[e[0][r]]=e[o][r];return n}function cf_getAdjust(t,e,i,o){var n=t;if(is_function(i))n=i.call(o,n);else if(is_string(i)){var r=i.split("+"),s=i.split("-");if(s.length>r.length)var a=!0,l=s[0],c=s[1];else var a=!1,l=r[0],c=r[1];switch(l){case"even":n=1==t%2?t-1:t;break;case"odd":n=0==t%2?t-1:t;break;default:n=t}c=parseInt(c,10),is_number(c)&&(a&&(c=-c),n+=c)}return(!is_number(n)||1>n)&&(n=1),n}function cf_getItemsAdjust(t,e,i,o){return cf_getItemAdjustMinMax(cf_getAdjust(t,e,i,o),e.items.visibleConf)}function cf_getItemAdjustMinMax(t,e){return is_number(e.min)&&e.min>t&&(t=e.min),is_number(e.max)&&t>e.max&&(t=e.max),1>t&&(t=1),t}function cf_getSynchArr(t){is_array(t)||(t=[[t]]),is_array(t[0])||(t=[t]);for(var e=0,i=t.length;i>e;e++)is_string(t[e][0])&&(t[e][0]=$(t[e][0])),is_boolean(t[e][1])||(t[e][1]=!0),is_boolean(t[e][2])||(t[e][2]=!0),is_number(t[e][3])||(t[e][3]=0);return t}function cf_getKeyCode(t){return"right"==t?39:"left"==t?37:"up"==t?38:"down"==t?40:-1}function cf_setCookie(t,e,i){if(t){var o=e.triggerHandler(cf_e("currentPosition",i));$.fn.carouFredSel.cookie.set(t,o)}}function cf_getCookie(t){var e=$.fn.carouFredSel.cookie.get(t);return""==e?0:e}function in_mapCss(t,e){for(var i={},o=0,n=e.length;n>o;o++)i[e[o]]=t.css(e[o]);return i}function in_complementItems(t,e,i,o){return is_object(t.visibleConf)||(t.visibleConf={}),is_object(t.sizesConf)||(t.sizesConf={}),0==t.start&&is_number(o)&&(t.start=o),is_object(t.visible)?(t.visibleConf.min=t.visible.min,t.visibleConf.max=t.visible.max,t.visible=!1):is_string(t.visible)?("variable"==t.visible?t.visibleConf.variable=!0:t.visibleConf.adjust=t.visible,t.visible=!1):is_function(t.visible)&&(t.visibleConf.adjust=t.visible,t.visible=!1),is_string(t.filter)||(t.filter=i.filter(":hidden").length>0?":visible":"*"),t[e.d.width]||(e.responsive?(debug(!0,"Set a "+e.d.width+" for the items!"),t[e.d.width]=ms_getTrueLargestSize(i,e,"outerWidth")):t[e.d.width]=ms_hasVariableSizes(i,e,"outerWidth")?"variable":i[e.d.outerWidth](!0)),t[e.d.height]||(t[e.d.height]=ms_hasVariableSizes(i,e,"outerHeight")?"variable":i[e.d.outerHeight](!0)),t.sizesConf.width=t.width,t.sizesConf.height=t.height,t}function in_complementVisibleItems(t,e){return"variable"==t.items[t.d.width]&&(t.items.visibleConf.variable=!0),t.items.visibleConf.variable||(is_number(t[t.d.width])?t.items.visible=Math.floor(t[t.d.width]/t.items[t.d.width]):(t.items.visible=Math.floor(e/t.items[t.d.width]),t[t.d.width]=t.items.visible*t.items[t.d.width],t.items.visibleConf.adjust||(t.align=!1)),("Infinity"==t.items.visible||1>t.items.visible)&&(debug(!0,'Not a valid number of visible items: Set to "variable".'),t.items.visibleConf.variable=!0)),t}function in_complementPrimarySize(t,e,i){return"auto"==t&&(t=ms_getTrueLargestSize(i,e,"outerWidth")),t}function in_complementSecondarySize(t,e,i){return"auto"==t&&(t=ms_getTrueLargestSize(i,e,"outerHeight")),t||(t=e.items[e.d.height]),t}function in_getAlignPadding(t,e){var i=cf_getAlignPadding(gi_getCurrentItems(e,t),t);return t.padding[t.d[1]]=i[1],t.padding[t.d[3]]=i[0],t}function in_getResponsiveValues(t,e){var i=cf_getItemAdjustMinMax(Math.ceil(t[t.d.width]/t.items[t.d.width]),t.items.visibleConf);i>e.length&&(i=e.length);var o=Math.floor(t[t.d.width]/i);return t.items.visible=i,t.items[t.d.width]=o,t[t.d.width]=i*o,t}function bt_pauseOnHoverConfig(t){if(is_string(t))var e=t.indexOf("immediate")>-1?!0:!1,i=t.indexOf("resume")>-1?!0:!1;else var e=i=!1;return[e,i]}function bt_mousesheelNumber(t){return is_number(t)?t:null}function is_null(t){return null===t}function is_undefined(t){return is_null(t)||t===void 0||""===t||"undefined"===t}function is_array(t){return t instanceof Array}function is_jquery(t){return t instanceof jQuery}function is_object(t){return(t instanceof Object||"object"==typeof t)&&!is_null(t)&&!is_jquery(t)&&!is_array(t)&&!is_function(t)}function is_number(t){return(t instanceof Number||"number"==typeof t)&&!isNaN(t)}function is_string(t){return(t instanceof String||"string"==typeof t)&&!is_undefined(t)&&!is_true(t)&&!is_false(t)}function is_function(t){return t instanceof Function||"function"==typeof t}function is_boolean(t){return t instanceof Boolean||"boolean"==typeof t||is_true(t)||is_false(t)}function is_true(t){return t===!0||"true"===t}function is_false(t){return t===!1||"false"===t}function is_percentage(t){return is_string(t)&&"%"==t.slice(-1)}function getTime(){return(new Date).getTime()}function deprecated(t,e){debug(!0,t+" is DEPRECATED, support for it will be removed. Use "+e+" instead.")}function debug(t,e){if(!is_undefined(window.console)&&!is_undefined(window.console.log)){if(is_object(t)){var i=" ("+t.selector+")";t=t.debug}else var i="";if(!t)return!1;e=is_string(e)?"carouFredSel"+i+": "+e:["carouFredSel"+i+":",e],window.console.log(e)}return!1}$.fn.carouFredSel||($.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(0==this.length)return debug(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){$(this).carouFredSel(options,configs)});var $cfs=this,$tt0=this[0],starting_position=!1;$cfs.data("_cfs_isCarousel")&&(starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition"),$cfs.trigger("_cfs_triggerEvent",["destroy",!0]));var FN={};FN._init=function(t,e,i){t=go_getObject($tt0,t),t.items=go_getItemsObject($tt0,t.items),t.scroll=go_getScrollObject($tt0,t.scroll),t.auto=go_getAutoObject($tt0,t.auto),t.prev=go_getPrevNextObject($tt0,t.prev),t.next=go_getPrevNextObject($tt0,t.next),t.pagination=go_getPaginationObject($tt0,t.pagination),t.swipe=go_getSwipeObject($tt0,t.swipe),t.mousewheel=go_getMousewheelObject($tt0,t.mousewheel),e&&(opts_orig=$.extend(!0,{},$.fn.carouFredSel.defaults,t)),opts=$.extend(!0,{},$.fn.carouFredSel.defaults,t),opts.d=cf_getDimensions(opts),crsl.direction="up"==opts.direction||"left"==opts.direction?"next":"prev";var o=$cfs.children(),n=ms_getParentSize($wrp,opts,"width");if(is_true(opts.cookie)&&(opts.cookie="caroufredsel_cookie_"+conf.serialNumber),opts.maxDimension=ms_getMaxDimension(opts,n),opts.items=in_complementItems(opts.items,opts,o,i),opts[opts.d.width]=in_complementPrimarySize(opts[opts.d.width],opts,o),opts[opts.d.height]=in_complementSecondarySize(opts[opts.d.height],opts,o),opts.responsive&&(is_percentage(opts[opts.d.width])||(opts[opts.d.width]="100%")),is_percentage(opts[opts.d.width])&&(crsl.upDateOnWindowResize=!0,crsl.primarySizePercentage=opts[opts.d.width],opts[opts.d.width]=ms_getPercentage(n,crsl.primarySizePercentage),opts.items.visible||(opts.items.visibleConf.variable=!0)),opts.responsive?(opts.usePadding=!1,opts.padding=[0,0,0,0],opts.align=!1,opts.items.visibleConf.variable=!1):(opts.items.visible||(opts=in_complementVisibleItems(opts,n)),opts[opts.d.width]||(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d.width])&&"*"==opts.items.filter?(opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width],opts.align=!1):opts[opts.d.width]="variable"),is_undefined(opts.align)&&(opts.align=is_number(opts[opts.d.width])?"center":!1),opts.items.visibleConf.variable&&(opts.items.visible=gn_getVisibleItemsNext(o,opts,0))),"*"==opts.items.filter||opts.items.visibleConf.variable||(opts.items.visibleConf.org=opts.items.visible,opts.items.visible=gn_getVisibleItemsNextFilter(o,opts,0)),opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts.responsive)opts.items.visibleConf.min||(opts.items.visibleConf.min=opts.items.visible),opts.items.visibleConf.max||(opts.items.visibleConf.max=opts.items.visible),opts=in_getResponsiveValues(opts,o,n);else switch(opts.padding=cf_getPadding(opts.padding),"top"==opts.align?opts.align="left":"bottom"==opts.align&&(opts.align="right"),opts.align){case"center":case"left":case"right":"variable"!=opts[opts.d.width]&&(opts=in_getAlignPadding(opts,o),opts.usePadding=!0);break;default:opts.align=!1,opts.usePadding=0==opts.padding[0]&&0==opts.padding[1]&&0==opts.padding[2]&&0==opts.padding[3]?!1:!0}is_number(opts.scroll.duration)||(opts.scroll.duration=500),is_undefined(opts.scroll.items)&&(opts.scroll.items=opts.responsive||opts.items.visibleConf.variable||"*"!=opts.items.filter?"visible":opts.items.visible),opts.auto=$.extend(!0,{},opts.scroll,opts.auto),opts.prev=$.extend(!0,{},opts.scroll,opts.prev),opts.next=$.extend(!0,{},opts.scroll,opts.next),opts.pagination=$.extend(!0,{},opts.scroll,opts.pagination),opts.auto=go_complementAutoObject($tt0,opts.auto),opts.prev=go_complementPrevNextObject($tt0,opts.prev),opts.next=go_complementPrevNextObject($tt0,opts.next),opts.pagination=go_complementPaginationObject($tt0,opts.pagination),opts.swipe=go_complementSwipeObject($tt0,opts.swipe),opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel),opts.synchronise&&(opts.synchronise=cf_getSynchArr(opts.synchronise)),opts.auto.onPauseStart&&(opts.auto.onTimeoutStart=opts.auto.onPauseStart,deprecated("auto.onPauseStart","auto.onTimeoutStart")),opts.auto.onPausePause&&(opts.auto.onTimeoutPause=opts.auto.onPausePause,deprecated("auto.onPausePause","auto.onTimeoutPause")),opts.auto.onPauseEnd&&(opts.auto.onTimeoutEnd=opts.auto.onPauseEnd,deprecated("auto.onPauseEnd","auto.onTimeoutEnd")),opts.auto.pauseDuration&&(opts.auto.timeoutDuration=opts.auto.pauseDuration,deprecated("auto.pauseDuration","auto.timeoutDuration"))},FN._build=function(){$cfs.data("_cfs_isCarousel",!0);var t=$cfs.children(),e=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),i="relative";switch(e.position){case"absolute":case"fixed":i=e.position}"parent"==conf.wrapper?sz_storeOrigCss($wrp):$wrp.css(e),$wrp.css({overflow:"hidden",position:i}),sz_storeOrigCss($cfs),$cfs.data("_cfs_origCssZindex",e.zIndex),$cfs.css({textAlign:"left",float:"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),sz_storeMargin(t,opts),sz_storeOrigCss(t),opts.responsive&&sz_setResponsiveSizes(opts,t)},FN._bind_events=function(){FN._unbind_events(),$cfs.bind(cf_e("stop",conf),function(t,e){return t.stopPropagation(),crsl.isStopped||opts.auto.button&&opts.auto.button.addClass(cf_c("stopped",conf)),crsl.isStopped=!0,opts.auto.play&&(opts.auto.play=!1,$cfs.trigger(cf_e("pause",conf),e)),!0}),$cfs.bind(cf_e("finish",conf),function(t){return t.stopPropagation(),crsl.isScrolling&&sc_stopScroll(scrl),!0}),$cfs.bind(cf_e("pause",conf),function(t,e,i){if(t.stopPropagation(),tmrs=sc_clearTimers(tmrs),e&&crsl.isScrolling){scrl.isStopped=!0;var o=getTime()-scrl.startTime;scrl.duration-=o,scrl.pre&&(scrl.pre.duration-=o),scrl.post&&(scrl.post.duration-=o),sc_stopScroll(scrl,!1)}if(crsl.isPaused||crsl.isScrolling||i&&(tmrs.timePassed+=getTime()-tmrs.startTime),crsl.isPaused||opts.auto.button&&opts.auto.button.addClass(cf_c("paused",conf)),crsl.isPaused=!0,opts.auto.onTimeoutPause){var n=opts.auto.timeoutDuration-tmrs.timePassed,r=100-Math.ceil(100*n/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,r,n)}return!0}),$cfs.bind(cf_e("play",conf),function(t,e,i,o){t.stopPropagation(),tmrs=sc_clearTimers(tmrs);var n=[e,i,o],r=["string","number","boolean"],s=cf_sortParams(n,r);if(e=s[0],i=s[1],o=s[2],"prev"!=e&&"next"!=e&&(e=crsl.direction),is_number(i)||(i=0),is_boolean(o)||(o=!1),o&&(crsl.isStopped=!1,opts.auto.play=!0),!opts.auto.play)return t.stopImmediatePropagation(),debug(conf,"Carousel stopped: Not scrolling.");crsl.isPaused&&opts.auto.button&&(opts.auto.button.removeClass(cf_c("stopped",conf)),opts.auto.button.removeClass(cf_c("paused",conf))),crsl.isPaused=!1,tmrs.startTime=getTime();var a=opts.auto.timeoutDuration+i;return dur2=a-tmrs.timePassed,perc=100-Math.ceil(100*dur2/a),opts.auto.progress&&(tmrs.progress=setInterval(function(){var t=getTime()-tmrs.startTime+tmrs.timePassed,e=Math.ceil(100*t/a);opts.auto.progress.updater.call(opts.auto.progress.bar[0],e)},opts.auto.progress.interval)),tmrs.auto=setTimeout(function(){opts.auto.progress&&opts.auto.progress.updater.call(opts.auto.progress.bar[0],100),opts.auto.onTimeoutEnd&&opts.auto.onTimeoutEnd.call($tt0,perc,dur2),crsl.isScrolling?$cfs.trigger(cf_e("play",conf),e):$cfs.trigger(cf_e(e,conf),opts.auto)},dur2),opts.auto.onTimeoutStart&&opts.auto.onTimeoutStart.call($tt0,perc,dur2),!0}),$cfs.bind(cf_e("resume",conf),function(t){return t.stopPropagation(),scrl.isStopped?(scrl.isStopped=!1,crsl.isPaused=!1,crsl.isScrolling=!0,scrl.startTime=getTime(),sc_startScroll(scrl,conf)):$cfs.trigger(cf_e("play",conf)),!0}),$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(t,e,i,o,n){if(t.stopPropagation(),crsl.isStopped||$cfs.is(":hidden"))return t.stopImmediatePropagation(),debug(conf,"Carousel stopped or hidden: Not scrolling.");var r=is_number(opts.items.minimum)?opts.items.minimum:opts.items.visible+1;if(r>itms.total)return t.stopImmediatePropagation(),debug(conf,"Not enough items ("+itms.total+" total, "+r+" needed): Not scrolling.");var s=[e,i,o,n],a=["object","number/string","function","boolean"],l=cf_sortParams(s,a);e=l[0],i=l[1],o=l[2],n=l[3];var c=t.type.slice(conf.events.prefix.length);if(is_object(e)||(e={}),is_function(o)&&(e.onAfter=o),is_boolean(n)&&(e.queue=n),e=$.extend(!0,{},opts[c],e),e.conditions&&!e.conditions.call($tt0,c))return t.stopImmediatePropagation(),debug(conf,'Callback "conditions" returned false.');if(!is_number(i)){if("*"!=opts.items.filter)i="visible";else for(var u=[i,e.items,opts[c].items],l=0,p=u.length;p>l;l++)if(is_number(u[l])||"page"==u[l]||"visible"==u[l]){i=u[l];break}switch(i){case"page":return t.stopImmediatePropagation(),$cfs.triggerHandler(cf_e(c+"Page",conf),[e,o]);case"visible":opts.items.visibleConf.variable||"*"!=opts.items.filter||(i=opts.items.visible)}}if(scrl.isStopped)return $cfs.trigger(cf_e("resume",conf)),$cfs.trigger(cf_e("queue",conf),[c,[e,i,o]]),t.stopImmediatePropagation(),debug(conf,"Carousel resumed scrolling.");if(e.duration>0&&crsl.isScrolling)return e.queue&&("last"==e.queue&&(queu=[]),("first"!=e.queue||0==queu.length)&&$cfs.trigger(cf_e("queue",conf),[c,[e,i,o]])),t.stopImmediatePropagation(),debug(conf,"Carousel currently scrolling.");if(tmrs.timePassed=0,$cfs.trigger(cf_e("slide_"+c,conf),[e,i]),opts.synchronise)for(var d=opts.synchronise,f=[e,i],h=0,p=d.length;p>h;h++){var m=c;d[h][2]||(m="prev"==m?"next":"prev"),d[h][1]||(f[0]=d[h][0].triggerHandler("_cfs_triggerEvent",["configuration",m])),f[1]=i+d[h][3],d[h][0].trigger("_cfs_triggerEvent",["slide_"+m,f])}return!0}),$cfs.bind(cf_e("slide_prev",conf),function(t,e,i){t.stopPropagation();var o=$cfs.children();if(!opts.circular&&0==itms.first)return opts.infinite&&$cfs.trigger(cf_e("next",conf),itms.total-1),t.stopImmediatePropagation();if(sz_resetMargin(o,opts),!is_number(i)){if(opts.items.visibleConf.variable)i=gn_getVisibleItemsPrev(o,opts,itms.total-1);else if("*"!=opts.items.filter){var n=is_number(e.items)?e.items:gn_getVisibleOrg($cfs,opts);i=gn_getScrollItemsPrevFilter(o,opts,itms.total-1,n)}else i=opts.items.visible;i=cf_getAdjust(i,opts,e.items,$tt0)}if(opts.circular||itms.total-i<itms.first&&(i=itms.total-itms.first),opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){var r=cf_getItemsAdjust(gn_getVisibleItemsNext(o,opts,itms.total-i),opts,opts.items.visibleConf.adjust,$tt0);r>=opts.items.visible+i&&itms.total>i&&(i++,r=cf_getItemsAdjust(gn_getVisibleItemsNext(o,opts,itms.total-i),opts,opts.items.visibleConf.adjust,$tt0)),opts.items.visible=r}else if("*"!=opts.items.filter){var r=gn_getVisibleItemsNextFilter(o,opts,itms.total-i);opts.items.visible=cf_getItemsAdjust(r,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(o,opts,!0),0==i)return t.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+i+" items backward."),itms.first+=i;itms.first>=itms.total;)itms.first-=itms.total;opts.circular||(0==itms.first&&e.onEnd&&e.onEnd.call($tt0,"prev"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),$cfs.children().slice(itms.total-i,itms.total).prependTo($cfs),itms.total<opts.items.visible+i&&$cfs.children().slice(0,opts.items.visible+i-itms.total).clone(!0).appendTo($cfs);var o=$cfs.children(),s=gi_getOldItemsPrev(o,opts,i),a=gi_getNewItemsPrev(o,opts),l=o.eq(i-1),c=s.last(),u=a.last();sz_resetMargin(o,opts);var p=0,d=0;if(opts.align){var f=cf_getAlignPadding(a,opts);p=f[0],d=f[1]}var h=0>p?opts.padding[opts.d[3]]:0,m=!1,g=$();if(i>opts.items.visible&&(g=o.slice(opts.items.visibleConf.old,i),"directscroll"==e.fx)){var v=opts.items[opts.d.width];m=g,l=u,sc_hideHiddenItems(m),opts.items[opts.d.width]="variable"}var y=!1,_=ms_getTotalSize(o.slice(0,i),opts,"width"),b=cf_mapWrapperSizes(ms_getSizes(a,opts,!0),opts,!opts.usePadding),w=0,x={},S={},z={},T={},k={},I={},P={},C=sc_getDuration(e,opts,i,_);switch(e.fx){case"cover":case"cover-fade":w=ms_getTotalSize(o.slice(0,opts.items.visible),opts,"width")}m&&(opts.items[opts.d.width]=v),sz_resetMargin(o,opts,!0),d>=0&&sz_resetMargin(c,opts,opts.padding[opts.d[1]]),p>=0&&sz_resetMargin(l,opts,opts.padding[opts.d[3]]),opts.align&&(opts.padding[opts.d[1]]=d,opts.padding[opts.d[3]]=p),I[opts.d.left]=-(_-h),P[opts.d.left]=-(w-h),S[opts.d.left]=b[opts.d.width];var E=function(){},M=function(){},L=function(){},j=function(){},O=function(){},R=function(){},D=function(){},N=function(){},W=function(){},H=function(){},A=function(){};switch(e.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":y=$cfs.clone(!0).appendTo($wrp)}switch(e.fx){case"crossfade":case"uncover":case"uncover-fade":y.children().slice(0,i).remove(),y.children().slice(opts.items.visibleConf.old).remove();break;case"cover":case"cover-fade":y.children().slice(opts.items.visible).remove(),y.css(P)}if($cfs.css(I),scrl=sc_setScroll(C,e.easing,conf),x[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0,("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(E=function(){$wrp.css(b)},M=function(){scrl.anims.push([$wrp,b])}),opts.usePadding){switch(u.not(l).length&&(z[opts.d.marginRight]=l.data("_cfs_origCssMargin"),0>p?l.css(z):(D=function(){l.css(z)},N=function(){scrl.anims.push([l,z])})),e.fx){case"cover":case"cover-fade":y.children().eq(i-1).css(z)}u.not(c).length&&(T[opts.d.marginRight]=c.data("_cfs_origCssMargin"),L=function(){c.css(T)},j=function(){scrl.anims.push([c,T])}),d>=0&&(k[opts.d.marginRight]=u.data("_cfs_origCssMargin")+opts.padding[opts.d[1]],O=function(){u.css(k)},R=function(){scrl.anims.push([u,k])})}A=function(){$cfs.css(x)};var q=opts.items.visible+i-itms.total;H=function(){if(q>0&&($cfs.children().slice(itms.total).remove(),s=$($cfs.children().slice(itms.total-(opts.items.visible-q)).get().concat($cfs.children().slice(0,q).get()))),sc_showHiddenItems(m),opts.usePadding){var t=$cfs.children().eq(opts.items.visible+i-1);t.css(opts.d.marginRight,t.data("_cfs_origCssMargin"))}};var F=sc_mapCallbackArguments(s,g,a,i,"prev",C,b);switch(W=function(){sc_afterScroll($cfs,y,e),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,e,"onAfter",F,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,e,"onBefore",F,clbk),e.fx){case"none":$cfs.css(x),E(),L(),O(),D(),A(),H(),W();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){E(),L(),O(),D(),A(),H(),scrl=sc_setScroll(C,e.easing,conf),scrl.anims.push([$cfs,{opacity:1},W]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([y,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},W]),M(),L(),O(),D(),A(),H();break;case"cover":scrl.anims.push([y,x,function(){L(),O(),D(),A(),H(),W()}]),M();break;case"cover-fade":scrl.anims.push([$cfs,{opacity:0}]),scrl.anims.push([y,x,function(){L(),O(),D(),A(),H(),W()}]),M();break;case"uncover":scrl.anims.push([y,S,W]),M(),L(),O(),D(),A(),H();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([y,S,W]),M(),L(),O(),D(),A(),H();break;default:scrl.anims.push([$cfs,x,function(){H(),W()}]),M(),j(),R(),N()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,b]),!0}),$cfs.bind(cf_e("slide_next",conf),function(t,e,i){t.stopPropagation();var o=$cfs.children();if(!opts.circular&&itms.first==opts.items.visible)return opts.infinite&&$cfs.trigger(cf_e("prev",conf),itms.total-1),t.stopImmediatePropagation();if(sz_resetMargin(o,opts),!is_number(i)){if("*"!=opts.items.filter){var n=is_number(e.items)?e.items:gn_getVisibleOrg($cfs,opts);i=gn_getScrollItemsNextFilter(o,opts,0,n)}else i=opts.items.visible;i=cf_getAdjust(i,opts,e.items,$tt0)}var r=0==itms.first?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable)var s=gn_getVisibleItemsNext(o,opts,i),n=gn_getVisibleItemsPrev(o,opts,r-1);else var s=opts.items.visible,n=opts.items.visible;i+s>r&&(i=r-n)}if(opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){for(var s=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(o,opts,i,r),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible-i>=s&&itms.total>i;)i++,s=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(o,opts,i,r),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible=s}else if("*"!=opts.items.filter){var s=gn_getVisibleItemsNextFilter(o,opts,i);opts.items.visible=cf_getItemsAdjust(s,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(o,opts,!0),0==i)return t.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+i+" items forward."),itms.first-=i;0>itms.first;)itms.first+=itms.total;opts.circular||(itms.first==opts.items.visible&&e.onEnd&&e.onEnd.call($tt0,"next"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),itms.total<opts.items.visible+i&&$cfs.children().slice(0,opts.items.visible+i-itms.total).clone(!0).appendTo($cfs);var o=$cfs.children(),a=gi_getOldItemsNext(o,opts),l=gi_getNewItemsNext(o,opts,i),c=o.eq(i-1),u=a.last(),p=l.last();sz_resetMargin(o,opts);var d=0,f=0;if(opts.align){var h=cf_getAlignPadding(l,opts);d=h[0],f=h[1]}var m=!1,g=$();if(i>opts.items.visibleConf.old&&(g=o.slice(opts.items.visibleConf.old,i),"directscroll"==e.fx)){var v=opts.items[opts.d.width];m=g,c=u,sc_hideHiddenItems(m),opts.items[opts.d.width]="variable"}var y=!1,_=ms_getTotalSize(o.slice(0,i),opts,"width"),b=cf_mapWrapperSizes(ms_getSizes(l,opts,!0),opts,!opts.usePadding),w=0,x={},S={},z={},T={},k={},I=sc_getDuration(e,opts,i,_);switch(e.fx){case"uncover":case"uncover-fade":w=ms_getTotalSize(o.slice(0,opts.items.visibleConf.old),opts,"width")}m&&(opts.items[opts.d.width]=v),opts.align&&0>opts.padding[opts.d[1]]&&(opts.padding[opts.d[1]]=0),sz_resetMargin(o,opts,!0),sz_resetMargin(u,opts,opts.padding[opts.d[1]]),opts.align&&(opts.padding[opts.d[1]]=f,opts.padding[opts.d[3]]=d),k[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0;var P=function(){},C=function(){},E=function(){},M=function(){},L=function(){},j=function(){},O=function(){},R=function(){},D=function(){};switch(e.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":y=$cfs.clone(!0).appendTo($wrp),y.children().slice(opts.items.visibleConf.old).remove()}switch(e.fx){case"crossfade":case"cover":case"cover-fade":$cfs.css("zIndex",1),y.css("zIndex",0)}if(scrl=sc_setScroll(I,e.easing,conf),x[opts.d.left]=-_,S[opts.d.left]=-w,0>d&&(x[opts.d.left]+=d),("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(P=function(){$wrp.css(b)},C=function(){scrl.anims.push([$wrp,b])}),opts.usePadding){var N=p.data("_cfs_origCssMargin");f>=0&&(N+=opts.padding[opts.d[1]]),p.css(opts.d.marginRight,N),c.not(u).length&&(T[opts.d.marginRight]=u.data("_cfs_origCssMargin")),E=function(){u.css(T)},M=function(){scrl.anims.push([u,T])};var W=c.data("_cfs_origCssMargin");d>0&&(W+=opts.padding[opts.d[3]]),z[opts.d.marginRight]=W,L=function(){c.css(z)},j=function(){scrl.anims.push([c,z])}}D=function(){$cfs.css(k)};var H=opts.items.visible+i-itms.total;R=function(){H>0&&$cfs.children().slice(itms.total).remove();var t=$cfs.children().slice(0,i).appendTo($cfs).last();if(H>0&&(l=gi_getCurrentItems(o,opts)),sc_showHiddenItems(m),opts.usePadding){if(itms.total<opts.items.visible+i){var e=$cfs.children().eq(opts.items.visible-1);e.css(opts.d.marginRight,e.data("_cfs_origCssMargin")+opts.padding[opts.d[1]])}t.css(opts.d.marginRight,t.data("_cfs_origCssMargin"))}};var A=sc_mapCallbackArguments(a,g,l,i,"next",I,b);switch(O=function(){$cfs.css("zIndex",$cfs.data("_cfs_origCssZindex")),sc_afterScroll($cfs,y,e),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,e,"onAfter",A,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,e,"onBefore",A,clbk),e.fx){case"none":$cfs.css(x),P(),E(),L(),D(),R(),O();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){P(),E(),L(),D(),R(),scrl=sc_setScroll(I,e.easing,conf),scrl.anims.push([$cfs,{opacity:1},O]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([y,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},O]),C(),E(),L(),D(),R();break;case"cover":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([$cfs,k,O]),C(),E(),L(),R();break;case"cover-fade":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([y,{opacity:0}]),scrl.anims.push([$cfs,k,O]),C(),E(),L(),R();break;case"uncover":scrl.anims.push([y,S,O]),C(),E(),L(),D(),R();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([y,S,O]),C(),E(),L(),D(),R();break;default:scrl.anims.push([$cfs,x,function(){D(),R(),O()}]),C(),M(),j()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,b]),!0}),$cfs.bind(cf_e("slideTo",conf),function(t,e,i,o,n,r,s){t.stopPropagation();var a=[e,i,o,n,r,s],l=["string/number/object","number","boolean","object","string","function"],c=cf_sortParams(a,l);return n=c[3],r=c[4],s=c[5],e=gn_getItemIndex(c[0],c[1],c[2],itms,$cfs),0==e?!1:(is_object(n)||(n=!1),"prev"!=r&&"next"!=r&&(r=opts.circular?itms.total/2>=e?"next":"prev":0==itms.first||itms.first>e?"next":"prev"),"prev"==r&&(e=itms.total-e),$cfs.trigger(cf_e(r,conf),[n,e,s]),!0)}),$cfs.bind(cf_e("prevPage",conf),function(t,e,i){t.stopPropagation();var o=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[o-1,e,"prev",i])}),$cfs.bind(cf_e("nextPage",conf),function(t,e,i){t.stopPropagation();var o=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[o+1,e,"next",i])}),$cfs.bind(cf_e("slideToPage",conf),function(t,e,i,o,n){t.stopPropagation(),is_number(e)||(e=$cfs.triggerHandler(cf_e("currentPage",conf)));var r=opts.pagination.items||opts.items.visible,s=Math.ceil(itms.total/r)-1;return 0>e&&(e=s),e>s&&(e=0),$cfs.triggerHandler(cf_e("slideTo",conf),[e*r,0,!0,i,o,n])}),$cfs.bind(cf_e("jumpToStart",conf),function(t,e){if(t.stopPropagation(),e=e?gn_getItemIndex(e,0,!0,itms,$cfs):0,e+=itms.first,0!=e){if(itms.total>0)for(;e>itms.total;)e-=itms.total;$cfs.prepend($cfs.children().slice(e,itms.total))}return!0}),$cfs.bind(cf_e("synchronise",conf),function(t,e){if(t.stopPropagation(),e)e=cf_getSynchArr(e);else{if(!opts.synchronise)return debug(conf,"No carousel to synchronise.");e=opts.synchronise}for(var i=$cfs.triggerHandler(cf_e("currentPosition",conf)),o=!0,n=0,r=e.length;r>n;n++)e[n][0].triggerHandler(cf_e("slideTo",conf),[i,e[n][3],!0])||(o=!1);return o}),$cfs.bind(cf_e("queue",conf),function(t,e,i){return t.stopPropagation(),is_function(e)?e.call($tt0,queu):is_array(e)?queu=e:is_undefined(e)||queu.push([e,i]),queu}),$cfs.bind(cf_e("insertItem",conf),function(t,e,i,o,n){t.stopPropagation();var r=[e,i,o,n],s=["string/object","string/number/object","boolean","number"],a=cf_sortParams(r,s);if(e=a[0],i=a[1],o=a[2],n=a[3],is_object(e)&&!is_jquery(e)?e=$(e):is_string(e)&&(e=$(e)),!is_jquery(e)||0==e.length)return debug(conf,"Not a valid object.");is_undefined(i)&&(i="end"),sz_storeMargin(e,opts),sz_storeOrigCss(e);var l=i,c="before";"end"==i?o?(0==itms.first?(i=itms.total-1,c="after"):(i=itms.first,itms.first+=e.length),0>i&&(i=0)):(i=itms.total-1,c="after"):i=gn_getItemIndex(i,n,o,itms,$cfs);var u=$cfs.children().eq(i);return u.length?u[c](e):(debug(conf,"Correct insert-position not found! Appending item to the end."),$cfs.append(e)),"end"==l||o||itms.first>i&&(itms.first+=e.length),itms.total=$cfs.children().length,itms.first>=itms.total&&(itms.first-=itms.total),$cfs.trigger(cf_e("updateSizes",conf)),$cfs.trigger(cf_e("linkAnchors",conf)),!0}),$cfs.bind(cf_e("removeItem",conf),function(t,e,i,o){t.stopPropagation();var n=[e,i,o],r=["string/number/object","boolean","number"],s=cf_sortParams(n,r);if(e=s[0],i=s[1],o=s[2],e instanceof $&&e.length>1)return a=$(),e.each(function(){var t=$cfs.trigger(cf_e("removeItem",conf),[$(this),i,o]);t&&(a=a.add(t))}),a;if(is_undefined(e)||"end"==e)a=$cfs.children().last();else{e=gn_getItemIndex(e,o,i,itms,$cfs);var a=$cfs.children().eq(e);a.length&&itms.first>e&&(itms.first-=a.length)}return a&&a.length&&(a.detach(),itms.total=$cfs.children().length,$cfs.trigger(cf_e("updateSizes",conf))),a}),$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(t,e){t.stopPropagation();var i=t.type.slice(conf.events.prefix.length);return is_array(e)&&(clbk[i]=e),is_function(e)&&clbk[i].push(e),clbk[i]}),$cfs.bind(cf_e("currentPosition",conf),function(t,e){if(t.stopPropagation(),0==itms.first)var i=0;else var i=itms.total-itms.first;return is_function(e)&&e.call($tt0,i),i}),$cfs.bind(cf_e("currentPage",conf),function(t,e){t.stopPropagation();var i,o=opts.pagination.items||opts.items.visible,n=Math.ceil(itms.total/o-1);return i=0==itms.first?0:itms.first<itms.total%o?0:itms.first!=o||opts.circular?Math.round((itms.total-itms.first)/o):n,0>i&&(i=0),i>n&&(i=n),is_function(e)&&e.call($tt0,i),i}),$cfs.bind(cf_e("currentVisible",conf),function(t,e){t.stopPropagation();var i=gi_getCurrentItems($cfs.children(),opts);return is_function(e)&&e.call($tt0,i),i}),$cfs.bind(cf_e("slice",conf),function(t,e,i,o){if(t.stopPropagation(),0==itms.total)return!1;var n=[e,i,o],r=["number","number","function"],s=cf_sortParams(n,r);if(e=is_number(s[0])?s[0]:0,i=is_number(s[1])?s[1]:itms.total,o=s[2],e+=itms.first,i+=itms.first,items.total>0){for(;e>itms.total;)e-=itms.total;for(;i>itms.total;)i-=itms.total;for(;0>e;)e+=itms.total;for(;0>i;)i+=itms.total}var a,l=$cfs.children();return a=i>e?l.slice(e,i):$(l.slice(e,itms.total).get().concat(l.slice(0,i).get())),is_function(o)&&o.call($tt0,a),a}),$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(t,e){t.stopPropagation();var i=t.type.slice(conf.events.prefix.length),o=crsl[i];return is_function(e)&&e.call($tt0,o),o}),$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=!1;if(is_function(a))a.call($tt0,opts);else if(is_object(a))opts_orig=$.extend(!0,{},opts_orig,a),b!==!1?reInit=!0:opts=$.extend(!0,{},opts,a);else if(!is_undefined(a))if(is_function(b)){var val=eval("opts."+a);is_undefined(val)&&(val=""),b.call($tt0,val)}else{if(is_undefined(b))return eval("opts."+a);"boolean"!=typeof c&&(c=!0),eval("opts_orig."+a+" = b"),c!==!1?reInit=!0:eval("opts."+a+" = b")}if(reInit){sz_resetMargin($cfs.children(),opts),FN._init(opts_orig),FN._bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[!0,sz])}return opts}),$cfs.bind(cf_e("linkAnchors",conf),function(t,e,i){return t.stopPropagation(),is_undefined(e)?e=$("body"):is_string(e)&&(e=$(e)),is_jquery(e)&&0!=e.length?(is_string(i)||(i="a.caroufredsel"),e.find(i).each(function(){var e=this.hash||"";e.length>0&&-1!=$cfs.children().index($(e))&&$(this).unbind("click").click(function(t){t.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),e)})}),!0):debug(conf,"Not a valid object.")}),$cfs.bind(cf_e("updatePageStatus",conf),function(t,e){if(t.stopPropagation(),opts.pagination.container){var i=opts.pagination.items||opts.items.visible,o=Math.ceil(itms.total/i);e&&(opts.pagination.anchorBuilder&&(opts.pagination.container.children().remove(),opts.pagination.container.each(function(){for(var t=0;o>t;t++){var e=$cfs.children().eq(gn_getItemIndex(t*i,0,!0,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(e[0],t+1))}})),opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(e){$(this).bind(opts.pagination.event,function(t){t.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[e*i,-opts.pagination.deviation,!0,opts.pagination])})})}));var n=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;return n>=o&&(n=0),0>n&&(n=o-1),opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq(n).addClass(cf_c("selected",conf))}),!0}}),$cfs.bind(cf_e("updateSizes",conf),function(){var t=opts.items.visible,e=$cfs.children(),i=ms_getParentSize($wrp,opts,"width");if(itms.total=e.length,crsl.primarySizePercentage?(opts.maxDimension=i,opts[opts.d.width]=ms_getPercentage(i,crsl.primarySizePercentage)):opts.maxDimension=ms_getMaxDimension(opts,i),opts.responsive?(opts.items.width=opts.items.sizesConf.width,opts.items.height=opts.items.sizesConf.height,opts=in_getResponsiveValues(opts,e,i),t=opts.items.visible,sz_setResponsiveSizes(opts,e)):opts.items.visibleConf.variable?t=gn_getVisibleItemsNext(e,opts,0):"*"!=opts.items.filter&&(t=gn_getVisibleItemsNextFilter(e,opts,0)),!opts.circular&&0!=itms.first&&t>itms.first){if(opts.items.visibleConf.variable)var o=gn_getVisibleItemsPrev(e,opts,itms.first)-itms.first;else if("*"!=opts.items.filter)var o=gn_getVisibleItemsPrevFilter(e,opts,itms.first)-itms.first;else var o=opts.items.visible-itms.first;debug(conf,"Preventing non-circular: sliding "+o+" items backward."),$cfs.trigger(cf_e("prev",conf),o)}opts.items.visible=cf_getItemsAdjust(t,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts=in_getAlignPadding(opts,e);var n=sz_setSizes($cfs,opts);return $cfs.trigger(cf_e("updatePageStatus",conf),[!0,n]),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),n}),$cfs.bind(cf_e("destroy",conf),function(t,e){return t.stopPropagation(),tmrs=sc_clearTimers(tmrs),$cfs.data("_cfs_isCarousel",!1),$cfs.trigger(cf_e("finish",conf)),e&&$cfs.trigger(cf_e("jumpToStart",conf)),sz_restoreOrigCss($cfs.children()),sz_restoreOrigCss($cfs),FN._unbind_events(),FN._unbind_buttons(),"parent"==conf.wrapper?sz_restoreOrigCss($wrp):$wrp.replaceWith($cfs),!0}),$cfs.bind(cf_e("debug",conf),function(){return debug(conf,"Carousel width: "+opts.width),debug(conf,"Carousel height: "+opts.height),debug(conf,"Item widths: "+opts.items.width),debug(conf,"Item heights: "+opts.items.height),debug(conf,"Number of items visible: "+opts.items.visible),opts.auto.play&&debug(conf,"Number of items scrolled automatically: "+opts.auto.items),opts.prev.button&&debug(conf,"Number of items scrolled backward: "+opts.prev.items),opts.next.button&&debug(conf,"Number of items scrolled forward: "+opts.next.items),conf.debug}),$cfs.bind("_cfs_triggerEvent",function(t,e,i){return t.stopPropagation(),$cfs.triggerHandler(cf_e(e,conf),i)})},FN._unbind_events=function(){$cfs.unbind(cf_e("",conf)),$cfs.unbind(cf_e("",conf,!1)),$cfs.unbind("_cfs_triggerEvent")},FN._bind_buttons=function(){if(FN._unbind_buttons(),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),opts.auto.pauseOnHover){var t=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),t)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button&&opts.auto.button.bind(cf_e(opts.auto.event,conf,!1),function(t){t.preventDefault();var e=!1,i=null;crsl.isPaused?e="play":opts.auto.pauseOnEvent&&(e="pause",i=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)),e&&$cfs.trigger(cf_e(e,conf),i)}),opts.prev.button&&(opts.prev.button.bind(cf_e(opts.prev.event,conf,!1),function(t){t.preventDefault(),$cfs.trigger(cf_e("prev",conf))}),opts.prev.pauseOnHover)){var t=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),t)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.next.button&&(opts.next.button.bind(cf_e(opts.next.event,conf,!1),function(t){t.preventDefault(),$cfs.trigger(cf_e("next",conf))}),opts.next.pauseOnHover)){var t=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),t)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.pagination.container&&opts.pagination.pauseOnHover){var t=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),t)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if((opts.prev.key||opts.next.key)&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(t){var e=t.keyCode;e==opts.next.key&&(t.preventDefault(),$cfs.trigger(cf_e("next",conf))),e==opts.prev.key&&(t.preventDefault(),$cfs.trigger(cf_e("prev",conf)))}),opts.pagination.keys&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(t){var e=t.keyCode;e>=49&&58>e&&(e=(e-49)*opts.items.visible,itms.total>=e&&(t.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[e,0,!0,opts.pagination])))}),$.fn.swipe){var e="ontouchstart"in window;if(e&&opts.swipe.onTouch||!e&&opts.swipe.onMouse){var i=$.extend(!0,{},opts.prev,opts.swipe),o=$.extend(!0,{},opts.next,opts.swipe),n=function(){$cfs.trigger(cf_e("prev",conf),[i])},r=function(){$cfs.trigger(cf_e("next",conf),[o])};switch(opts.direction){case"up":case"down":opts.swipe.options.swipeUp=r,opts.swipe.options.swipeDown=n;break;default:opts.swipe.options.swipeLeft=r,opts.swipe.options.swipeRight=n}crsl.swipe&&$cfs.swipe("destroy"),$wrp.swipe(opts.swipe.options),$wrp.css("cursor","move"),crsl.swipe=!0}}if($.fn.mousewheel&&opts.mousewheel){var s=$.extend(!0,{},opts.prev,opts.mousewheel),a=$.extend(!0,{},opts.next,opts.mousewheel);crsl.mousewheel&&$wrp.unbind(cf_e("mousewheel",conf,!1)),$wrp.bind(cf_e("mousewheel",conf,!1),function(t,e){t.preventDefault(),e>0?$cfs.trigger(cf_e("prev",conf),[s]):$cfs.trigger(cf_e("next",conf),[a])}),crsl.mousewheel=!0}if(opts.auto.play&&$cfs.trigger(cf_e("play",conf),opts.auto.delay),crsl.upDateOnWindowResize){var l=function(){$cfs.trigger(cf_e("finish",conf)),opts.auto.pauseOnResize&&!crsl.isPaused&&$cfs.trigger(cf_e("play",conf)),sz_resetMargin($cfs.children(),opts),$cfs.trigger(cf_e("updateSizes",conf))},c=$(window),u=null;if($.debounce&&"debounce"==conf.onWindowResize)u=$.debounce(200,l);else if($.throttle&&"throttle"==conf.onWindowResize)u=$.throttle(300,l);else{var p=0,d=0;u=function(){var t=c.width(),e=c.height();(t!=p||e!=d)&&(l(),p=t,d=e)}}c.bind(cf_e("resize",conf,!1,!0,!0),u)}},FN._unbind_buttons=function(){var t=(cf_e("",conf),cf_e("",conf,!1));ns3=cf_e("",conf,!1,!0,!0),$(document).unbind(ns3),$(window).unbind(ns3),$wrp.unbind(t),opts.auto.button&&opts.auto.button.unbind(t),opts.prev.button&&opts.prev.button.unbind(t),opts.next.button&&opts.next.button.unbind(t),opts.pagination.container&&(opts.pagination.container.unbind(t),opts.pagination.anchorBuilder&&opts.pagination.container.children().remove()),crsl.swipe&&($cfs.swipe("destroy"),$wrp.css("cursor","default"),crsl.swipe=!1),crsl.mousewheel&&(crsl.mousewheel=!1),nv_showNavi(opts,"hide",conf),nv_enableNavi(opts,"removeClass",conf)},is_boolean(configs)&&(configs={debug:configs});var crsl={direction:"next",isPaused:!0,isScrolling:!1,isStopped:!1,mousewheel:!1,swipe:!1},itms={total:$cfs.children().length,first:0},tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0},scrl={isStopped:!1,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(!0,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=$.extend(!0,{},options),$wrp="parent"==conf.wrapper?$cfs.parent():$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();if(conf.selector=$cfs.selector,conf.serialNumber=$.fn.carouFredSel.serialNumber++,conf.transition=conf.transition&&$.fn.transition?"transition":"animate",FN._init(opts_orig,!0,starting_position),FN._build(),FN._bind_events(),FN._bind_buttons(),is_array(opts.items.start))var start_arr=opts.items.start;else{var start_arr=[];0!=opts.items.start&&start_arr.push(opts.items.start)}if(opts.cookie&&start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10)),start_arr.length>0)for(var a=0,l=start_arr.length;l>a;a++){var s=start_arr[a];if(0!=s){if(s===!0){if(s=window.location.hash,1>s.length)continue}else"random"===s&&(s=Math.floor(Math.random()*itms.total));if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,!0,{fx:"none"}]))break}}var siz=sz_setSizes($cfs,opts),itm=gi_getCurrentItems($cfs.children(),opts);return opts.onCreate&&opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm}),$cfs.trigger(cf_e("updatePageStatus",conf),[!0,siz]),$cfs.trigger(cf_e("linkAnchors",conf)),conf.debug&&$cfs.trigger(cf_e("debug",conf)),$cfs},$.fn.carouFredSel.serialNumber=1,$.fn.carouFredSel.defaults={synchronise:!1,infinite:!0,circular:!0,responsive:!1,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:!1,event:"click",queue:!1}},$.fn.carouFredSel.configs={debug:!1,transition:!1,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}},$.fn.carouFredSel.pageAnchorBuilder=function(t){return'<a href="#"><span>'+t+"</span></a>"},$.fn.carouFredSel.progressbarUpdater=function(t){$(this).css("width",t+"%")},$.fn.carouFredSel.cookie={get:function(t){t+="=";for(var e=document.cookie.split(";"),i=0,o=e.length;o>i;i++){for(var n=e[i];" "==n.charAt(0);)n=n.slice(1);if(0==n.indexOf(t))return n.slice(t.length)}return 0},set:function(t,e,i){var o="";if(i){var n=new Date;n.setTime(n.getTime()+1e3*60*60*24*i),o="; expires="+n.toGMTString()}document.cookie=t+"="+e+o+"; path=/"},remove:function(t){$.fn.carouFredSel.cookie.set(t,"",-1)}},$.extend($.easing,{quadratic:function(t){var e=t*t;return t*(-e*t+4*e-6*t+4)},cubic:function(t){return t*(4*t*t-9*t+6)},elastic:function(t){var e=t*t;return t*(33*e*e-106*e*t+126*e-67*t+15)}}))})(jQuery);(function(t){if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],t)}else{t(jQuery)}})(function(Pt){var Ct="left",Et="right",Mt="up",Lt="down",jt="in",Ot="out",Rt="none",Dt="auto",Nt="swipe",Wt="pinch",Ht="tap",At="doubletap",qt="longtap",t="hold",Ft="horizontal",Bt="vertical",Yt="all",Xt=10,Vt="start",Qt="move",Ut="end",Gt="cancel",Zt="ontouchstart"in window,Kt=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,Jt=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,te="TouchSwipe";var e={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:true};Pt.fn.swipe=function(t){var e=Pt(this),i=e.data(te);if(i&&typeof t==="string"){if(i[t]){return i[t].apply(this,Array.prototype.slice.call(arguments,1))}else{Pt.error("Method "+t+" does not exist on jQuery.swipe")}}else{if(!i&&(typeof t==="object"||!t)){return o.apply(this,arguments)}}return e};Pt.fn.swipe.defaults=e;Pt.fn.swipe.phases={PHASE_START:Vt,PHASE_MOVE:Qt,PHASE_END:Ut,PHASE_CANCEL:Gt};Pt.fn.swipe.directions={LEFT:Ct,RIGHT:Et,UP:Mt,DOWN:Lt,IN:jt,OUT:Ot};Pt.fn.swipe.pageScroll={NONE:Rt,HORIZONTAL:Ft,VERTICAL:Bt,AUTO:Dt};Pt.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:Yt};function o(i){if(i&&(i.allowPageScroll===undefined&&(i.swipe!==undefined||i.swipeStatus!==undefined))){i.allowPageScroll=Rt}if(i.click!==undefined&&i.tap===undefined){i.tap=i.click}if(!i){i={}}i=Pt.extend({},Pt.fn.swipe.defaults,i);return this.each(function(){var t=Pt(this);var e=t.data(te);if(!e){e=new n(this,i);t.data(te,e)}})}function n(t,a){var e=Zt||Jt||!a.fallbackToMouseEvents,i=e?Jt?Kt?"MSPointerDown":"pointerdown":"touchstart":"mousedown",o=e?Jt?Kt?"MSPointerMove":"pointermove":"touchmove":"mousemove",n=e?Jt?Kt?"MSPointerUp":"pointerup":"touchend":"mouseup",r=e?null:"mouseleave",s=Jt?Kt?"MSPointerCancel":"pointercancel":"touchcancel";var l=0,c=null,u=0,p=0,d=0,f=1,h=0,m=0,g=null;var v=Pt(t);var y="start";var _=0;var b=null;var w=0,x=0,S=0,z=0,T=0;var k=null,$=null;try{v.bind(i,I);v.bind(s,E)}catch(t){Pt.error("events not supported "+i+","+s+" on jQuery.swipe")}this.enable=function(){v.bind(i,I);v.bind(s,E);return v};this.disable=function(){L();return v};this.destroy=function(){L();v.data(te,null);v=null};this.option=function(t,e){if(a[t]!==undefined){if(e===undefined){return a[t]}else{a[t]=e}}else{Pt.error("Option "+t+" does not exist on jQuery.swipe.options")}return null};function I(t){if(ct()){return}if(Pt(t.target).closest(a.excludedElements,v).length>0){return}var e=t.originalEvent?t.originalEvent:t;var i,o=Zt?e.touches[0]:e;y=Vt;if(Zt){_=e.touches.length}else{t.preventDefault()}l=0;c=null;m=null;u=0;p=0;d=0;f=1;h=0;b=ht();g=vt();at();if(!Zt||(_===a.fingers||a.fingers===Yt)||F()){pt(0,o);w=kt();if(_==2){pt(1,e.touches[1]);p=d=bt(b[0].start,b[1].start)}if(a.swipeStatus||a.pinchStatus){i=O(e,y)}}else{i=false}if(i===false){y=Gt;O(e,y);return i}else{if(a.hold){$=setTimeout(Pt.proxy(function(){v.trigger("hold",[e.target]);if(a.hold){i=a.hold.call(v,e,e.target)}},this),a.longTapThreshold)}ut(true)}return null}function P(t){var e=t.originalEvent?t.originalEvent:t;if(y===Ut||y===Gt||lt()){return}var i,o=Zt?e.touches[0]:e;var n=dt(o);x=kt();if(Zt){_=e.touches.length}if(a.hold){clearTimeout($)}y=Qt;if(_==2){if(p==0){pt(1,e.touches[1]);p=d=bt(b[0].start,b[1].start)}else{dt(e.touches[1]);d=bt(b[0].end,b[1].end);m=xt(b[0].end,b[1].end)}f=wt(p,d);h=Math.abs(p-d)}if(_===a.fingers||a.fingers===Yt||!Zt||F()){c=Tt(n.start,n.end);A(t,c);l=St(n.start,n.end);u=_t();mt(c,l);if(a.swipeStatus||a.pinchStatus){i=O(e,y)}if(!a.triggerOnTouchEnd||a.triggerOnTouchLeave){var r=true;if(a.triggerOnTouchLeave){var s=$t(this);r=It(n.end,s)}if(!a.triggerOnTouchEnd&&r){y=j(Qt)}else{if(a.triggerOnTouchLeave&&!r){y=j(Ut)}}if(y==Gt||y==Ut){O(e,y)}}}else{y=Gt;O(e,y)}if(i===false){y=Gt;O(e,y)}}function C(t){var e=t.originalEvent;if(Zt){if(e.touches.length>0){st();return true}}if(lt()){_=z}x=kt();u=_t();if(N()||!D()){y=Gt;O(e,y)}else{if(a.triggerOnTouchEnd||a.triggerOnTouchEnd==false&&y===Qt){t.preventDefault();y=Ut;O(e,y)}else{if(!a.triggerOnTouchEnd&&G()){y=Ut;R(e,y,Ht)}else{if(y===Qt){y=Gt;O(e,y)}}}}ut(false);return null}function E(){_=0;x=0;w=0;p=0;d=0;f=1;at();ut(false)}function M(t){var e=t.originalEvent;if(a.triggerOnTouchLeave){y=j(Ut);O(e,y)}}function L(){v.unbind(i,I);v.unbind(s,E);v.unbind(o,P);v.unbind(n,C);if(r){v.unbind(r,M)}ut(false)}function j(t){var e=t;var i=H();var o=D();var n=N();if(!i||n){e=Gt}else{if(o&&t==Qt&&(!a.triggerOnTouchEnd||a.triggerOnTouchLeave)){e=Ut}else{if(!o&&t==Ut&&a.triggerOnTouchLeave){e=Gt}}}return e}function O(t,e){var i=undefined;if(V()||X()||(B()||F())){if(V()||X()){i=R(t,e,Nt)}if((B()||F())&&i!==false){i=R(t,e,Wt)}}else{if(nt()&&i!==false){i=R(t,e,At)}else{if(rt()&&i!==false){i=R(t,e,qt)}else{if(ot()&&i!==false){i=R(t,e,Ht)}}}}if(e===Gt){E(t)}if(e===Ut){if(Zt){if(t.touches.length==0){E(t)}}else{E(t)}}return i}function R(t,e,i){var o=undefined;if(i==Nt){v.trigger("swipeStatus",[e,c||null,l||0,u||0,_,b]);if(a.swipeStatus){o=a.swipeStatus.call(v,t,e,c||null,l||0,u||0,_,b);if(o===false){return false}}if(e==Ut&&Y()){v.trigger("swipe",[c,l,u,_,b]);if(a.swipe){o=a.swipe.call(v,t,c,l,u,_,b);if(o===false){return false}}switch(c){case Ct:v.trigger("swipeLeft",[c,l,u,_,b]);if(a.swipeLeft){o=a.swipeLeft.call(v,t,c,l,u,_,b)}break;case Et:v.trigger("swipeRight",[c,l,u,_,b]);if(a.swipeRight){o=a.swipeRight.call(v,t,c,l,u,_,b)}break;case Mt:v.trigger("swipeUp",[c,l,u,_,b]);if(a.swipeUp){o=a.swipeUp.call(v,t,c,l,u,_,b)}break;case Lt:v.trigger("swipeDown",[c,l,u,_,b]);if(a.swipeDown){o=a.swipeDown.call(v,t,c,l,u,_,b)}break}}}if(i==Wt){v.trigger("pinchStatus",[e,m||null,h||0,u||0,_,f,b]);if(a.pinchStatus){o=a.pinchStatus.call(v,t,e,m||null,h||0,u||0,_,f,b);if(o===false){return false}}if(e==Ut&&q()){switch(m){case jt:v.trigger("pinchIn",[m||null,h||0,u||0,_,f,b]);if(a.pinchIn){o=a.pinchIn.call(v,t,m||null,h||0,u||0,_,f,b)}break;case Ot:v.trigger("pinchOut",[m||null,h||0,u||0,_,f,b]);if(a.pinchOut){o=a.pinchOut.call(v,t,m||null,h||0,u||0,_,f,b)}break}}}if(i==Ht){if(e===Gt||e===Ut){clearTimeout(k);clearTimeout($);if(Z()&&!tt()){T=kt();k=setTimeout(Pt.proxy(function(){T=null;v.trigger("tap",[t.target]);if(a.tap){o=a.tap.call(v,t,t.target)}},this),a.doubleTapThreshold)}else{T=null;v.trigger("tap",[t.target]);if(a.tap){o=a.tap.call(v,t,t.target)}}}}else{if(i==At){if(e===Gt||e===Ut){clearTimeout(k);T=null;v.trigger("doubletap",[t.target]);if(a.doubleTap){o=a.doubleTap.call(v,t,t.target)}}}else{if(i==qt){if(e===Gt||e===Ut){clearTimeout(k);T=null;v.trigger("longtap",[t.target]);if(a.longTap){o=a.longTap.call(v,t,t.target)}}}}}return o}function D(){var t=true;if(a.threshold!==null){t=l>=a.threshold}return t}function N(){var t=false;if(a.cancelThreshold!==null&&c!==null){t=gt(c)-l>=a.cancelThreshold}return t}function W(){if(a.pinchThreshold!==null){return h>=a.pinchThreshold}return true}function H(){var t;if(a.maxTimeThreshold){if(u>=a.maxTimeThreshold){t=false}else{t=true}}else{t=true}return t}function A(t,e){if(a.preventDefaultEvents===false){return}if(a.allowPageScroll===Rt){t.preventDefault()}else{var i=a.allowPageScroll===Dt;switch(e){case Ct:if(a.swipeLeft&&i||!i&&a.allowPageScroll!=Ft){t.preventDefault()}break;case Et:if(a.swipeRight&&i||!i&&a.allowPageScroll!=Ft){t.preventDefault()}break;case Mt:if(a.swipeUp&&i||!i&&a.allowPageScroll!=Bt){t.preventDefault()}break;case Lt:if(a.swipeDown&&i||!i&&a.allowPageScroll!=Bt){t.preventDefault()}break}}}function q(){var t=Q();var e=U();var i=W();return t&&e&&i}function F(){return!!(a.pinchStatus||a.pinchIn||a.pinchOut)}function B(){return!!(q()&&F())}function Y(){var t=H();var e=D();var i=Q();var o=U();var n=N();var r=!n&&o&&i&&e&&t;return r}function X(){return!!(a.swipe||a.swipeStatus||a.swipeLeft||a.swipeRight||a.swipeUp||a.swipeDown)}function V(){return!!(Y()&&X())}function Q(){return _===a.fingers||a.fingers===Yt||!Zt}function U(){return b[0].end.x!==0}function G(){return!!a.tap}function Z(){return!!a.doubleTap}function K(){return!!a.longTap}function J(){if(T==null){return false}var t=kt();return Z()&&t-T<=a.doubleTapThreshold}function tt(){return J()}function et(){return(_===1||!Zt)&&(isNaN(l)||l<a.threshold)}function it(){return u>a.longTapThreshold&&l<Xt}function ot(){return!!(et()&&G())}function nt(){return!!(J()&&Z())}function rt(){return!!(it()&&K())}function st(){S=kt();z=event.touches.length+1}function at(){S=0;z=0}function lt(){var t=false;if(S){var e=kt()-S;if(e<=a.fingerReleaseThreshold){t=true}}return t}function ct(){return!!(v.data(te+"_intouch")===true)}function ut(t){if(t===true){v.bind(o,P);v.bind(n,C);if(r){v.bind(r,M)}}else{v.unbind(o,P,false);v.unbind(n,C,false);if(r){v.unbind(r,M,false)}}v.data(te+"_intouch",t===true)}function pt(t,e){var i=e.identifier!==undefined?e.identifier:0;b[t].identifier=i;b[t].start.x=b[t].end.x=e.pageX||e.clientX;b[t].start.y=b[t].end.y=e.pageY||e.clientY;return b[t]}function dt(t){var e=t.identifier!==undefined?t.identifier:0;var i=ft(e);i.end.x=t.pageX||t.clientX;i.end.y=t.pageY||t.clientY;return i}function ft(t){for(var e=0;e<b.length;e++){if(b[e].identifier==t){return b[e]}}}function ht(){var t=[];for(var e=0;e<=5;e++){t.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0})}return t}function mt(t,e){e=Math.max(e,gt(t));g[t].distance=e}function gt(t){if(g[t]){return g[t].distance}return undefined}function vt(){var t={};t[Ct]=yt(Ct);t[Et]=yt(Et);t[Mt]=yt(Mt);t[Lt]=yt(Lt);return t}function yt(t){return{direction:t,distance:0}}function _t(){return x-w}function bt(t,e){var i=Math.abs(t.x-e.x);var o=Math.abs(t.y-e.y);return Math.round(Math.sqrt(i*i+o*o))}function wt(t,e){var i=e/t*1;return i.toFixed(2)}function xt(){if(f<1){return Ot}else{return jt}}function St(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}function zt(t,e){var i=t.x-e.x;var o=e.y-t.y;var n=Math.atan2(o,i);var r=Math.round(n*180/Math.PI);if(r<0){r=360-Math.abs(r)}return r}function Tt(t,e){var i=zt(t,e);if(i<=45&&i>=0){return Ct}else{if(i<=360&&i>=315){return Ct}else{if(i>=135&&i<=225){return Et}else{if(i>45&&i<135){return Lt}else{return Mt}}}}}function kt(){var t=new Date;return t.getTime()}function $t(t){t=Pt(t);var e=t.offset();var i={left:e.left,right:e.left+t.outerWidth(),top:e.top,bottom:e.top+t.outerHeight()};return i}function It(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}}});(function(_){_.fn.visible=function(t,e,i){var o=_(this).eq(0),n=o.get(0),r=_(window),s=r.scrollTop(),a=s+r.height(),l=r.scrollLeft(),c=l+r.width(),u=o.offset().top,p=u+o.height(),d=o.offset().left,f=d+o.width(),h=t===true?p:u,m=t===true?u:p,g=t===true?f:d,v=t===true?d:f,y=e===true?n.offsetWidth*n.offsetHeight:true,i=i?i:"both";if(i==="both")return!!y&&m<=a&&h>=s&&v<=c&&g>=l;else if(i==="vertical")return!!y&&m<=a&&h>=s;else if(i==="horizontal")return!!y&&v<=c&&g>=l}})(jQuery);(function(){var t=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++){if(e in this&&this[e]===t)return e}return-1},_=[].slice;(function(e,i){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(t){return i(t,e)})}else{return i(e.jQuery,e)}})(this,function(l,r){var e,s,a,c,i,u,p,n,d,o,f,h,m,g,v,y;e=l(r);n=t.call(r,"ontouchstart")>=0;c={horizontal:{},vertical:{}};i=1;p={};u="waypoints-context-id";f="resize.waypoints";h="scroll.waypoints";m=1;g="waypoints-waypoint-ids";v="waypoint";y="waypoints";s=function(){function t(t){var e=this;this.$element=t;this.element=t[0];this.didResize=false;this.didScroll=false;this.id="context"+i++;this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()};this.waypoints={horizontal:{},vertical:{}};t.data(u,this.id);p[this.id]=this;t.bind(h,function(){var t;if(!(e.didScroll||n)){e.didScroll=true;t=function(){e.doScroll();return e.didScroll=false};return r.setTimeout(t,l[y].settings.scrollThrottle)}});t.bind(f,function(){var t;if(!e.didResize){e.didResize=true;t=function(){l[y]("refresh");return e.didResize=false};return r.setTimeout(t,l[y].settings.resizeThrottle)}})}t.prototype.doScroll=function(){var t,o=this;t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(n&&(!t.vertical.oldScroll||!t.vertical.newScroll)){l[y]("refresh")}l.each(t,function(t,n){var i,e,r;r=[];e=n.newScroll>n.oldScroll;i=e?n.forward:n.backward;l.each(o.waypoints[t],function(t,e){var i,o;if(n.oldScroll<(i=e.offset)&&i<=n.newScroll){return r.push(e)}else if(n.newScroll<(o=e.offset)&&o<=n.oldScroll){return r.push(e)}});r.sort(function(t,e){return t.offset-e.offset});if(!e){r.reverse()}return l.each(r,function(t,e){if(e.options.continuous||t===r.length-1){return e.trigger([i])}})});return this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}};t.prototype.refresh=function(){var t,e,i,o=this;i=l.isWindow(this.element);e=this.$element.offset();this.doScroll();t={horizontal:{contextOffset:i?0:e.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:e.top,contextScroll:i?0:this.oldScroll.y,contextDimension:i?l[y]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return l.each(t,function(t,a){return l.each(o.waypoints[t],function(t,e){var i,o,n,r,s;i=e.options.offset;n=e.offset;o=l.isWindow(e.element)?0:e.$element.offset()[a.offsetProp];if(l.isFunction(i)){i=i.apply(e.element)}else if(typeof i==="string"){i=parseFloat(i);if(e.options.offset.indexOf("%")>-1){i=Math.ceil(a.contextDimension*i/100)}}e.offset=o-a.contextOffset+a.contextScroll-i;if(e.options.onlyOnScroll&&n!=null||!e.enabled){return}if(n!==null&&n<(r=a.oldScroll)&&r<=e.offset){return e.trigger([a.backward])}else if(n!==null&&n>(s=a.oldScroll)&&s>=e.offset){return e.trigger([a.forward])}else if(n===null&&a.oldScroll>=e.offset){return e.trigger([a.forward])}})})};t.prototype.checkEmpty=function(){if(l.isEmptyObject(this.waypoints.horizontal)&&l.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([f,h].join(" "));return delete p[this.id]}};return t}();a=function(){function t(t,e,i){var o,n;i=l.extend({},l.fn[v].defaults,i);if(i.offset==="bottom-in-view"){i.offset=function(){var t;t=l[y]("viewportHeight");if(!l.isWindow(e.element)){t=e.$element.height()}return t-l(this).outerHeight()}}this.$element=t;this.element=t[0];this.axis=i.horizontal?"horizontal":"vertical";this.callback=i.handler;this.context=e;this.enabled=i.enabled;this.id="waypoints"+m++;this.offset=null;this.options=i;e.waypoints[this.axis][this.id]=this;c[this.axis][this.id]=this;o=(n=t.data(g))!=null?n:[];o.push(this.id);t.data(g,o)}t.prototype.trigger=function(t){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,t)}if(this.options.triggerOnce){return this.destroy()}};t.prototype.disable=function(){return this.enabled=false};t.prototype.enable=function(){this.context.refresh();return this.enabled=true};t.prototype.destroy=function(){delete c[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};t.getWaypointsByElement=function(t){var e,i;i=l(t).data(g);if(!i){return[]}e=l.extend({},c.horizontal,c.vertical);return l.map(i,function(t){return e[t]})};return t}();o={init:function(t,n){var e;if(n==null){n={}}if((e=n.handler)==null){n.handler=t}this.each(function(){var t,e,i,o;t=l(this);i=(o=n.context)!=null?o:l.fn[v].defaults.context;if(!l.isWindow(i)){i=t.closest(i)}i=l(i);e=p[i.data(u)];if(!e){e=new s(i)}return new a(t,e,n)});l[y]("refresh");return this},disable:function(){return o._invoke(this,"disable")},enable:function(){return o._invoke(this,"enable")},destroy:function(){return o._invoke(this,"destroy")},prev:function(t,e){return o._traverse.call(this,t,e,function(t,e,i){if(e>0){return t.push(i[e-1])}})},next:function(t,e){return o._traverse.call(this,t,e,function(t,e,i){if(e<i.length-1){return t.push(i[e+1])}})},_traverse:function(e,t,i){var o,n;if(e==null){e="vertical"}if(t==null){t=r}n=d.aggregate(t);o=[];this.each(function(){var t;t=l.inArray(this,n[e]);return i(o,t,n[e])});return this.pushStack(o)},_invoke:function(t,i){t.each(function(){var t;t=a.getWaypointsByElement(this);return l.each(t,function(t,e){e[i]();return true})});return this}};l.fn[v]=function(){var t,e;e=arguments[0],t=2<=arguments.length?_.call(arguments,1):[];if(o[e]){return o[e].apply(this,t)}else if(l.isFunction(e)){return o.init.apply(this,arguments)}else if(l.isPlainObject(e)){return o.init.apply(this,[null,e])}else if(!e){return l.error("jQuery Waypoints needs a callback function or handler option.")}else{return l.error("The "+e+" method does not exist in jQuery Waypoints.")}};l.fn[v].defaults={context:r,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};d={refresh:function(){return l.each(p,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return(t=r.innerHeight)!=null?t:e.height()},aggregate:function(t){var e,o,i;e=c;if(t){e=(i=p[l(t).data(u)])!=null?i.waypoints:void 0}if(!e){return[]}o={horizontal:[],vertical:[]};l.each(o,function(t,i){l.each(e[t],function(t,e){return i.push(e)});i.sort(function(t,e){return t.offset-e.offset});o[t]=l.map(i,function(t){return t.element});return o[t]=l.unique(o[t])});return o},above:function(t){if(t==null){t=r}return d._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){if(t==null){t=r}return d._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){if(t==null){t=r}return d._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){if(t==null){t=r}return d._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return d._invoke("enable")},disable:function(){return d._invoke("disable")},destroy:function(){return d._invoke("destroy")},extendFn:function(t,e){return o[t]=e},_invoke:function(i){var t;t=l.extend({},c.vertical,c.horizontal);return l.each(t,function(t,e){e[i]();return true})},_filter:function(t,e,i){var o,n;o=p[l(t).data(u)];if(!o){return[]}n=[];l.each(o.waypoints[e],function(t,e){if(i(o,e)){return n.push(e)}});n.sort(function(t,e){return t.offset-e.offset});return l.map(n,function(t){return t.element})}};l[y]=function(){var t,e;e=arguments[0],t=2<=arguments.length?_.call(arguments,1):[];if(d[e]){return d[e].apply(null,t)}else{return d.aggregate.call(null,e)}};l[y].settings={resizeThrottle:100,scrollThrottle:30};return e.load(function(){return l[y]("refresh")})})}).call(this);