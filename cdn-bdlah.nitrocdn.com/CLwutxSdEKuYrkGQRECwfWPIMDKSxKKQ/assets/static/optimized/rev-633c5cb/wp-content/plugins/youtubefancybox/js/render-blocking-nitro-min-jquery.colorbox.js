(function(f,s,a){var n={html:false,photo:false,iframe:false,inline:false,transition:"elastic",speed:300,fadeOut:300,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,opacity:.9,preloading:true,className:false,overlayClose:true,escKey:true,arrowKey:true,top:false,bottom:false,left:false,right:false,fixed:false,data:undefined,closeButton:true,fastIframe:true,open:false,reposition:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:false,retinaUrl:false,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:true,trapFocus:true,onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,rel:function(){return this.rel},href:function(){return f(this).attr("href")},title:function(){return this.title},createImg:function(){var i=new Image;var e=f(this).data("cbox-img-attrs");if(typeof e==="object"){f.each(e,function(e,t){i[e]=t})}return i},createIframe:function(){var i=s.createElement("iframe");var e=f(this).data("cbox-iframe-attrs");if(typeof e==="object"){f.each(e,function(e,t){i[e]=t})}if("frameBorder"in i){i.frameBorder=0}if("allowTransparency"in i){i.allowTransparency="true"}i.name=(new Date).getTime();i.allowFullscreen=true;i.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture";return i}},l="colorbox",d="cbox",o=d+"Element",h=d+"_open",c=d+"_load",u=d+"_complete",g=d+"_cleanup",p=d+"_closed",m=d+"_purge",w,v,y,x,b,T,C,H,k,W,E,I,M,L,r,F,R,S,K,P,B=f("<a/>"),O,_,j,D,N,z,A,q,U,$,G,Q,J="div",V=0,X={},t;function Y(e,t,i){var n=s.createElement(e);if(t){n.id=d+t}if(i){n.style.cssText=i}return f(n)}function Z(){return a.innerHeight?a.innerHeight:f(a).height()}function ee(e,i){if(i!==Object(i)){i={}}this.cache={};this.el=e;this.value=function(e){var t;if(this.cache[e]===undefined){t=f(this.el).attr("data-cbox-"+e);if(t!==undefined){this.cache[e]=t}else if(i[e]!==undefined){this.cache[e]=i[e]}else if(n[e]!==undefined){this.cache[e]=n[e]}}return this.cache[e]};this.get=function(e){var t=this.value(e);return f.isFunction(t)?t.call(this.el,this):t}}function te(e){var t=k.length,i=(z+e)%t;return i<0?t+i:i}function ie(e,t){return Math.round((/%/.test(e)?(t==="x"?W.width():Z())/100:1)*parseInt(e,10))}function ne(e,t){return e.get("photo")||e.get("photoRegex").test(t)}function oe(e,t){return e.get("retinaUrl")&&a.devicePixelRatio>1?t.replace(e.get("photoRegex"),e.get("retinaSuffix")):t}function re(e){if("contains"in v[0]&&!v[0].contains(e.target)&&e.target!==w[0]){e.stopPropagation();v.focus()}}function ae(e){if(ae.str!==e){v.add(w).removeClass(ae.str).addClass(e);ae.str=e}}function se(i){z=0;if(i&&i!==false&&i!=="nofollow"){k=f("."+o).filter(function(){var e=f.data(this,l);var t=new ee(this,e);return t.get("rel")===i});z=k.index(O.el);if(z===-1){k=k.add(O.el);z=k.length-1}}else{k=f(O.el)}}function le(e){f(s).trigger(e);B.triggerHandler(e)}var he=function(){var e,t=d+"Slideshow_",i="click."+d,n;function o(){clearTimeout(n)}function r(){if(O.get("loop")||k[z+1]){o();n=setTimeout(Q.next,O.get("slideshowSpeed"))}}function a(){F.html(O.get("slideshowStop")).unbind(i).one(i,s);B.bind(u,r).bind(c,o);v.removeClass(t+"off").addClass(t+"on")}function s(){o();B.unbind(u,r).unbind(c,o);F.html(O.get("slideshowStart")).unbind(i).one(i,function(){Q.next();a()});v.removeClass(t+"on").addClass(t+"off")}function l(){e=false;F.hide();o();B.unbind(u,r).unbind(c,o);v.removeClass(t+"off "+t+"on")}return function(){if(e){if(!O.get("slideshow")){B.unbind(g,l);l()}}else{if(O.get("slideshow")&&k[1]){e=true;B.one(g,l);if(O.get("slideshowAuto")){a()}else{s()}F.show()}}}}();function fe(e){var t;if(!$){t=f(e).data(l);O=new ee(e,t);se(O.get("rel"));if(!q){q=U=true;ae(O.get("className"));v.css({visibility:"hidden",display:"block",opacity:""});E=Y(J,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden");x.css({width:"",height:""}).append(E);_=b.height()+H.height()+x.outerHeight(true)-x.height();j=T.width()+C.width()+x.outerWidth(true)-x.width();D=E.outerHeight(true);N=E.outerWidth(true);var i=ie(O.get("initialWidth"),"x");var n=ie(O.get("initialHeight"),"y");var o=O.get("maxWidth");var r=O.get("maxHeight");O.w=Math.max((o!==false?Math.min(i,ie(o,"x")):i)-N-j,0);O.h=Math.max((r!==false?Math.min(n,ie(r,"y")):n)-D-_,0);E.css({width:"",height:O.h});Q.position();le(h);O.get("onOpen");P.add(L).hide();v.focus();if(O.get("trapFocus")){if(s.addEventListener){s.addEventListener("focus",re,true);B.one(p,function(){s.removeEventListener("focus",re,true)})}}if(O.get("returnFocus")){B.one(p,function(){f(O.el).focus()})}}var a=parseFloat(O.get("opacity"));w.css({opacity:a===a?a:"",cursor:O.get("overlayClose")?"pointer":"",visibility:"visible"}).show();if(O.get("closeButton")){K.html(O.get("close")).appendTo(x)}else{K.appendTo("<div/>")}ue()}}function de(){if(!v){t=false;W=f(a);v=Y(J).attr({id:l,class:f.support.opacity===false?d+"IE":"",role:"dialog",tabindex:"-1"}).hide();w=Y(J,"Overlay").hide();M=f([Y(J,"LoadingOverlay")[0],Y(J,"LoadingGraphic")[0]]);y=Y(J,"Wrapper");x=Y(J,"Content").append(L=Y(J,"Title"),r=Y(J,"Current"),S=f('<button type="button"/>').attr({id:d+"Previous"}),R=f('<button type="button"/>').attr({id:d+"Next"}),F=f('<button type="button"/>').attr({id:d+"Slideshow"}),M);K=f('<button type="button"/>').attr({id:d+"Close"});y.append(Y(J).append(Y(J,"TopLeft"),b=Y(J,"TopCenter"),Y(J,"TopRight")),Y(J,false,"clear:left").append(T=Y(J,"MiddleLeft"),x,C=Y(J,"MiddleRight")),Y(J,false,"clear:left").append(Y(J,"BottomLeft"),H=Y(J,"BottomCenter"),Y(J,"BottomRight"))).find("div div").css({float:"left"});I=Y(J,false,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;");P=R.add(S).add(r).add(F)}if(s.body&&!v.parent().length){f(s.body).append(w,v.append(y,I))}}function ce(){function e(e){if(!(e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)){e.preventDefault();fe(this)}}if(v){if(!t){t=true;R.click(function(){Q.next()});S.click(function(){Q.prev()});K.click(function(){Q.close()});w.click(function(){if(O.get("overlayClose")){Q.close()}});f(s).bind("keydown."+d,function(e){var t=e.keyCode;if(q&&O.get("escKey")&&t===27){e.preventDefault();Q.close()}if(q&&O.get("arrowKey")&&k[1]&&!e.altKey){if(t===37){e.preventDefault();S.click()}else if(t===39){e.preventDefault();R.click()}}});if(f.isFunction(f.fn.on)){f(s).on("click."+d,"."+o,e)}else{f("."+o).live("click."+d,e)}}return true}return false}if(f[l]){return}f(de);Q=f.fn[l]=f[l]=function(t,e){var i;var n=this;t=t||{};if(f.isFunction(n)){n=f("<a/>");t.open=true}if(!n[0]){return n}de();if(ce()){if(e){t.onComplete=e}n.each(function(){var e=f.data(this,l)||{};f.data(this,l,f.extend(e,t))}).addClass(o);i=new ee(n[0],t);if(i.get("open")){fe(n[0])}}return n};Q.position=function(t,e){var i,n=0,o=0,r=v.offset(),a,s;W.unbind("resize."+d);v.css({top:-9e4,left:-9e4});a=W.scrollTop();s=W.scrollLeft();if(O.get("fixed")){r.top-=a;r.left-=s;v.css({position:"fixed"})}else{n=a;o=s;v.css({position:"absolute"})}if(O.get("right")!==false){o+=Math.max(W.width()-O.w-N-j-ie(O.get("right"),"x"),0)}else if(O.get("left")!==false){o+=ie(O.get("left"),"x")}else{o+=Math.round(Math.max(W.width()-O.w-N-j,0)/2)}if(O.get("bottom")!==false){n+=Math.max(Z()-O.h-D-_-ie(O.get("bottom"),"y"),0)}else if(O.get("top")!==false){n+=ie(O.get("top"),"y")}else{n+=Math.round(Math.max(Z()-O.h-D-_,0)/2)}v.css({top:r.top,left:r.left,visibility:"visible"});y[0].style.width=y[0].style.height="9999px";function l(){b[0].style.width=H[0].style.width=x[0].style.width=parseInt(v[0].style.width,10)-j+"px";x[0].style.height=T[0].style.height=C[0].style.height=parseInt(v[0].style.height,10)-_+"px"}i={width:O.w+N+j,height:O.h+D+_,top:n,left:o};if(t){var h=0;f.each(i,function(e){if(i[e]!==X[e]){h=t;return}});t=h}X=i;if(!t){v.css(i)}v.dequeue().animate(i,{duration:t||0,complete:function(){l();U=false;y[0].style.width=O.w+N+j+"px";y[0].style.height=O.h+D+_+"px";if(O.get("reposition")){setTimeout(function(){W.bind("resize."+d,Q.position)},1)}if(f.isFunction(e)){e()}},step:l})};Q.resize=function(e){var t;if(q){e=e||{};if(e.width){O.w=ie(e.width,"x")-N-j}if(e.innerWidth){O.w=ie(e.innerWidth,"x")}E.css({width:O.w});if(e.height){O.h=ie(e.height,"y")-D-_}if(e.innerHeight){O.h=ie(e.innerHeight,"y")}if(!e.innerHeight&&!e.height){t=E.scrollTop();E.css({height:"auto"});O.h=E.height()}E.css({height:O.h});if(t){E.scrollTop(t)}Q.position(O.get("transition")==="none"?0:O.get("speed"))}};Q.prep=function(e){if(!q){return}var t,o=O.get("transition")==="none"?0:O.get("speed");E.remove();E=Y(J,"LoadedContent").append(e);function i(){O.w=O.w||E.width();O.w=O.mw&&O.mw<O.w?O.mw:O.w;return O.w}function n(){O.h=O.h||E.height();O.h=O.mh&&O.mh<O.h?O.mh:O.h;return O.h}E.hide().appendTo(I.show()).css({width:i(),overflow:O.get("scrolling")?"auto":"hidden"}).css({height:n()}).prependTo(x);I.hide();f(A).css({float:"none"});ae(O.get("className"));t=function(){var e=k.length,t,i;if(!q){return}function n(){if(f.support.opacity===false){v[0].style.removeAttribute("filter")}}i=function(){clearTimeout(G);M.hide();le(u);O.get("onComplete")};L.html(O.get("title")).show();E.show();if(e>1){if(typeof O.get("current")==="string"){r.html(O.get("current").replace("{current}",z+1).replace("{total}",e)).show()}R[O.get("loop")||z<e-1?"show":"hide"]().html(O.get("next"));S[O.get("loop")||z?"show":"hide"]().html(O.get("previous"));he();if(O.get("preloading")){f.each([te(-1),te(1)],function(){var e,t=k[this],i=new ee(t,f.data(t,l)),n=i.get("href");if(n&&ne(i,n)){n=oe(i,n);e=s.createElement("img");e.src=n}})}}else{P.hide()}if(O.get("iframe")){t=O.get("createIframe");if(!O.get("scrolling")){t.scrolling="no"}f(t).attr({src:O.get("href"),class:d+"Iframe"}).one("load",i).appendTo(E);B.one(m,function(){t.src="//about:blank"});if(O.get("fastIframe")){f(t).trigger("load")}}else{i()}if(O.get("transition")==="fade"){v.fadeTo(o,1,n)}else{n()}};if(O.get("transition")==="fade"){v.fadeTo(o,0,function(){Q.position(0,t)})}else{Q.position(o,t)}};function ue(){var e,t,i=Q.prep,n,o=++V;U=true;A=false;le(m);le(c);O.get("onLoad");O.h=O.get("height")?ie(O.get("height"),"y")-D-_:O.get("innerHeight")&&ie(O.get("innerHeight"),"y");O.w=O.get("width")?ie(O.get("width"),"x")-N-j:O.get("innerWidth")&&ie(O.get("innerWidth"),"x");O.mw=O.w;O.mh=O.h;if(O.get("maxWidth")){O.mw=ie(O.get("maxWidth"),"x")-N-j;O.mw=O.w&&O.w<O.mw?O.w:O.mw}if(O.get("maxHeight")){O.mh=ie(O.get("maxHeight"),"y")-D-_;O.mh=O.h&&O.h<O.mh?O.h:O.mh}e=O.get("href");G=setTimeout(function(){M.show()},100);if(O.get("inline")){var r=f(e).eq(0);n=f("<div>").hide().insertBefore(r);B.one(m,function(){n.replaceWith(r)});i(r)}else if(O.get("iframe")){i(" ")}else if(O.get("html")){i(O.get("html"))}else if(ne(O,e)){e=oe(O,e);A=O.get("createImg");f(A).addClass(d+"Photo").bind("error."+d,function(){i(Y(J,"Error").html(O.get("imgError")))}).one("load",function(){if(o!==V){return}setTimeout(function(){var e;if(O.get("retinaImage")&&a.devicePixelRatio>1){A.height=A.height/a.devicePixelRatio;A.width=A.width/a.devicePixelRatio}if(O.get("scalePhotos")){t=function(){A.height-=A.height*e;A.width-=A.width*e};if(O.mw&&A.width>O.mw){e=(A.width-O.mw)/A.width;t()}if(O.mh&&A.height>O.mh){e=(A.height-O.mh)/A.height;t()}}if(O.h){A.style.marginTop=Math.max(O.mh-A.height,0)/2+"px"}if(k[1]&&(O.get("loop")||k[z+1])){A.style.cursor="pointer";f(A).bind("click."+d,function(){Q.next()})}A.style.width=A.width+"px";A.style.height=A.height+"px";i(A)},1)});A.src=e}else if(e){I.load(e,O.get("data"),function(e,t){if(o===V){i(t==="error"?Y(J,"Error").html(O.get("xhrError")):f(this).contents())}})}}Q.next=function(){if(!U&&k[1]&&(O.get("loop")||k[z+1])){z=te(1);fe(k[z])}};Q.prev=function(){if(!U&&k[1]&&(O.get("loop")||z)){z=te(-1);fe(k[z])}};Q.close=function(){if(q&&!$){$=true;q=false;le(g);O.get("onCleanup");W.unbind("."+d);w.fadeTo(O.get("fadeOut")||0,0);v.stop().fadeTo(O.get("fadeOut")||0,0,function(){v.hide();w.hide();le(m);E.remove();setTimeout(function(){$=false;le(p);O.get("onClosed")},1)})}};Q.remove=function(){if(!v){return}v.stop();f[l].close();v.stop(false,true).remove();w.remove();$=false;v=null;f("."+o).removeData(l).removeClass(o);f(s).unbind("click."+d).unbind("keydown."+d)};Q.element=function(){return f(O.el)};Q.settings=n})(jQuery,document,window);